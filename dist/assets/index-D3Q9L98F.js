var lT=Object.defineProperty;var uT=(n,e,t)=>e in n?lT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fs=(n,e,t)=>uT(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Ia(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var t1={exports:{}},Ku={},n1={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function cT(){if(jv)return st;jv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),C=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function O(j,M,se){this.props=j,this.context=M,this.refs=L,this.updater=se||b}O.prototype.isReactComponent={},O.prototype.setState=function(j,M){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,M,"setState")},O.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function q(j,M,se){this.props=j,this.context=M,this.refs=L,this.updater=se||b}var Z=q.prototype=new Y;Z.constructor=q,I(Z,O.prototype),Z.isPureReactComponent=!0;var ae=Array.isArray,ve=Object.prototype.hasOwnProperty,we={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function x(j,M,se){var le,he={},pe=null,Pe=null;if(M!=null)for(le in M.ref!==void 0&&(Pe=M.ref),M.key!==void 0&&(pe=""+M.key),M)ve.call(M,le)&&!U.hasOwnProperty(le)&&(he[le]=M[le]);var ke=arguments.length-2;if(ke===1)he.children=se;else if(1<ke){for(var Te=Array(ke),Ye=0;Ye<ke;Ye++)Te[Ye]=arguments[Ye+2];he.children=Te}if(j&&j.defaultProps)for(le in ke=j.defaultProps,ke)he[le]===void 0&&(he[le]=ke[le]);return{$$typeof:n,type:j,key:pe,ref:Pe,props:he,_owner:we.current}}function P(j,M){return{$$typeof:n,type:j.type,key:M,ref:j.ref,props:j.props,_owner:j._owner}}function B(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function H(j){var M={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return M[se]})}var X=/\/+/g;function D(j,M){return typeof j=="object"&&j!==null&&j.key!=null?H(""+j.key):M.toString(36)}function nt(j,M,se,le,he){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var Pe=!1;if(j===null)Pe=!0;else switch(pe){case"string":case"number":Pe=!0;break;case"object":switch(j.$$typeof){case n:case e:Pe=!0}}if(Pe)return Pe=j,he=he(Pe),j=le===""?"."+D(Pe,0):le,ae(he)?(se="",j!=null&&(se=j.replace(X,"$&/")+"/"),nt(he,M,se,"",function(Ye){return Ye})):he!=null&&(B(he)&&(he=P(he,se+(!he.key||Pe&&Pe.key===he.key?"":(""+he.key).replace(X,"$&/")+"/")+j)),M.push(he)),1;if(Pe=0,le=le===""?".":le+":",ae(j))for(var ke=0;ke<j.length;ke++){pe=j[ke];var Te=le+D(pe,ke);Pe+=nt(pe,M,se,Te,he)}else if(Te=A(j),typeof Te=="function")for(j=Te.call(j),ke=0;!(pe=j.next()).done;)pe=pe.value,Te=le+D(pe,ke++),Pe+=nt(pe,M,se,Te,he);else if(pe==="object")throw M=String(j),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Pe}function St(j,M,se){if(j==null)return j;var le=[],he=0;return nt(j,le,"","",function(pe){return M.call(se,pe,he++)}),le}function dt(j){if(j._status===-1){var M=j._result;M=M(),M.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=M)}if(j._status===1)return j._result.default;throw j._result}var Ge={current:null},Ce={transition:null},De={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Ce,ReactCurrentOwner:we};function K(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:St,forEach:function(j,M,se){St(j,function(){M.apply(this,arguments)},se)},count:function(j){var M=0;return St(j,function(){M++}),M},toArray:function(j){return St(j,function(M){return M})||[]},only:function(j){if(!B(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=O,st.Fragment=t,st.Profiler=i,st.PureComponent=q,st.StrictMode=r,st.Suspense=d,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,st.act=K,st.cloneElement=function(j,M,se){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var le=I({},j.props),he=j.key,pe=j.ref,Pe=j._owner;if(M!=null){if(M.ref!==void 0&&(pe=M.ref,Pe=we.current),M.key!==void 0&&(he=""+M.key),j.type&&j.type.defaultProps)var ke=j.type.defaultProps;for(Te in M)ve.call(M,Te)&&!U.hasOwnProperty(Te)&&(le[Te]=M[Te]===void 0&&ke!==void 0?ke[Te]:M[Te])}var Te=arguments.length-2;if(Te===1)le.children=se;else if(1<Te){ke=Array(Te);for(var Ye=0;Ye<Te;Ye++)ke[Ye]=arguments[Ye+2];le.children=ke}return{$$typeof:n,type:j.type,key:he,ref:pe,props:le,_owner:Pe}},st.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},st.createElement=x,st.createFactory=function(j){var M=x.bind(null,j);return M.type=j,M},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:h,render:j}},st.isValidElement=B,st.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:dt}},st.memo=function(j,M){return{$$typeof:m,type:j,compare:M===void 0?null:M}},st.startTransition=function(j){var M=Ce.transition;Ce.transition={};try{j()}finally{Ce.transition=M}},st.unstable_act=K,st.useCallback=function(j,M){return Ge.current.useCallback(j,M)},st.useContext=function(j){return Ge.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return Ge.current.useDeferredValue(j)},st.useEffect=function(j,M){return Ge.current.useEffect(j,M)},st.useId=function(){return Ge.current.useId()},st.useImperativeHandle=function(j,M,se){return Ge.current.useImperativeHandle(j,M,se)},st.useInsertionEffect=function(j,M){return Ge.current.useInsertionEffect(j,M)},st.useLayoutEffect=function(j,M){return Ge.current.useLayoutEffect(j,M)},st.useMemo=function(j,M){return Ge.current.useMemo(j,M)},st.useReducer=function(j,M,se){return Ge.current.useReducer(j,M,se)},st.useRef=function(j){return Ge.current.useRef(j)},st.useState=function(j){return Ge.current.useState(j)},st.useSyncExternalStore=function(j,M,se){return Ge.current.useSyncExternalStore(j,M,se)},st.useTransition=function(){return Ge.current.useTransition()},st.version="18.3.1",st}var $v;function Yg(){return $v||($v=1,n1.exports=cT()),n1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function hT(){if(Wv)return Ku;Wv=1;var n=Yg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(h,d,m){var y,C={},A=null,b=null;m!==void 0&&(A=""+m),d.key!==void 0&&(A=""+d.key),d.ref!==void 0&&(b=d.ref);for(y in d)r.call(d,y)&&!o.hasOwnProperty(y)&&(C[y]=d[y]);if(h&&h.defaultProps)for(y in d=h.defaultProps,d)C[y]===void 0&&(C[y]=d[y]);return{$$typeof:e,type:h,key:A,ref:b,props:C,_owner:i.current}}return Ku.Fragment=t,Ku.jsx=l,Ku.jsxs=l,Ku}var Hv;function dT(){return Hv||(Hv=1,t1.exports=hT()),t1.exports}var V=dT(),ie=Yg();const _e=Ia(ie);var pd={},r1={exports:{}},zr={},i1={exports:{}},s1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function fT(){return qv||(qv=1,function(n){function e(Ce,De){var K=Ce.length;Ce.push(De);e:for(;0<K;){var j=K-1>>>1,M=Ce[j];if(0<i(M,De))Ce[j]=De,Ce[K]=M,K=j;else break e}}function t(Ce){return Ce.length===0?null:Ce[0]}function r(Ce){if(Ce.length===0)return null;var De=Ce[0],K=Ce.pop();if(K!==De){Ce[0]=K;e:for(var j=0,M=Ce.length,se=M>>>1;j<se;){var le=2*(j+1)-1,he=Ce[le],pe=le+1,Pe=Ce[pe];if(0>i(he,K))pe<M&&0>i(Pe,he)?(Ce[j]=Pe,Ce[pe]=K,j=pe):(Ce[j]=he,Ce[le]=K,j=le);else if(pe<M&&0>i(Pe,K))Ce[j]=Pe,Ce[pe]=K,j=pe;else break e}}return De}function i(Ce,De){var K=Ce.sortIndex-De.sortIndex;return K!==0?K:Ce.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var d=[],m=[],y=1,C=null,A=3,b=!1,I=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(Ce){for(var De=t(m);De!==null;){if(De.callback===null)r(m);else if(De.startTime<=Ce)r(m),De.sortIndex=De.expirationTime,e(d,De);else break;De=t(m)}}function ae(Ce){if(L=!1,Z(Ce),!I)if(t(d)!==null)I=!0,dt(ve);else{var De=t(m);De!==null&&Ge(ae,De.startTime-Ce)}}function ve(Ce,De){I=!1,L&&(L=!1,Y(x),x=-1),b=!0;var K=A;try{for(Z(De),C=t(d);C!==null&&(!(C.expirationTime>De)||Ce&&!H());){var j=C.callback;if(typeof j=="function"){C.callback=null,A=C.priorityLevel;var M=j(C.expirationTime<=De);De=n.unstable_now(),typeof M=="function"?C.callback=M:C===t(d)&&r(d),Z(De)}else r(d);C=t(d)}if(C!==null)var se=!0;else{var le=t(m);le!==null&&Ge(ae,le.startTime-De),se=!1}return se}finally{C=null,A=K,b=!1}}var we=!1,U=null,x=-1,P=5,B=-1;function H(){return!(n.unstable_now()-B<P)}function X(){if(U!==null){var Ce=n.unstable_now();B=Ce;var De=!0;try{De=U(!0,Ce)}finally{De?D():(we=!1,U=null)}}else we=!1}var D;if(typeof q=="function")D=function(){q(X)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,St=nt.port2;nt.port1.onmessage=X,D=function(){St.postMessage(null)}}else D=function(){O(X,0)};function dt(Ce){U=Ce,we||(we=!0,D())}function Ge(Ce,De){x=O(function(){Ce(n.unstable_now())},De)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Ce){Ce.callback=null},n.unstable_continueExecution=function(){I||b||(I=!0,dt(ve))},n.unstable_forceFrameRate=function(Ce){0>Ce||125<Ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Ce?Math.floor(1e3/Ce):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(Ce){switch(A){case 1:case 2:case 3:var De=3;break;default:De=A}var K=A;A=De;try{return Ce()}finally{A=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Ce,De){switch(Ce){case 1:case 2:case 3:case 4:case 5:break;default:Ce=3}var K=A;A=Ce;try{return De()}finally{A=K}},n.unstable_scheduleCallback=function(Ce,De,K){var j=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?j+K:j):K=j,Ce){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=K+M,Ce={id:y++,callback:De,priorityLevel:Ce,startTime:K,expirationTime:M,sortIndex:-1},K>j?(Ce.sortIndex=K,e(m,Ce),t(d)===null&&Ce===t(m)&&(L?(Y(x),x=-1):L=!0,Ge(ae,K-j))):(Ce.sortIndex=M,e(d,Ce),I||b||(I=!0,dt(ve))),Ce},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(Ce){var De=A;return function(){var K=A;A=De;try{return Ce.apply(this,arguments)}finally{A=K}}}}(s1)),s1}var Gv;function pT(){return Gv||(Gv=1,i1.exports=fT()),i1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function mT(){if(Kv)return zr;Kv=1;var n=Yg(),e=pT();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},C={};function A(s){return d.call(C,s)?!0:d.call(y,s)?!1:m.test(s)?C[s]=!0:(y[s]=!0,!1)}function b(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,p){if(a===null||typeof a>"u"||b(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function L(s,a,c,p,g,E,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=R}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];O[a]=new L(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(Y,q);O[a]=new L(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(Y,q);O[a]=new L(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(Y,q);O[a]=new L(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function Z(s,a,c,p){var g=O.hasOwnProperty(a)?O[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,g,p)&&(c=null),p||g===null?A(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),we=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),Ce=Symbol.iterator;function De(s){return s===null||typeof s!="object"?null:(s=Ce&&s[Ce]||s["@@iterator"],typeof s=="function"?s:null)}var K=Object.assign,j;function M(s){if(j===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);j=a&&a[1]||""}return`
`+j+s}var se=!1;function le(s,a){if(!s||se)return"";se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(re){var p=re}Reflect.construct(s,[],a)}else{try{a.call()}catch(re){p=re}s.call(a.prototype)}else{try{throw Error()}catch(re){p=re}s()}}catch(re){if(re&&p&&typeof re.stack=="string"){for(var g=re.stack.split(`
`),E=p.stack.split(`
`),R=g.length-1,F=E.length-1;1<=R&&0<=F&&g[R]!==E[F];)F--;for(;1<=R&&0<=F;R--,F--)if(g[R]!==E[F]){if(R!==1||F!==1)do if(R--,F--,0>F||g[R]!==E[F]){var W=`
`+g[R].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=R&&0<=F);break}}}finally{se=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?M(s):""}function he(s){switch(s.tag){case 5:return M(s.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case we:return"Portal";case P:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case nt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case H:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case X:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case St:return a=s.displayName||null,a!==null?a:pe(s.type)||"Memo";case dt:a=s._payload,s=s._init;try{return pe(s(a))}catch{}}return null}function Pe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Te(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ye(s){var a=Te(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){p=""+R,E.call(this,R)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ft(s){s._valueTracker||(s._valueTracker=Ye(s))}function Ke(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Te(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function it(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function kt(s,a){var c=a.checked;return K({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Bn(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=ke(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function nn(s,a){a=a.checked,a!=null&&Z(s,"checked",a,!1)}function rn(s,a){nn(s,a);var c=ke(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?zn(s,a.type,c):a.hasOwnProperty("defaultValue")&&zn(s,a.type,ke(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ai(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function zn(s,a,c){(a!=="number"||it(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var jn=Array.isArray;function br(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ke(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function yr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _r(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(jn(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:ke(c)}}function kr(s,a){var c=ke(a.value),p=ke(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Pr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var kn,Cs=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function $n(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wn=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(s){Wn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ri[a]=Ri[s]})});function Ts(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Ri.hasOwnProperty(s)&&Ri[s]?(""+a).trim():a+"px"}function xr(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Ts(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var te=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Q(s,a){if(a){if(te[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ue(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ae(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ie=null,Ve=null,Ne=null;function ze(s){if(s=Lu(s)){if(typeof Ie!="function")throw Error(t(280));var a=s.stateNode;a&&(a=kh(a),Ie(s.stateNode,s.type,a))}}function Be(s){Ve?Ne?Ne.push(s):Ne=[s]:Ve=s}function wt(){if(Ve){var s=Ve,a=Ne;if(Ne=Ve=null,ze(s),a)for(s=0;s<a.length;s++)ze(a[s])}}function Ct(s,a){return s(a)}function Ot(){}var Tt=!1;function _n(s,a,c){if(Tt)return s(a,c);Tt=!0;try{return Ct(s,a,c)}finally{Tt=!1,(Ve!==null||Ne!==null)&&(Ot(),wt())}}function ot(s,a){var c=s.stateNode;if(c===null)return null;var p=kh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Kr=!1;if(h)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Kr=!1}function vr(s,a,c,p,g,E,R,F,W){var re=Array.prototype.slice.call(arguments,3);try{a.apply(c,re)}catch(fe){this.onError(fe)}}var nr=!1,to=null,cn=!1,qo=null,si={onError:function(s){nr=!0,to=s}};function Qi(s,a,c,p,g,E,R,F,W){nr=!1,to=null,vr.apply(si,arguments)}function Ua(s,a,c,p,g,E,R,F,W){if(Qi.apply(this,arguments),nr){if(nr){var re=to;nr=!1,to=null}else throw Error(t(198));cn||(cn=!0,qo=re)}}function hn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Ss(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function dn(s){if(hn(s)!==s)throw Error(t(188))}function Ba(s){var a=s.alternate;if(!a){if(a=hn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var E=g.alternate;if(E===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===c)return dn(g),s;if(E===p)return dn(g),a;E=E.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=E;else{for(var R=!1,F=g.child;F;){if(F===c){R=!0,c=g,p=E;break}if(F===p){R=!0,p=g,c=E;break}F=F.sibling}if(!R){for(F=E.child;F;){if(F===c){R=!0,c=E,p=g;break}if(F===p){R=!0,p=E,c=g;break}F=F.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Nr(s){return s=Ba(s),s!==null?no(s):null}function no(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=no(s);if(a!==null)return a;s=s.sibling}return null}var Ii=e.unstable_scheduleCallback,oi=e.unstable_cancelCallback,za=e.unstable_shouldYield,ai=e.unstable_requestPaint,xt=e.unstable_now,wr=e.unstable_getCurrentPriorityLevel,Hn=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,Lr=e.unstable_NormalPriority,ui=e.unstable_LowPriority,ja=e.unstable_IdlePriority,Or=null,Er=null;function bi(s){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Or,s,void 0,(s.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:$a,ci=Math.log,Yi=Math.LN2;function $a(s){return s>>>=0,s===0?32:31-(ci(s)/Yi|0)|0}var Cr=64,ro=4194304;function hi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function rr(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,E=s.pingedLanes,R=c&268435455;if(R!==0){var F=R&~g;F!==0?p=hi(F):(E&=R,E!==0&&(p=hi(E)))}else R=c&~g,R!==0?p=hi(R):E!==0&&(p=hi(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&g)&&(g=p&-p,E=a&-a,g>=E||g===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-qn(a),g=1<<c,p|=s[c],a&=~g;return p}function As(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,E=s.pendingLanes;0<E;){var R=31-qn(E),F=1<<R,W=g[R];W===-1?(!(F&c)||F&p)&&(g[R]=As(F,a)):W<=a&&(s.expiredLanes|=F),E&=~F}}function fn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Xi(){var s=Cr;return Cr<<=1,!(Cr&4194240)&&(Cr=64),s}function Tr(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ki(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-qn(a),s[a]=c}function pt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-qn(c),E=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~E}}function Sr(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-qn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var u=0;function _(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var S,N,$,me,Ft,vn=!1,It=[],lt=null,pn=null,Mt=null,wn=new Map,En=new Map,Gn=[],Pn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cn(s,a){switch(s){case"focusin":case"focusout":lt=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":wn.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(a.pointerId)}}function xn(s,a,c,p,g,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[g]},a!==null&&(a=Lu(a),a!==null&&N(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Kn(s,a,c,p,g){switch(a){case"focusin":return lt=xn(lt,s,a,c,p,g),!0;case"dragenter":return pn=xn(pn,s,a,c,p,g),!0;case"mouseover":return Mt=xn(Mt,s,a,c,p,g),!0;case"pointerover":var E=g.pointerId;return wn.set(E,xn(wn.get(E)||null,s,a,c,p,g)),!0;case"gotpointercapture":return E=g.pointerId,En.set(E,xn(En.get(E)||null,s,a,c,p,g)),!0}return!1}function Nn(s){var a=Xo(s.target);if(a!==null){var c=hn(a);if(c!==null){if(a=c.tag,a===13){if(a=Ss(c),a!==null){s.blockedOn=a,Ft(s.priority,function(){$(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Wa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Se=p,c.target.dispatchEvent(p),Se=null}else return a=Lu(c),a!==null&&N(a),s.blockedOn=c,!1;a.shift()}return!0}function Go(s,a,c){Rs(s)&&c.delete(a)}function ph(){vn=!1,lt!==null&&Rs(lt)&&(lt=null),pn!==null&&Rs(pn)&&(pn=null),Mt!==null&&Rs(Mt)&&(Mt=null),wn.forEach(Go),En.forEach(Go)}function Pi(s,a){s.blockedOn===a&&(s.blockedOn=null,vn||(vn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ph)))}function xi(s){function a(g){return Pi(g,s)}if(0<It.length){Pi(It[0],s);for(var c=1;c<It.length;c++){var p=It[c];p.blockedOn===s&&(p.blockedOn=null)}}for(lt!==null&&Pi(lt,s),pn!==null&&Pi(pn,s),Mt!==null&&Pi(Mt,s),wn.forEach(a),En.forEach(a),c=0;c<Gn.length;c++)p=Gn[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Gn.length&&(c=Gn[0],c.blockedOn===null);)Nn(c),c.blockedOn===null&&Gn.shift()}var Is=ae.ReactCurrentBatchConfig,io=!0;function Ht(s,a,c,p){var g=u,E=Is.transition;Is.transition=null;try{u=1,vu(s,a,c,p)}finally{u=g,Is.transition=E}}function Op(s,a,c,p){var g=u,E=Is.transition;Is.transition=null;try{u=4,vu(s,a,c,p)}finally{u=g,Is.transition=E}}function vu(s,a,c,p){if(io){var g=Wa(s,a,c,p);if(g===null)Hp(s,a,p,Ko,c),Cn(s,p);else if(Kn(g,s,a,c,p))p.stopPropagation();else if(Cn(s,p),a&4&&-1<Pn.indexOf(s)){for(;g!==null;){var E=Lu(g);if(E!==null&&S(E),E=Wa(s,a,c,p),E===null&&Hp(s,a,p,Ko,c),E===g)break;g=E}g!==null&&p.stopPropagation()}else Hp(s,a,p,null,c)}}var Ko=null;function Wa(s,a,c,p){if(Ko=null,s=Ae(p),s=Xo(s),s!==null)if(a=hn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Ss(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ko=s,null}function wu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wr()){case Hn:return 1;case li:return 4;case Lr:case ui:return 16;case ja:return 536870912;default:return 16}default:return 16}}var Qr=null,Ha=null,Dr=null;function Eu(){if(Dr)return Dr;var s,a=Ha,c=a.length,p,g="value"in Qr?Qr.value:Qr.textContent,E=g.length;for(s=0;s<c&&a[s]===g[s];s++);var R=c-s;for(p=1;p<=R&&a[c-p]===g[E-p];p++);return Dr=g.slice(s,1<p?1-p:void 0)}function qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function Cu(){return!1}function Qn(s){function a(c,p,g,E,R){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(c=s[F],this[F]=c?c(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Zi:Cu,this.isPropagationStopped=Cu,this}return K(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),a}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Qn(Ni),Ji=K({},Ni,{view:0,detail:0}),Dp=Qn(Ji),Ka,bs,so,Qo=K({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==so&&(so&&s.type==="mousemove"?(Ka=s.screenX-so.screenX,bs=s.screenY-so.screenY):bs=Ka=0,so=s),Ka)},movementY:function(s){return"movementY"in s?s.movementY:bs}}),Qa=Qn(Qo),Tu=K({},Qo,{dataTransfer:0}),mh=Qn(Tu),Ya=K({},Ji,{relatedTarget:0}),Xa=Qn(Ya),gh=K({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=Qn(gh),yh=K({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_h=Qn(yh),vh=K({},Ni,{data:0}),Su=Qn(vh),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=wh[s])?!!a[s]:!1}function es(){return Eh}var f=K({},Ji,{key:function(s){if(s.key){var a=Za[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ar[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Qn(f),T=K({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Qn(T),J=K({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),oe=Qn(J),Re=K({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Qn(Re),Tn=K({},Qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),mt=Qn(Tn),Ln=[9,13,27,32],mn=h&&"CompositionEvent"in window,fi=null;h&&"documentMode"in document&&(fi=document.documentMode);var Yr=h&&"TextEvent"in window&&!fi,Yo=h&&(!mn||fi&&8<fi&&11>=fi),Ja=" ",My=!1;function Vy(s,a){switch(s){case"keyup":return Ln.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var el=!1;function oC(s,a){switch(s){case"compositionend":return Fy(a);case"keypress":return a.which!==32?null:(My=!0,Ja);case"textInput":return s=a.data,s===Ja&&My?null:s;default:return null}}function aC(s,a){if(el)return s==="compositionend"||!mn&&Vy(s,a)?(s=Eu(),Dr=Ha=Qr=null,el=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Yo&&a.locale!=="ko"?null:a.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!lC[s.type]:a==="textarea"}function By(s,a,c,p){Be(p),a=Rh(a,"onChange"),0<a.length&&(c=new Ga("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Au=null,Ru=null;function uC(s){i_(s,0)}function Ch(s){var a=sl(s);if(Ke(a))return s}function cC(s,a){if(s==="change")return a}var zy=!1;if(h){var Mp;if(h){var Vp="oninput"in document;if(!Vp){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Vp=typeof jy.oninput=="function"}Mp=Vp}else Mp=!1;zy=Mp&&(!document.documentMode||9<document.documentMode)}function $y(){Au&&(Au.detachEvent("onpropertychange",Wy),Ru=Au=null)}function Wy(s){if(s.propertyName==="value"&&Ch(Ru)){var a=[];By(a,Ru,s,Ae(s)),_n(uC,a)}}function hC(s,a,c){s==="focusin"?($y(),Au=a,Ru=c,Au.attachEvent("onpropertychange",Wy)):s==="focusout"&&$y()}function dC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ch(Ru)}function fC(s,a){if(s==="click")return Ch(a)}function pC(s,a){if(s==="input"||s==="change")return Ch(a)}function mC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Li=typeof Object.is=="function"?Object.is:mC;function Iu(s,a){if(Li(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!d.call(a,g)||!Li(s[g],a[g]))return!1}return!0}function Hy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qy(s,a){var c=Hy(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Hy(c)}}function Gy(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Gy(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Ky(){for(var s=window,a=it();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=it(s.document)}return a}function Fp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function gC(s){var a=Ky(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Gy(c.ownerDocument.documentElement,c)){if(p!==null&&Fp(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,E=Math.min(p.start,g);p=p.end===void 0?E:Math.min(p.end,g),!s.extend&&E>p&&(g=p,p=E,E=g),g=qy(c,E);var R=qy(c,p);g&&R&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),E>p?(s.addRange(a),s.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yC=h&&"documentMode"in document&&11>=document.documentMode,tl=null,Up=null,bu=null,Bp=!1;function Qy(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Bp||tl==null||tl!==it(p)||(p=tl,"selectionStart"in p&&Fp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bu&&Iu(bu,p)||(bu=p,p=Rh(Up,"onSelect"),0<p.length&&(a=new Ga("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=tl)))}function Th(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var nl={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},zp={},Yy={};h&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Sh(s){if(zp[s])return zp[s];if(!nl[s])return s;var a=nl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Yy)return zp[s]=a[c];return s}var Xy=Sh("animationend"),Zy=Sh("animationiteration"),Jy=Sh("animationstart"),e_=Sh("transitionend"),t_=new Map,n_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(s,a){t_.set(s,a),o(a,[s])}for(var jp=0;jp<n_.length;jp++){var $p=n_[jp],_C=$p.toLowerCase(),vC=$p[0].toUpperCase()+$p.slice(1);oo(_C,"on"+vC)}oo(Xy,"onAnimationEnd"),oo(Zy,"onAnimationIteration"),oo(Jy,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(e_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function r_(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,Ua(p,a,void 0,s),s.currentTarget=null}function i_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var R=p.length-1;0<=R;R--){var F=p[R],W=F.instance,re=F.currentTarget;if(F=F.listener,W!==E&&g.isPropagationStopped())break e;r_(g,F,re),E=W}else for(R=0;R<p.length;R++){if(F=p[R],W=F.instance,re=F.currentTarget,F=F.listener,W!==E&&g.isPropagationStopped())break e;r_(g,F,re),E=W}}}if(cn)throw s=qo,cn=!1,qo=null,s}function Ut(s,a){var c=a[Xp];c===void 0&&(c=a[Xp]=new Set);var p=s+"__bubble";c.has(p)||(s_(a,s,2,!1),c.add(p))}function Wp(s,a,c){var p=0;a&&(p|=4),s_(c,s,p,a)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Pu(s){if(!s[Ah]){s[Ah]=!0,r.forEach(function(c){c!=="selectionchange"&&(wC.has(c)||Wp(c,!1,s),Wp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ah]||(a[Ah]=!0,Wp("selectionchange",!1,a))}}function s_(s,a,c,p){switch(wu(a)){case 1:var g=Ht;break;case 4:g=Op;break;default:g=vu}c=g.bind(null,a,c,s),g=void 0,!Kr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Hp(s,a,c,p,g){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var F=p.stateNode.containerInfo;if(F===g||F.nodeType===8&&F.parentNode===g)break;if(R===4)for(R=p.return;R!==null;){var W=R.tag;if((W===3||W===4)&&(W=R.stateNode.containerInfo,W===g||W.nodeType===8&&W.parentNode===g))return;R=R.return}for(;F!==null;){if(R=Xo(F),R===null)return;if(W=R.tag,W===5||W===6){p=E=R;continue e}F=F.parentNode}}p=p.return}_n(function(){var re=E,fe=Ae(c),ge=[];e:{var de=t_.get(s);if(de!==void 0){var xe=Ga,Me=s;switch(s){case"keypress":if(qa(c)===0)break e;case"keydown":case"keyup":xe=w;break;case"focusin":Me="focus",xe=Xa;break;case"focusout":Me="blur",xe=Xa;break;case"beforeblur":case"afterblur":xe=Xa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=oe;break;case Xy:case Zy:case Jy:xe=ks;break;case e_:xe=bt;break;case"scroll":xe=Dp;break;case"wheel":xe=mt;break;case"copy":case"cut":case"paste":xe=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=k}var Fe=(a&4)!==0,ln=!Fe&&s==="scroll",ee=Fe?de!==null?de+"Capture":null:de;Fe=[];for(var G=re,ne;G!==null;){ne=G;var Ee=ne.stateNode;if(ne.tag===5&&Ee!==null&&(ne=Ee,ee!==null&&(Ee=ot(G,ee),Ee!=null&&Fe.push(xu(G,Ee,ne)))),ln)break;G=G.return}0<Fe.length&&(de=new xe(de,Me,null,c,fe),ge.push({event:de,listeners:Fe}))}}if(!(a&7)){e:{if(de=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",de&&c!==Se&&(Me=c.relatedTarget||c.fromElement)&&(Xo(Me)||Me[Ps]))break e;if((xe||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,xe?(Me=c.relatedTarget||c.toElement,xe=re,Me=Me?Xo(Me):null,Me!==null&&(ln=hn(Me),Me!==ln||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(xe=null,Me=re),xe!==Me)){if(Fe=Qa,Ee="onMouseLeave",ee="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Fe=k,Ee="onPointerLeave",ee="onPointerEnter",G="pointer"),ln=xe==null?de:sl(xe),ne=Me==null?de:sl(Me),de=new Fe(Ee,G+"leave",xe,c,fe),de.target=ln,de.relatedTarget=ne,Ee=null,Xo(fe)===re&&(Fe=new Fe(ee,G+"enter",Me,c,fe),Fe.target=ne,Fe.relatedTarget=ln,Ee=Fe),ln=Ee,xe&&Me)t:{for(Fe=xe,ee=Me,G=0,ne=Fe;ne;ne=rl(ne))G++;for(ne=0,Ee=ee;Ee;Ee=rl(Ee))ne++;for(;0<G-ne;)Fe=rl(Fe),G--;for(;0<ne-G;)ee=rl(ee),ne--;for(;G--;){if(Fe===ee||ee!==null&&Fe===ee.alternate)break t;Fe=rl(Fe),ee=rl(ee)}Fe=null}else Fe=null;xe!==null&&o_(ge,de,xe,Fe,!1),Me!==null&&ln!==null&&o_(ge,ln,Me,Fe,!0)}}e:{if(de=re?sl(re):window,xe=de.nodeName&&de.nodeName.toLowerCase(),xe==="select"||xe==="input"&&de.type==="file")var Ue=cC;else if(Uy(de))if(zy)Ue=pC;else{Ue=dC;var $e=hC}else(xe=de.nodeName)&&xe.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ue=fC);if(Ue&&(Ue=Ue(s,re))){By(ge,Ue,c,fe);break e}$e&&$e(s,de,re),s==="focusout"&&($e=de._wrapperState)&&$e.controlled&&de.type==="number"&&zn(de,"number",de.value)}switch($e=re?sl(re):window,s){case"focusin":(Uy($e)||$e.contentEditable==="true")&&(tl=$e,Up=re,bu=null);break;case"focusout":bu=Up=tl=null;break;case"mousedown":Bp=!0;break;case"contextmenu":case"mouseup":case"dragend":Bp=!1,Qy(ge,c,fe);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":Qy(ge,c,fe)}var We;if(mn)e:{switch(s){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else el?Vy(s,c)&&(Qe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Qe="onCompositionStart");Qe&&(Yo&&c.locale!=="ko"&&(el||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&el&&(We=Eu()):(Qr=fe,Ha="value"in Qr?Qr.value:Qr.textContent,el=!0)),$e=Rh(re,Qe),0<$e.length&&(Qe=new Su(Qe,s,null,c,fe),ge.push({event:Qe,listeners:$e}),We?Qe.data=We:(We=Fy(c),We!==null&&(Qe.data=We)))),(We=Yr?oC(s,c):aC(s,c))&&(re=Rh(re,"onBeforeInput"),0<re.length&&(fe=new Su("onBeforeInput","beforeinput",null,c,fe),ge.push({event:fe,listeners:re}),fe.data=We))}i_(ge,a)})}function xu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Rh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=ot(s,c),E!=null&&p.unshift(xu(s,E,g)),E=ot(s,a),E!=null&&p.push(xu(s,E,g))),s=s.return}return p}function rl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function o_(s,a,c,p,g){for(var E=a._reactName,R=[];c!==null&&c!==p;){var F=c,W=F.alternate,re=F.stateNode;if(W!==null&&W===p)break;F.tag===5&&re!==null&&(F=re,g?(W=ot(c,E),W!=null&&R.unshift(xu(c,W,F))):g||(W=ot(c,E),W!=null&&R.push(xu(c,W,F)))),c=c.return}R.length!==0&&s.push({event:a,listeners:R})}var EC=/\r\n?/g,CC=/\u0000|\uFFFD/g;function a_(s){return(typeof s=="string"?s:""+s).replace(EC,`
`).replace(CC,"")}function Ih(s,a,c){if(a=a_(a),a_(s)!==a&&c)throw Error(t(425))}function bh(){}var qp=null,Gp=null;function Kp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(s){return l_.resolve(null).then(s).catch(AC)}:Qp;function AC(s){setTimeout(function(){throw s})}function Yp(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),xi(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);xi(a)}function ao(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function u_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var il=Math.random().toString(36).slice(2),ts="__reactFiber$"+il,Nu="__reactProps$"+il,Ps="__reactContainer$"+il,Xp="__reactEvents$"+il,RC="__reactListeners$"+il,IC="__reactHandles$"+il;function Xo(s){var a=s[ts];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ps]||c[ts]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=u_(s);s!==null;){if(c=s[ts])return c;s=u_(s)}return a}s=c,c=s.parentNode}return null}function Lu(s){return s=s[ts]||s[Ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function sl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kh(s){return s[Nu]||null}var Zp=[],ol=-1;function lo(s){return{current:s}}function Bt(s){0>ol||(s.current=Zp[ol],Zp[ol]=null,ol--)}function Vt(s,a){ol++,Zp[ol]=s.current,s.current=a}var uo={},ir=lo(uo),Mr=lo(!1),Zo=uo;function al(s,a){var c=s.type.contextTypes;if(!c)return uo;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in c)g[E]=a[E];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Vr(s){return s=s.childContextTypes,s!=null}function Ph(){Bt(Mr),Bt(ir)}function c_(s,a,c){if(ir.current!==uo)throw Error(t(168));Vt(ir,a),Vt(Mr,c)}function h_(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Pe(s)||"Unknown",g));return K({},c,p)}function xh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||uo,Zo=ir.current,Vt(ir,s),Vt(Mr,Mr.current),!0}function d_(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=h_(s,a,Zo),p.__reactInternalMemoizedMergedChildContext=s,Bt(Mr),Bt(ir),Vt(ir,s)):Bt(Mr),Vt(Mr,c)}var xs=null,Nh=!1,Jp=!1;function f_(s){xs===null?xs=[s]:xs.push(s)}function bC(s){Nh=!0,f_(s)}function co(){if(!Jp&&xs!==null){Jp=!0;var s=0,a=u;try{var c=xs;for(u=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}xs=null,Nh=!1}catch(g){throw xs!==null&&(xs=xs.slice(s+1)),Ii(Hn,co),g}finally{u=a,Jp=!1}}return null}var ll=[],ul=0,Lh=null,Oh=0,pi=[],mi=0,Jo=null,Ns=1,Ls="";function ea(s,a){ll[ul++]=Oh,ll[ul++]=Lh,Lh=s,Oh=a}function p_(s,a,c){pi[mi++]=Ns,pi[mi++]=Ls,pi[mi++]=Jo,Jo=s;var p=Ns;s=Ls;var g=32-qn(p)-1;p&=~(1<<g),c+=1;var E=32-qn(a)+g;if(30<E){var R=g-g%5;E=(p&(1<<R)-1).toString(32),p>>=R,g-=R,Ns=1<<32-qn(a)+g|c<<g|p,Ls=E+s}else Ns=1<<E|c<<g|p,Ls=s}function em(s){s.return!==null&&(ea(s,1),p_(s,1,0))}function tm(s){for(;s===Lh;)Lh=ll[--ul],ll[ul]=null,Oh=ll[--ul],ll[ul]=null;for(;s===Jo;)Jo=pi[--mi],pi[mi]=null,Ls=pi[--mi],pi[mi]=null,Ns=pi[--mi],pi[mi]=null}var Xr=null,Zr=null,qt=!1,Oi=null;function m_(s,a){var c=vi(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function g_(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Xr=s,Zr=ao(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Xr=s,Zr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Jo!==null?{id:Ns,overflow:Ls}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=vi(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Xr=s,Zr=null,!0):!1;default:return!1}}function nm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rm(s){if(qt){var a=Zr;if(a){var c=a;if(!g_(s,a)){if(nm(s))throw Error(t(418));a=ao(c.nextSibling);var p=Xr;a&&g_(s,a)?m_(p,c):(s.flags=s.flags&-4097|2,qt=!1,Xr=s)}}else{if(nm(s))throw Error(t(418));s.flags=s.flags&-4097|2,qt=!1,Xr=s}}}function y_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xr=s}function Dh(s){if(s!==Xr)return!1;if(!qt)return y_(s),qt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Kp(s.type,s.memoizedProps)),a&&(a=Zr)){if(nm(s))throw __(),Error(t(418));for(;a;)m_(s,a),a=ao(a.nextSibling)}if(y_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Zr=ao(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Zr=null}}else Zr=Xr?ao(s.stateNode.nextSibling):null;return!0}function __(){for(var s=Zr;s;)s=ao(s.nextSibling)}function cl(){Zr=Xr=null,qt=!1}function im(s){Oi===null?Oi=[s]:Oi.push(s)}var kC=ae.ReactCurrentBatchConfig;function Ou(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(R){var F=g.refs;R===null?delete F[E]:F[E]=R},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Mh(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function v_(s){var a=s._init;return a(s._payload)}function w_(s){function a(ee,G){if(s){var ne=ee.deletions;ne===null?(ee.deletions=[G],ee.flags|=16):ne.push(G)}}function c(ee,G){if(!s)return null;for(;G!==null;)a(ee,G),G=G.sibling;return null}function p(ee,G){for(ee=new Map;G!==null;)G.key!==null?ee.set(G.key,G):ee.set(G.index,G),G=G.sibling;return ee}function g(ee,G){return ee=vo(ee,G),ee.index=0,ee.sibling=null,ee}function E(ee,G,ne){return ee.index=ne,s?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<G?(ee.flags|=2,G):ne):(ee.flags|=2,G)):(ee.flags|=1048576,G)}function R(ee){return s&&ee.alternate===null&&(ee.flags|=2),ee}function F(ee,G,ne,Ee){return G===null||G.tag!==6?(G=Qm(ne,ee.mode,Ee),G.return=ee,G):(G=g(G,ne),G.return=ee,G)}function W(ee,G,ne,Ee){var Ue=ne.type;return Ue===U?fe(ee,G,ne.props.children,Ee,ne.key):G!==null&&(G.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===dt&&v_(Ue)===G.type)?(Ee=g(G,ne.props),Ee.ref=Ou(ee,G,ne),Ee.return=ee,Ee):(Ee=od(ne.type,ne.key,ne.props,null,ee.mode,Ee),Ee.ref=Ou(ee,G,ne),Ee.return=ee,Ee)}function re(ee,G,ne,Ee){return G===null||G.tag!==4||G.stateNode.containerInfo!==ne.containerInfo||G.stateNode.implementation!==ne.implementation?(G=Ym(ne,ee.mode,Ee),G.return=ee,G):(G=g(G,ne.children||[]),G.return=ee,G)}function fe(ee,G,ne,Ee,Ue){return G===null||G.tag!==7?(G=la(ne,ee.mode,Ee,Ue),G.return=ee,G):(G=g(G,ne),G.return=ee,G)}function ge(ee,G,ne){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Qm(""+G,ee.mode,ne),G.return=ee,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case ve:return ne=od(G.type,G.key,G.props,null,ee.mode,ne),ne.ref=Ou(ee,null,G),ne.return=ee,ne;case we:return G=Ym(G,ee.mode,ne),G.return=ee,G;case dt:var Ee=G._init;return ge(ee,Ee(G._payload),ne)}if(jn(G)||De(G))return G=la(G,ee.mode,ne,null),G.return=ee,G;Mh(ee,G)}return null}function de(ee,G,ne,Ee){var Ue=G!==null?G.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ue!==null?null:F(ee,G,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ve:return ne.key===Ue?W(ee,G,ne,Ee):null;case we:return ne.key===Ue?re(ee,G,ne,Ee):null;case dt:return Ue=ne._init,de(ee,G,Ue(ne._payload),Ee)}if(jn(ne)||De(ne))return Ue!==null?null:fe(ee,G,ne,Ee,null);Mh(ee,ne)}return null}function xe(ee,G,ne,Ee,Ue){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ee=ee.get(ne)||null,F(G,ee,""+Ee,Ue);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case ve:return ee=ee.get(Ee.key===null?ne:Ee.key)||null,W(G,ee,Ee,Ue);case we:return ee=ee.get(Ee.key===null?ne:Ee.key)||null,re(G,ee,Ee,Ue);case dt:var $e=Ee._init;return xe(ee,G,ne,$e(Ee._payload),Ue)}if(jn(Ee)||De(Ee))return ee=ee.get(ne)||null,fe(G,ee,Ee,Ue,null);Mh(G,Ee)}return null}function Me(ee,G,ne,Ee){for(var Ue=null,$e=null,We=G,Qe=G=0,Mn=null;We!==null&&Qe<ne.length;Qe++){We.index>Qe?(Mn=We,We=null):Mn=We.sibling;var Et=de(ee,We,ne[Qe],Ee);if(Et===null){We===null&&(We=Mn);break}s&&We&&Et.alternate===null&&a(ee,We),G=E(Et,G,Qe),$e===null?Ue=Et:$e.sibling=Et,$e=Et,We=Mn}if(Qe===ne.length)return c(ee,We),qt&&ea(ee,Qe),Ue;if(We===null){for(;Qe<ne.length;Qe++)We=ge(ee,ne[Qe],Ee),We!==null&&(G=E(We,G,Qe),$e===null?Ue=We:$e.sibling=We,$e=We);return qt&&ea(ee,Qe),Ue}for(We=p(ee,We);Qe<ne.length;Qe++)Mn=xe(We,ee,Qe,ne[Qe],Ee),Mn!==null&&(s&&Mn.alternate!==null&&We.delete(Mn.key===null?Qe:Mn.key),G=E(Mn,G,Qe),$e===null?Ue=Mn:$e.sibling=Mn,$e=Mn);return s&&We.forEach(function(wo){return a(ee,wo)}),qt&&ea(ee,Qe),Ue}function Fe(ee,G,ne,Ee){var Ue=De(ne);if(typeof Ue!="function")throw Error(t(150));if(ne=Ue.call(ne),ne==null)throw Error(t(151));for(var $e=Ue=null,We=G,Qe=G=0,Mn=null,Et=ne.next();We!==null&&!Et.done;Qe++,Et=ne.next()){We.index>Qe?(Mn=We,We=null):Mn=We.sibling;var wo=de(ee,We,Et.value,Ee);if(wo===null){We===null&&(We=Mn);break}s&&We&&wo.alternate===null&&a(ee,We),G=E(wo,G,Qe),$e===null?Ue=wo:$e.sibling=wo,$e=wo,We=Mn}if(Et.done)return c(ee,We),qt&&ea(ee,Qe),Ue;if(We===null){for(;!Et.done;Qe++,Et=ne.next())Et=ge(ee,Et.value,Ee),Et!==null&&(G=E(Et,G,Qe),$e===null?Ue=Et:$e.sibling=Et,$e=Et);return qt&&ea(ee,Qe),Ue}for(We=p(ee,We);!Et.done;Qe++,Et=ne.next())Et=xe(We,ee,Qe,Et.value,Ee),Et!==null&&(s&&Et.alternate!==null&&We.delete(Et.key===null?Qe:Et.key),G=E(Et,G,Qe),$e===null?Ue=Et:$e.sibling=Et,$e=Et);return s&&We.forEach(function(aT){return a(ee,aT)}),qt&&ea(ee,Qe),Ue}function ln(ee,G,ne,Ee){if(typeof ne=="object"&&ne!==null&&ne.type===U&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ve:e:{for(var Ue=ne.key,$e=G;$e!==null;){if($e.key===Ue){if(Ue=ne.type,Ue===U){if($e.tag===7){c(ee,$e.sibling),G=g($e,ne.props.children),G.return=ee,ee=G;break e}}else if($e.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===dt&&v_(Ue)===$e.type){c(ee,$e.sibling),G=g($e,ne.props),G.ref=Ou(ee,$e,ne),G.return=ee,ee=G;break e}c(ee,$e);break}else a(ee,$e);$e=$e.sibling}ne.type===U?(G=la(ne.props.children,ee.mode,Ee,ne.key),G.return=ee,ee=G):(Ee=od(ne.type,ne.key,ne.props,null,ee.mode,Ee),Ee.ref=Ou(ee,G,ne),Ee.return=ee,ee=Ee)}return R(ee);case we:e:{for($e=ne.key;G!==null;){if(G.key===$e)if(G.tag===4&&G.stateNode.containerInfo===ne.containerInfo&&G.stateNode.implementation===ne.implementation){c(ee,G.sibling),G=g(G,ne.children||[]),G.return=ee,ee=G;break e}else{c(ee,G);break}else a(ee,G);G=G.sibling}G=Ym(ne,ee.mode,Ee),G.return=ee,ee=G}return R(ee);case dt:return $e=ne._init,ln(ee,G,$e(ne._payload),Ee)}if(jn(ne))return Me(ee,G,ne,Ee);if(De(ne))return Fe(ee,G,ne,Ee);Mh(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,G!==null&&G.tag===6?(c(ee,G.sibling),G=g(G,ne),G.return=ee,ee=G):(c(ee,G),G=Qm(ne,ee.mode,Ee),G.return=ee,ee=G),R(ee)):c(ee,G)}return ln}var hl=w_(!0),E_=w_(!1),Vh=lo(null),Fh=null,dl=null,sm=null;function om(){sm=dl=Fh=null}function am(s){var a=Vh.current;Bt(Vh),s._currentValue=a}function lm(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function fl(s,a){Fh=s,sm=dl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Fr=!0),s.firstContext=null)}function gi(s){var a=s._currentValue;if(sm!==s)if(s={context:s,memoizedValue:a,next:null},dl===null){if(Fh===null)throw Error(t(308));dl=s,Fh.dependencies={lanes:0,firstContext:s}}else dl=dl.next=s;return a}var ta=null;function um(s){ta===null?ta=[s]:ta.push(s)}function C_(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,um(a)):(c.next=g.next,g.next=c),a.interleaved=c,Os(s,p)}function Os(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ho=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ds(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function fo(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,vt&2){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Os(s,c)}return g=p.interleaved,g===null?(a.next=a,um(p)):(a.next=g.next,g.next=a),p.interleaved=a,Os(s,c)}function Uh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Sr(s,c)}}function S_(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?g=E=R:E=E.next=R,c=c.next}while(c!==null);E===null?g=E=a:E=E.next=a}else g=E=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Bh(s,a,c,p){var g=s.updateQueue;ho=!1;var E=g.firstBaseUpdate,R=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var W=F,re=W.next;W.next=null,R===null?E=re:R.next=re,R=W;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,F=fe.lastBaseUpdate,F!==R&&(F===null?fe.firstBaseUpdate=re:F.next=re,fe.lastBaseUpdate=W))}if(E!==null){var ge=g.baseState;R=0,fe=re=W=null,F=E;do{var de=F.lane,xe=F.eventTime;if((p&de)===de){fe!==null&&(fe=fe.next={eventTime:xe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Me=s,Fe=F;switch(de=a,xe=c,Fe.tag){case 1:if(Me=Fe.payload,typeof Me=="function"){ge=Me.call(xe,ge,de);break e}ge=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Fe.payload,de=typeof Me=="function"?Me.call(xe,ge,de):Me,de==null)break e;ge=K({},ge,de);break e;case 2:ho=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,de=g.effects,de===null?g.effects=[F]:de.push(F))}else xe={eventTime:xe,lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},fe===null?(re=fe=xe,W=ge):fe=fe.next=xe,R|=de;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;de=F,F=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);if(fe===null&&(W=ge),g.baseState=W,g.firstBaseUpdate=re,g.lastBaseUpdate=fe,a=g.shared.interleaved,a!==null){g=a;do R|=g.lane,g=g.next;while(g!==a)}else E===null&&(g.shared.lanes=0);ia|=R,s.lanes=R,s.memoizedState=ge}}function A_(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var Du={},ns=lo(Du),Mu=lo(Du),Vu=lo(Du);function na(s){if(s===Du)throw Error(t(174));return s}function hm(s,a){switch(Vt(Vu,a),Vt(Mu,s),Vt(ns,Du),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Yt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Yt(a,s)}Bt(ns),Vt(ns,a)}function pl(){Bt(ns),Bt(Mu),Bt(Vu)}function R_(s){na(Vu.current);var a=na(ns.current),c=Yt(a,s.type);a!==c&&(Vt(Mu,s),Vt(ns,c))}function dm(s){Mu.current===s&&(Bt(ns),Bt(Mu))}var Xt=lo(0);function zh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fm=[];function pm(){for(var s=0;s<fm.length;s++)fm[s]._workInProgressVersionPrimary=null;fm.length=0}var jh=ae.ReactCurrentDispatcher,mm=ae.ReactCurrentBatchConfig,ra=0,Zt=null,Sn=null,On=null,$h=!1,Fu=!1,Uu=0,PC=0;function sr(){throw Error(t(321))}function gm(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Li(s[c],a[c]))return!1;return!0}function ym(s,a,c,p,g,E){if(ra=E,Zt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,jh.current=s===null||s.memoizedState===null?OC:DC,s=c(p,g),Fu){E=0;do{if(Fu=!1,Uu=0,25<=E)throw Error(t(301));E+=1,On=Sn=null,a.updateQueue=null,jh.current=MC,s=c(p,g)}while(Fu)}if(jh.current=qh,a=Sn!==null&&Sn.next!==null,ra=0,On=Sn=Zt=null,$h=!1,a)throw Error(t(300));return s}function _m(){var s=Uu!==0;return Uu=0,s}function rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Zt.memoizedState=On=s:On=On.next=s,On}function yi(){if(Sn===null){var s=Zt.alternate;s=s!==null?s.memoizedState:null}else s=Sn.next;var a=On===null?Zt.memoizedState:On.next;if(a!==null)On=a,Sn=s;else{if(s===null)throw Error(t(310));Sn=s,s={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},On===null?Zt.memoizedState=On=s:On=On.next=s}return On}function Bu(s,a){return typeof a=="function"?a(s):a}function vm(s){var a=yi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=Sn,g=p.baseQueue,E=c.pending;if(E!==null){if(g!==null){var R=g.next;g.next=E.next,E.next=R}p.baseQueue=g=E,c.pending=null}if(g!==null){E=g.next,p=p.baseState;var F=R=null,W=null,re=E;do{var fe=re.lane;if((ra&fe)===fe)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),p=re.hasEagerState?re.eagerState:s(p,re.action);else{var ge={lane:fe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(F=W=ge,R=p):W=W.next=ge,Zt.lanes|=fe,ia|=fe}re=re.next}while(re!==null&&re!==E);W===null?R=p:W.next=F,Li(p,a.memoizedState)||(Fr=!0),a.memoizedState=p,a.baseState=R,a.baseQueue=W,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do E=g.lane,Zt.lanes|=E,ia|=E,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function wm(s){var a=yi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,E=a.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do E=s(E,R.action),R=R.next;while(R!==g);Li(E,a.memoizedState)||(Fr=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function I_(){}function b_(s,a){var c=Zt,p=yi(),g=a(),E=!Li(p.memoizedState,g);if(E&&(p.memoizedState=g,Fr=!0),p=p.queue,Em(x_.bind(null,c,p,s),[s]),p.getSnapshot!==a||E||On!==null&&On.memoizedState.tag&1){if(c.flags|=2048,zu(9,P_.bind(null,c,p,g,a),void 0,null),Dn===null)throw Error(t(349));ra&30||k_(c,a,g)}return g}function k_(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Zt.updateQueue,a===null?(a={lastEffect:null,stores:null},Zt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function P_(s,a,c,p){a.value=c,a.getSnapshot=p,N_(a)&&L_(s)}function x_(s,a,c){return c(function(){N_(a)&&L_(s)})}function N_(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Li(s,c)}catch{return!0}}function L_(s){var a=Os(s,1);a!==null&&Fi(a,s,1,-1)}function O_(s){var a=rs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:s},a.queue=s,s=s.dispatch=LC.bind(null,Zt,s),[a.memoizedState,s]}function zu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=Zt.updateQueue,a===null?(a={lastEffect:null,stores:null},Zt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function D_(){return yi().memoizedState}function Wh(s,a,c,p){var g=rs();Zt.flags|=s,g.memoizedState=zu(1|a,c,void 0,p===void 0?null:p)}function Hh(s,a,c,p){var g=yi();p=p===void 0?null:p;var E=void 0;if(Sn!==null){var R=Sn.memoizedState;if(E=R.destroy,p!==null&&gm(p,R.deps)){g.memoizedState=zu(a,c,E,p);return}}Zt.flags|=s,g.memoizedState=zu(1|a,c,E,p)}function M_(s,a){return Wh(8390656,8,s,a)}function Em(s,a){return Hh(2048,8,s,a)}function V_(s,a){return Hh(4,2,s,a)}function F_(s,a){return Hh(4,4,s,a)}function U_(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function B_(s,a,c){return c=c!=null?c.concat([s]):null,Hh(4,4,U_.bind(null,a,s),c)}function Cm(){}function z_(s,a){var c=yi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&gm(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function j_(s,a){var c=yi();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&gm(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function $_(s,a,c){return ra&21?(Li(c,a)||(c=Xi(),Zt.lanes|=c,ia|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Fr=!0),s.memoizedState=c)}function xC(s,a){var c=u;u=c!==0&&4>c?c:4,s(!0);var p=mm.transition;mm.transition={};try{s(!1),a()}finally{u=c,mm.transition=p}}function W_(){return yi().memoizedState}function NC(s,a,c){var p=yo(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},H_(s))q_(a,c);else if(c=C_(s,a,c,p),c!==null){var g=Ir();Fi(c,s,p,g),G_(c,a,p)}}function LC(s,a,c){var p=yo(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(H_(s))q_(a,g);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var R=a.lastRenderedState,F=E(R,c);if(g.hasEagerState=!0,g.eagerState=F,Li(F,R)){var W=a.interleaved;W===null?(g.next=g,um(a)):(g.next=W.next,W.next=g),a.interleaved=g;return}}catch{}finally{}c=C_(s,a,g,p),c!==null&&(g=Ir(),Fi(c,s,p,g),G_(c,a,p))}}function H_(s){var a=s.alternate;return s===Zt||a!==null&&a===Zt}function q_(s,a){Fu=$h=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function G_(s,a,c){if(c&4194240){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,Sr(s,c)}}var qh={readContext:gi,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},OC={readContext:gi,useCallback:function(s,a){return rs().memoizedState=[s,a===void 0?null:a],s},useContext:gi,useEffect:M_,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Wh(4194308,4,U_.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Wh(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wh(4,2,s,a)},useMemo:function(s,a){var c=rs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=rs();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=NC.bind(null,Zt,s),[p.memoizedState,s]},useRef:function(s){var a=rs();return s={current:s},a.memoizedState=s},useState:O_,useDebugValue:Cm,useDeferredValue:function(s){return rs().memoizedState=s},useTransition:function(){var s=O_(!1),a=s[0];return s=xC.bind(null,s[1]),rs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=Zt,g=rs();if(qt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Dn===null)throw Error(t(349));ra&30||k_(p,a,c)}g.memoizedState=c;var E={value:c,getSnapshot:a};return g.queue=E,M_(x_.bind(null,p,E,s),[s]),p.flags|=2048,zu(9,P_.bind(null,p,E,c,a),void 0,null),c},useId:function(){var s=rs(),a=Dn.identifierPrefix;if(qt){var c=Ls,p=Ns;c=(p&~(1<<32-qn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Uu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=PC++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},DC={readContext:gi,useCallback:z_,useContext:gi,useEffect:Em,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:F_,useMemo:j_,useReducer:vm,useRef:D_,useState:function(){return vm(Bu)},useDebugValue:Cm,useDeferredValue:function(s){var a=yi();return $_(a,Sn.memoizedState,s)},useTransition:function(){var s=vm(Bu)[0],a=yi().memoizedState;return[s,a]},useMutableSource:I_,useSyncExternalStore:b_,useId:W_,unstable_isNewReconciler:!1},MC={readContext:gi,useCallback:z_,useContext:gi,useEffect:Em,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:F_,useMemo:j_,useReducer:wm,useRef:D_,useState:function(){return wm(Bu)},useDebugValue:Cm,useDeferredValue:function(s){var a=yi();return Sn===null?a.memoizedState=s:$_(a,Sn.memoizedState,s)},useTransition:function(){var s=wm(Bu)[0],a=yi().memoizedState;return[s,a]},useMutableSource:I_,useSyncExternalStore:b_,useId:W_,unstable_isNewReconciler:!1};function Di(s,a){if(s&&s.defaultProps){a=K({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Tm(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:K({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Gh={isMounted:function(s){return(s=s._reactInternals)?hn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=Ir(),g=yo(s),E=Ds(p,g);E.payload=a,c!=null&&(E.callback=c),a=fo(s,E,g),a!==null&&(Fi(a,s,g,p),Uh(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=Ir(),g=yo(s),E=Ds(p,g);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=fo(s,E,g),a!==null&&(Fi(a,s,g,p),Uh(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ir(),p=yo(s),g=Ds(c,p);g.tag=2,a!=null&&(g.callback=a),a=fo(s,g,p),a!==null&&(Fi(a,s,p,c),Uh(a,s,p))}};function K_(s,a,c,p,g,E,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,E,R):a.prototype&&a.prototype.isPureReactComponent?!Iu(c,p)||!Iu(g,E):!0}function Q_(s,a,c){var p=!1,g=uo,E=a.contextType;return typeof E=="object"&&E!==null?E=gi(E):(g=Vr(a)?Zo:ir.current,p=a.contextTypes,E=(p=p!=null)?al(s,g):uo),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gh,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=E),a}function Y_(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Gh.enqueueReplaceState(a,a.state,null)}function Sm(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},cm(s);var E=a.contextType;typeof E=="object"&&E!==null?g.context=gi(E):(E=Vr(a)?Zo:ir.current,g.context=al(s,E)),g.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Tm(s,a,E,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Gh.enqueueReplaceState(g,g.state,null),Bh(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ml(s,a){try{var c="",p=a;do c+=he(p),p=p.return;while(p);var g=c}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:g,digest:null}}function Am(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Rm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var VC=typeof WeakMap=="function"?WeakMap:Map;function X_(s,a,c){c=Ds(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){ed||(ed=!0,zm=p),Rm(s,a)},c}function Z_(s,a,c){c=Ds(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Rm(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Rm(s,a),typeof p!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),c}function J_(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new VC;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=XC.bind(null,s,a,c),a.then(s,s))}function ev(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function tv(s,a,c,p,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ds(-1,1),a.tag=2,fo(c,a,1))),c.lanes|=1),s)}var FC=ae.ReactCurrentOwner,Fr=!1;function Rr(s,a,c,p){a.child=s===null?E_(a,null,c,p):hl(a,s.child,c,p)}function nv(s,a,c,p,g){c=c.render;var E=a.ref;return fl(a,g),p=ym(s,a,c,p,E,g),c=_m(),s!==null&&!Fr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ms(s,a,g)):(qt&&c&&em(a),a.flags|=1,Rr(s,a,p,g),a.child)}function rv(s,a,c,p,g){if(s===null){var E=c.type;return typeof E=="function"&&!Km(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,iv(s,a,E,p,g)):(s=od(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&g)){var R=E.memoizedProps;if(c=c.compare,c=c!==null?c:Iu,c(R,p)&&s.ref===a.ref)return Ms(s,a,g)}return a.flags|=1,s=vo(E,p),s.ref=a.ref,s.return=a,a.child=s}function iv(s,a,c,p,g){if(s!==null){var E=s.memoizedProps;if(Iu(E,p)&&s.ref===a.ref)if(Fr=!1,a.pendingProps=p=E,(s.lanes&g)!==0)s.flags&131072&&(Fr=!0);else return a.lanes=s.lanes,Ms(s,a,g)}return Im(s,a,c,p,g)}function sv(s,a,c){var p=a.pendingProps,g=p.children,E=s!==null?s.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(yl,Jr),Jr|=c;else{if(!(c&1073741824))return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Vt(yl,Jr),Jr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,Vt(yl,Jr),Jr|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,Vt(yl,Jr),Jr|=p;return Rr(s,a,g,c),a.child}function ov(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Im(s,a,c,p,g){var E=Vr(c)?Zo:ir.current;return E=al(a,E),fl(a,g),c=ym(s,a,c,p,E,g),p=_m(),s!==null&&!Fr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ms(s,a,g)):(qt&&p&&em(a),a.flags|=1,Rr(s,a,c,g),a.child)}function av(s,a,c,p,g){if(Vr(c)){var E=!0;xh(a)}else E=!1;if(fl(a,g),a.stateNode===null)Qh(s,a),Q_(a,c,p),Sm(a,c,p,g),p=!0;else if(s===null){var R=a.stateNode,F=a.memoizedProps;R.props=F;var W=R.context,re=c.contextType;typeof re=="object"&&re!==null?re=gi(re):(re=Vr(c)?Zo:ir.current,re=al(a,re));var fe=c.getDerivedStateFromProps,ge=typeof fe=="function"||typeof R.getSnapshotBeforeUpdate=="function";ge||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==p||W!==re)&&Y_(a,R,p,re),ho=!1;var de=a.memoizedState;R.state=de,Bh(a,p,R,g),W=a.memoizedState,F!==p||de!==W||Mr.current||ho?(typeof fe=="function"&&(Tm(a,c,fe,p),W=a.memoizedState),(F=ho||K_(a,c,F,p,de,W,re))?(ge||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=W),R.props=p,R.state=W,R.context=re,p=F):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{R=a.stateNode,T_(s,a),F=a.memoizedProps,re=a.type===a.elementType?F:Di(a.type,F),R.props=re,ge=a.pendingProps,de=R.context,W=c.contextType,typeof W=="object"&&W!==null?W=gi(W):(W=Vr(c)?Zo:ir.current,W=al(a,W));var xe=c.getDerivedStateFromProps;(fe=typeof xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(F!==ge||de!==W)&&Y_(a,R,p,W),ho=!1,de=a.memoizedState,R.state=de,Bh(a,p,R,g);var Me=a.memoizedState;F!==ge||de!==Me||Mr.current||ho?(typeof xe=="function"&&(Tm(a,c,xe,p),Me=a.memoizedState),(re=ho||K_(a,c,re,p,de,Me,W)||!1)?(fe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Me,W),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Me,W)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Me),R.props=p,R.state=Me,R.context=W,p=re):(typeof R.componentDidUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),p=!1)}return bm(s,a,c,p,E,g)}function bm(s,a,c,p,g,E){ov(s,a);var R=(a.flags&128)!==0;if(!p&&!R)return g&&d_(a,c,!1),Ms(s,a,E);p=a.stateNode,FC.current=a;var F=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&R?(a.child=hl(a,s.child,null,E),a.child=hl(a,null,F,E)):Rr(s,a,F,E),a.memoizedState=p.state,g&&d_(a,c,!0),a.child}function lv(s){var a=s.stateNode;a.pendingContext?c_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&c_(s,a.context,!1),hm(s,a.containerInfo)}function uv(s,a,c,p,g){return cl(),im(g),a.flags|=256,Rr(s,a,c,p),a.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Pm(s){return{baseLanes:s,cachePool:null,transitions:null}}function cv(s,a,c){var p=a.pendingProps,g=Xt.current,E=!1,R=(a.flags&128)!==0,F;if((F=R)||(F=s!==null&&s.memoizedState===null?!1:(g&2)!==0),F?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Vt(Xt,g&1),s===null)return rm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(R=p.children,s=p.fallback,E?(p=a.mode,E=a.child,R={mode:"hidden",children:R},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=R):E=ad(R,p,0,null),s=la(s,p,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Pm(c),a.memoizedState=km,s):xm(a,R));if(g=s.memoizedState,g!==null&&(F=g.dehydrated,F!==null))return UC(s,a,R,p,F,g,c);if(E){E=p.fallback,R=a.mode,g=s.child,F=g.sibling;var W={mode:"hidden",children:p.children};return!(R&1)&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=W,a.deletions=null):(p=vo(g,W),p.subtreeFlags=g.subtreeFlags&14680064),F!==null?E=vo(F,E):(E=la(E,R,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,R=s.child.memoizedState,R=R===null?Pm(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=s.childLanes&~c,a.memoizedState=km,p}return E=s.child,s=E.sibling,p=vo(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function xm(s,a){return a=ad({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Kh(s,a,c,p){return p!==null&&im(p),hl(a,s.child,null,c),s=xm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function UC(s,a,c,p,g,E,R){if(c)return a.flags&256?(a.flags&=-257,p=Am(Error(t(422))),Kh(s,a,R,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=p.fallback,g=a.mode,p=ad({mode:"visible",children:p.children},g,0,null),E=la(E,g,R,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&hl(a,s.child,null,R),a.child.memoizedState=Pm(R),a.memoizedState=km,E);if(!(a.mode&1))return Kh(s,a,R,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var F=p.dgst;return p=F,E=Error(t(419)),p=Am(E,p,void 0),Kh(s,a,R,p)}if(F=(R&s.childLanes)!==0,Fr||F){if(p=Dn,p!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|R)?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,Os(s,g),Fi(p,s,g,-1))}return Gm(),p=Am(Error(t(421))),Kh(s,a,R,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=ZC.bind(null,s),g._reactRetry=a,null):(s=E.treeContext,Zr=ao(g.nextSibling),Xr=a,qt=!0,Oi=null,s!==null&&(pi[mi++]=Ns,pi[mi++]=Ls,pi[mi++]=Jo,Ns=s.id,Ls=s.overflow,Jo=a),a=xm(a,p.children),a.flags|=4096,a)}function hv(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),lm(s.return,a,c)}function Nm(s,a,c,p,g){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=g)}function dv(s,a,c){var p=a.pendingProps,g=p.revealOrder,E=p.tail;if(Rr(s,a,p.children,c),p=Xt.current,p&2)p=p&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hv(s,c,a);else if(s.tag===19)hv(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Vt(Xt,p),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&zh(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Nm(a,!1,g,c,E);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&zh(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Nm(a,!0,c,null,E);break;case"together":Nm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ms(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ia|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=vo(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=vo(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function BC(s,a,c){switch(a.tag){case 3:lv(a),cl();break;case 5:R_(a);break;case 1:Vr(a.type)&&xh(a);break;case 4:hm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Vt(Vh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Vt(Xt,Xt.current&1),a.flags|=128,null):c&a.child.childLanes?cv(s,a,c):(Vt(Xt,Xt.current&1),s=Ms(s,a,c),s!==null?s.sibling:null);Vt(Xt,Xt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,s.flags&128){if(p)return dv(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Vt(Xt,Xt.current),p)break;return null;case 22:case 23:return a.lanes=0,sv(s,a,c)}return Ms(s,a,c)}var fv,Lm,pv,mv;fv=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Lm=function(){},pv=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,na(ns.current);var E=null;switch(c){case"input":g=kt(s,g),p=kt(s,p),E=[];break;case"select":g=K({},g,{value:void 0}),p=K({},p,{value:void 0}),E=[];break;case"textarea":g=yr(s,g),p=yr(s,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=bh)}Q(c,p);var R;c=null;for(re in g)if(!p.hasOwnProperty(re)&&g.hasOwnProperty(re)&&g[re]!=null)if(re==="style"){var F=g[re];for(R in F)F.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?E||(E=[]):(E=E||[]).push(re,null));for(re in p){var W=p[re];if(F=g!=null?g[re]:void 0,p.hasOwnProperty(re)&&W!==F&&(W!=null||F!=null))if(re==="style")if(F){for(R in F)!F.hasOwnProperty(R)||W&&W.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in W)W.hasOwnProperty(R)&&F[R]!==W[R]&&(c||(c={}),c[R]=W[R])}else c||(E||(E=[]),E.push(re,c)),c=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,F=F?F.__html:void 0,W!=null&&F!==W&&(E=E||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&Ut("scroll",s),E||F===W||(E=[])):(E=E||[]).push(re,W))}c&&(E=E||[]).push("style",c);var re=E;(a.updateQueue=re)&&(a.flags|=4)}},mv=function(s,a,c,p){c!==p&&(a.flags|=4)};function ju(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function or(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function zC(s,a,c){var p=a.pendingProps;switch(tm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(a),null;case 1:return Vr(a.type)&&Ph(),or(a),null;case 3:return p=a.stateNode,pl(),Bt(Mr),Bt(ir),pm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Dh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Oi!==null&&(Wm(Oi),Oi=null))),Lm(s,a),or(a),null;case 5:dm(a);var g=na(Vu.current);if(c=a.type,s!==null&&a.stateNode!=null)pv(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return or(a),null}if(s=na(ns.current),Dh(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[ts]=a,p[Nu]=E,s=(a.mode&1)!==0,c){case"dialog":Ut("cancel",p),Ut("close",p);break;case"iframe":case"object":case"embed":Ut("load",p);break;case"video":case"audio":for(g=0;g<ku.length;g++)Ut(ku[g],p);break;case"source":Ut("error",p);break;case"img":case"image":case"link":Ut("error",p),Ut("load",p);break;case"details":Ut("toggle",p);break;case"input":Bn(p,E),Ut("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Ut("invalid",p);break;case"textarea":_r(p,E),Ut("invalid",p)}Q(c,E),g=null;for(var R in E)if(E.hasOwnProperty(R)){var F=E[R];R==="children"?typeof F=="string"?p.textContent!==F&&(E.suppressHydrationWarning!==!0&&Ih(p.textContent,F,s),g=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(E.suppressHydrationWarning!==!0&&Ih(p.textContent,F,s),g=["children",""+F]):i.hasOwnProperty(R)&&F!=null&&R==="onScroll"&&Ut("scroll",p)}switch(c){case"input":ft(p),Ai(p,E,!0);break;case"textarea":ft(p),Pr(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=bh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=R.createElement(c,{is:p.is}):(s=R.createElement(c),c==="select"&&(R=s,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):s=R.createElementNS(s,c),s[ts]=a,s[Nu]=p,fv(s,a,!1,!1),a.stateNode=s;e:{switch(R=ue(c,p),c){case"dialog":Ut("cancel",s),Ut("close",s),g=p;break;case"iframe":case"object":case"embed":Ut("load",s),g=p;break;case"video":case"audio":for(g=0;g<ku.length;g++)Ut(ku[g],s);g=p;break;case"source":Ut("error",s),g=p;break;case"img":case"image":case"link":Ut("error",s),Ut("load",s),g=p;break;case"details":Ut("toggle",s),g=p;break;case"input":Bn(s,p),g=kt(s,p),Ut("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=K({},p,{value:void 0}),Ut("invalid",s);break;case"textarea":_r(s,p),g=yr(s,p),Ut("invalid",s);break;default:g=p}Q(c,g),F=g;for(E in F)if(F.hasOwnProperty(E)){var W=F[E];E==="style"?xr(s,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Cs(s,W)):E==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&$n(s,W):typeof W=="number"&&$n(s,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?W!=null&&E==="onScroll"&&Ut("scroll",s):W!=null&&Z(s,E,W,R))}switch(c){case"input":ft(s),Ai(s,p,!1);break;case"textarea":ft(s),Pr(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ke(p.value));break;case"select":s.multiple=!!p.multiple,E=p.value,E!=null?br(s,!!p.multiple,E,!1):p.defaultValue!=null&&br(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=bh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return or(a),null;case 6:if(s&&a.stateNode!=null)mv(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=na(Vu.current),na(ns.current),Dh(a)){if(p=a.stateNode,c=a.memoizedProps,p[ts]=a,(E=p.nodeValue!==c)&&(s=Xr,s!==null))switch(s.tag){case 3:Ih(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ih(p.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ts]=a,a.stateNode=p}return or(a),null;case 13:if(Bt(Xt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(qt&&Zr!==null&&a.mode&1&&!(a.flags&128))__(),cl(),a.flags|=98560,E=!1;else if(E=Dh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[ts]=a}else cl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;or(a),E=!1}else Oi!==null&&(Wm(Oi),Oi=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(s===null||Xt.current&1?An===0&&(An=3):Gm())),a.updateQueue!==null&&(a.flags|=4),or(a),null);case 4:return pl(),Lm(s,a),s===null&&Pu(a.stateNode.containerInfo),or(a),null;case 10:return am(a.type._context),or(a),null;case 17:return Vr(a.type)&&Ph(),or(a),null;case 19:if(Bt(Xt),E=a.memoizedState,E===null)return or(a),null;if(p=(a.flags&128)!==0,R=E.rendering,R===null)if(p)ju(E,!1);else{if(An!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(R=zh(s),R!==null){for(a.flags|=128,ju(E,!1),p=R.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,s=p,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,s=R.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Vt(Xt,Xt.current&1|2),a.child}s=s.sibling}E.tail!==null&&xt()>_l&&(a.flags|=128,p=!0,ju(E,!1),a.lanes=4194304)}else{if(!p)if(s=zh(R),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ju(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!qt)return or(a),null}else 2*xt()-E.renderingStartTime>_l&&c!==1073741824&&(a.flags|=128,p=!0,ju(E,!1),a.lanes=4194304);E.isBackwards?(R.sibling=a.child,a.child=R):(c=E.last,c!==null?c.sibling=R:a.child=R,E.last=R)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=xt(),a.sibling=null,c=Xt.current,Vt(Xt,p?c&1|2:c&1),a):(or(a),null);case 22:case 23:return qm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?Jr&1073741824&&(or(a),a.subtreeFlags&6&&(a.flags|=8192)):or(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function jC(s,a){switch(tm(a),a.tag){case 1:return Vr(a.type)&&Ph(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return pl(),Bt(Mr),Bt(ir),pm(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return dm(a),null;case 13:if(Bt(Xt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));cl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Bt(Xt),null;case 4:return pl(),null;case 10:return am(a.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var Yh=!1,ar=!1,$C=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function gl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){sn(s,a,p)}else c.current=null}function Om(s,a,c){try{c()}catch(p){sn(s,a,p)}}var gv=!1;function WC(s,a){if(qp=io,s=Ky(),Fp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var R=0,F=-1,W=-1,re=0,fe=0,ge=s,de=null;t:for(;;){for(var xe;ge!==c||g!==0&&ge.nodeType!==3||(F=R+g),ge!==E||p!==0&&ge.nodeType!==3||(W=R+p),ge.nodeType===3&&(R+=ge.nodeValue.length),(xe=ge.firstChild)!==null;)de=ge,ge=xe;for(;;){if(ge===s)break t;if(de===c&&++re===g&&(F=R),de===E&&++fe===p&&(W=R),(xe=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=xe}c=F===-1||W===-1?null:{start:F,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(Gp={focusedElem:s,selectionRange:c},io=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Me=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Fe=Me.memoizedProps,ln=Me.memoizedState,ee=a.stateNode,G=ee.getSnapshotBeforeUpdate(a.elementType===a.type?Fe:Di(a.type,Fe),ln);ee.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ne=a.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ee){sn(a,a.return,Ee)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Me=gv,gv=!1,Me}function $u(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var E=g.destroy;g.destroy=void 0,E!==void 0&&Om(a,c,E)}g=g.next}while(g!==p)}}function Xh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Dm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function yv(s){var a=s.alternate;a!==null&&(s.alternate=null,yv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ts],delete a[Nu],delete a[Xp],delete a[RC],delete a[IC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function _v(s){return s.tag===5||s.tag===3||s.tag===4}function vv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||_v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=bh));else if(p!==4&&(s=s.child,s!==null))for(Mm(s,a,c),s=s.sibling;s!==null;)Mm(s,a,c),s=s.sibling}function Vm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Vm(s,a,c),s=s.sibling;s!==null;)Vm(s,a,c),s=s.sibling}var Yn=null,Mi=!1;function po(s,a,c){for(c=c.child;c!==null;)wv(s,a,c),c=c.sibling}function wv(s,a,c){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Or,c)}catch{}switch(c.tag){case 5:ar||gl(c,a);case 6:var p=Yn,g=Mi;Yn=null,po(s,a,c),Yn=p,Mi=g,Yn!==null&&(Mi?(s=Yn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Yn.removeChild(c.stateNode));break;case 18:Yn!==null&&(Mi?(s=Yn,c=c.stateNode,s.nodeType===8?Yp(s.parentNode,c):s.nodeType===1&&Yp(s,c),xi(s)):Yp(Yn,c.stateNode));break;case 4:p=Yn,g=Mi,Yn=c.stateNode.containerInfo,Mi=!0,po(s,a,c),Yn=p,Mi=g;break;case 0:case 11:case 14:case 15:if(!ar&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var E=g,R=E.destroy;E=E.tag,R!==void 0&&(E&2||E&4)&&Om(c,a,R),g=g.next}while(g!==p)}po(s,a,c);break;case 1:if(!ar&&(gl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){sn(c,a,F)}po(s,a,c);break;case 21:po(s,a,c);break;case 22:c.mode&1?(ar=(p=ar)||c.memoizedState!==null,po(s,a,c),ar=p):po(s,a,c);break;default:po(s,a,c)}}function Ev(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new $C),a.forEach(function(p){var g=JC.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Vi(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var E=s,R=a,F=R;e:for(;F!==null;){switch(F.tag){case 5:Yn=F.stateNode,Mi=!1;break e;case 3:Yn=F.stateNode.containerInfo,Mi=!0;break e;case 4:Yn=F.stateNode.containerInfo,Mi=!0;break e}F=F.return}if(Yn===null)throw Error(t(160));wv(E,R,g),Yn=null,Mi=!1;var W=g.alternate;W!==null&&(W.return=null),g.return=null}catch(re){sn(g,a,re)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Cv(a,s),a=a.sibling}function Cv(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vi(a,s),is(s),p&4){try{$u(3,s,s.return),Xh(3,s)}catch(Fe){sn(s,s.return,Fe)}try{$u(5,s,s.return)}catch(Fe){sn(s,s.return,Fe)}}break;case 1:Vi(a,s),is(s),p&512&&c!==null&&gl(c,c.return);break;case 5:if(Vi(a,s),is(s),p&512&&c!==null&&gl(c,c.return),s.flags&32){var g=s.stateNode;try{$n(g,"")}catch(Fe){sn(s,s.return,Fe)}}if(p&4&&(g=s.stateNode,g!=null)){var E=s.memoizedProps,R=c!==null?c.memoizedProps:E,F=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{F==="input"&&E.type==="radio"&&E.name!=null&&nn(g,E),ue(F,R);var re=ue(F,E);for(R=0;R<W.length;R+=2){var fe=W[R],ge=W[R+1];fe==="style"?xr(g,ge):fe==="dangerouslySetInnerHTML"?Cs(g,ge):fe==="children"?$n(g,ge):Z(g,fe,ge,re)}switch(F){case"input":rn(g,E);break;case"textarea":kr(g,E);break;case"select":var de=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var xe=E.value;xe!=null?br(g,!!E.multiple,xe,!1):de!==!!E.multiple&&(E.defaultValue!=null?br(g,!!E.multiple,E.defaultValue,!0):br(g,!!E.multiple,E.multiple?[]:"",!1))}g[Nu]=E}catch(Fe){sn(s,s.return,Fe)}}break;case 6:if(Vi(a,s),is(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,E=s.memoizedProps;try{g.nodeValue=E}catch(Fe){sn(s,s.return,Fe)}}break;case 3:if(Vi(a,s),is(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{xi(a.containerInfo)}catch(Fe){sn(s,s.return,Fe)}break;case 4:Vi(a,s),is(s);break;case 13:Vi(a,s),is(s),g=s.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(Bm=xt())),p&4&&Ev(s);break;case 22:if(fe=c!==null&&c.memoizedState!==null,s.mode&1?(ar=(re=ar)||fe,Vi(a,s),ar=re):Vi(a,s),is(s),p&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!fe&&s.mode&1)for(Oe=s,fe=s.child;fe!==null;){for(ge=Oe=fe;Oe!==null;){switch(de=Oe,xe=de.child,de.tag){case 0:case 11:case 14:case 15:$u(4,de,de.return);break;case 1:gl(de,de.return);var Me=de.stateNode;if(typeof Me.componentWillUnmount=="function"){p=de,c=de.return;try{a=p,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(Fe){sn(p,c,Fe)}}break;case 5:gl(de,de.return);break;case 22:if(de.memoizedState!==null){Av(ge);continue}}xe!==null?(xe.return=de,Oe=xe):Av(ge)}fe=fe.sibling}e:for(fe=null,ge=s;;){if(ge.tag===5){if(fe===null){fe=ge;try{g=ge.stateNode,re?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(F=ge.stateNode,W=ge.memoizedProps.style,R=W!=null&&W.hasOwnProperty("display")?W.display:null,F.style.display=Ts("display",R))}catch(Fe){sn(s,s.return,Fe)}}}else if(ge.tag===6){if(fe===null)try{ge.stateNode.nodeValue=re?"":ge.memoizedProps}catch(Fe){sn(s,s.return,Fe)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===s)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===s)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===s)break e;fe===ge&&(fe=null),ge=ge.return}fe===ge&&(fe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Vi(a,s),is(s),p&4&&Ev(s);break;case 21:break;default:Vi(a,s),is(s)}}function is(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(_v(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&($n(g,""),p.flags&=-33);var E=vv(s);Vm(s,E,g);break;case 3:case 4:var R=p.stateNode.containerInfo,F=vv(s);Mm(s,F,R);break;default:throw Error(t(161))}}catch(W){sn(s,s.return,W)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HC(s,a,c){Oe=s,Tv(s)}function Tv(s,a,c){for(var p=(s.mode&1)!==0;Oe!==null;){var g=Oe,E=g.child;if(g.tag===22&&p){var R=g.memoizedState!==null||Yh;if(!R){var F=g.alternate,W=F!==null&&F.memoizedState!==null||ar;F=Yh;var re=ar;if(Yh=R,(ar=W)&&!re)for(Oe=g;Oe!==null;)R=Oe,W=R.child,R.tag===22&&R.memoizedState!==null?Rv(g):W!==null?(W.return=R,Oe=W):Rv(g);for(;E!==null;)Oe=E,Tv(E),E=E.sibling;Oe=g,Yh=F,ar=re}Sv(s)}else g.subtreeFlags&8772&&E!==null?(E.return=g,Oe=E):Sv(s)}}function Sv(s){for(;Oe!==null;){var a=Oe;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ar||Xh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!ar)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Di(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&A_(a,E,p);break;case 3:var R=a.updateQueue;if(R!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}A_(a,R,c)}break;case 5:var F=a.stateNode;if(c===null&&a.flags&4){c=F;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var re=a.alternate;if(re!==null){var fe=re.memoizedState;if(fe!==null){var ge=fe.dehydrated;ge!==null&&xi(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ar||a.flags&512&&Dm(a)}catch(de){sn(a,a.return,de)}}if(a===s){Oe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function Av(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function Rv(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Xh(4,a)}catch(W){sn(a,c,W)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(W){sn(a,g,W)}}var E=a.return;try{Dm(a)}catch(W){sn(a,E,W)}break;case 5:var R=a.return;try{Dm(a)}catch(W){sn(a,R,W)}}}catch(W){sn(a,a.return,W)}if(a===s){Oe=null;break}var F=a.sibling;if(F!==null){F.return=a.return,Oe=F;break}Oe=a.return}}var qC=Math.ceil,Zh=ae.ReactCurrentDispatcher,Fm=ae.ReactCurrentOwner,_i=ae.ReactCurrentBatchConfig,vt=0,Dn=null,gn=null,Xn=0,Jr=0,yl=lo(0),An=0,Wu=null,ia=0,Jh=0,Um=0,Hu=null,Ur=null,Bm=0,_l=1/0,Vs=null,ed=!1,zm=null,mo=null,td=!1,go=null,nd=0,qu=0,jm=null,rd=-1,id=0;function Ir(){return vt&6?xt():rd!==-1?rd:rd=xt()}function yo(s){return s.mode&1?vt&2&&Xn!==0?Xn&-Xn:kC.transition!==null?(id===0&&(id=Xi()),id):(s=u,s!==0||(s=window.event,s=s===void 0?16:wu(s.type)),s):1}function Fi(s,a,c,p){if(50<qu)throw qu=0,jm=null,Error(t(185));ki(s,c,p),(!(vt&2)||s!==Dn)&&(s===Dn&&(!(vt&2)&&(Jh|=c),An===4&&_o(s,Xn)),Br(s,p),c===1&&vt===0&&!(a.mode&1)&&(_l=xt()+500,Nh&&co()))}function Br(s,a){var c=s.callbackNode;di(s,a);var p=rr(s,s===Dn?Xn:0);if(p===0)c!==null&&oi(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&oi(c),a===1)s.tag===0?bC(bv.bind(null,s)):f_(bv.bind(null,s)),SC(function(){!(vt&6)&&co()}),c=null;else{switch(_(p)){case 1:c=Hn;break;case 4:c=li;break;case 16:c=Lr;break;case 536870912:c=ja;break;default:c=Lr}c=Mv(c,Iv.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Iv(s,a){if(rd=-1,id=0,vt&6)throw Error(t(327));var c=s.callbackNode;if(vl()&&s.callbackNode!==c)return null;var p=rr(s,s===Dn?Xn:0);if(p===0)return null;if(p&30||p&s.expiredLanes||a)a=sd(s,p);else{a=p;var g=vt;vt|=2;var E=Pv();(Dn!==s||Xn!==a)&&(Vs=null,_l=xt()+500,oa(s,a));do try{QC();break}catch(F){kv(s,F)}while(!0);om(),Zh.current=E,vt=g,gn!==null?a=0:(Dn=null,Xn=0,a=An)}if(a!==0){if(a===2&&(g=fn(s),g!==0&&(p=g,a=$m(s,g))),a===1)throw c=Wu,oa(s,0),_o(s,p),Br(s,xt()),c;if(a===6)_o(s,p);else{if(g=s.current.alternate,!(p&30)&&!GC(g)&&(a=sd(s,p),a===2&&(E=fn(s),E!==0&&(p=E,a=$m(s,E))),a===1))throw c=Wu,oa(s,0),_o(s,p),Br(s,xt()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:aa(s,Ur,Vs);break;case 3:if(_o(s,p),(p&130023424)===p&&(a=Bm+500-xt(),10<a)){if(rr(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){Ir(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Qp(aa.bind(null,s,Ur,Vs),a);break}aa(s,Ur,Vs);break;case 4:if(_o(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var R=31-qn(p);E=1<<R,R=a[R],R>g&&(g=R),p&=~E}if(p=g,p=xt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*qC(p/1960))-p,10<p){s.timeoutHandle=Qp(aa.bind(null,s,Ur,Vs),p);break}aa(s,Ur,Vs);break;case 5:aa(s,Ur,Vs);break;default:throw Error(t(329))}}}return Br(s,xt()),s.callbackNode===c?Iv.bind(null,s):null}function $m(s,a){var c=Hu;return s.current.memoizedState.isDehydrated&&(oa(s,a).flags|=256),s=sd(s,a),s!==2&&(a=Ur,Ur=c,a!==null&&Wm(a)),s}function Wm(s){Ur===null?Ur=s:Ur.push.apply(Ur,s)}function GC(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],E=g.getSnapshot;g=g.value;try{if(!Li(E(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _o(s,a){for(a&=~Um,a&=~Jh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-qn(a),p=1<<c;s[c]=-1,a&=~p}}function bv(s){if(vt&6)throw Error(t(327));vl();var a=rr(s,0);if(!(a&1))return Br(s,xt()),null;var c=sd(s,a);if(s.tag!==0&&c===2){var p=fn(s);p!==0&&(a=p,c=$m(s,p))}if(c===1)throw c=Wu,oa(s,0),_o(s,a),Br(s,xt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,aa(s,Ur,Vs),Br(s,xt()),null}function Hm(s,a){var c=vt;vt|=1;try{return s(a)}finally{vt=c,vt===0&&(_l=xt()+500,Nh&&co())}}function sa(s){go!==null&&go.tag===0&&!(vt&6)&&vl();var a=vt;vt|=1;var c=_i.transition,p=u;try{if(_i.transition=null,u=1,s)return s()}finally{u=p,_i.transition=c,vt=a,!(vt&6)&&co()}}function qm(){Jr=yl.current,Bt(yl)}function oa(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,TC(c)),gn!==null)for(c=gn.return;c!==null;){var p=c;switch(tm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ph();break;case 3:pl(),Bt(Mr),Bt(ir),pm();break;case 5:dm(p);break;case 4:pl();break;case 13:Bt(Xt);break;case 19:Bt(Xt);break;case 10:am(p.type._context);break;case 22:case 23:qm()}c=c.return}if(Dn=s,gn=s=vo(s.current,null),Xn=Jr=a,An=0,Wu=null,Um=Jh=ia=0,Ur=Hu=null,ta!==null){for(a=0;a<ta.length;a++)if(c=ta[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,E=c.pending;if(E!==null){var R=E.next;E.next=g,p.next=R}c.pending=p}ta=null}return s}function kv(s,a){do{var c=gn;try{if(om(),jh.current=qh,$h){for(var p=Zt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}$h=!1}if(ra=0,On=Sn=Zt=null,Fu=!1,Uu=0,Fm.current=null,c===null||c.return===null){An=1,Wu=a,gn=null;break}e:{var E=s,R=c.return,F=c,W=a;if(a=Xn,F.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,fe=F,ge=fe.tag;if(!(fe.mode&1)&&(ge===0||ge===11||ge===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var xe=ev(R);if(xe!==null){xe.flags&=-257,tv(xe,R,F,E,a),xe.mode&1&&J_(E,re,a),a=xe,W=re;var Me=a.updateQueue;if(Me===null){var Fe=new Set;Fe.add(W),a.updateQueue=Fe}else Me.add(W);break e}else{if(!(a&1)){J_(E,re,a),Gm();break e}W=Error(t(426))}}else if(qt&&F.mode&1){var ln=ev(R);if(ln!==null){!(ln.flags&65536)&&(ln.flags|=256),tv(ln,R,F,E,a),im(ml(W,F));break e}}E=W=ml(W,F),An!==4&&(An=2),Hu===null?Hu=[E]:Hu.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ee=X_(E,W,a);S_(E,ee);break e;case 1:F=W;var G=E.type,ne=E.stateNode;if(!(E.flags&128)&&(typeof G.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(mo===null||!mo.has(ne)))){E.flags|=65536,a&=-a,E.lanes|=a;var Ee=Z_(E,F,a);S_(E,Ee);break e}}E=E.return}while(E!==null)}Nv(c)}catch(Ue){a=Ue,gn===c&&c!==null&&(gn=c=c.return);continue}break}while(!0)}function Pv(){var s=Zh.current;return Zh.current=qh,s===null?qh:s}function Gm(){(An===0||An===3||An===2)&&(An=4),Dn===null||!(ia&268435455)&&!(Jh&268435455)||_o(Dn,Xn)}function sd(s,a){var c=vt;vt|=2;var p=Pv();(Dn!==s||Xn!==a)&&(Vs=null,oa(s,a));do try{KC();break}catch(g){kv(s,g)}while(!0);if(om(),vt=c,Zh.current=p,gn!==null)throw Error(t(261));return Dn=null,Xn=0,An}function KC(){for(;gn!==null;)xv(gn)}function QC(){for(;gn!==null&&!za();)xv(gn)}function xv(s){var a=Dv(s.alternate,s,Jr);s.memoizedProps=s.pendingProps,a===null?Nv(s):gn=a,Fm.current=null}function Nv(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=jC(c,a),c!==null){c.flags&=32767,gn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{An=6,gn=null;return}}else if(c=zC(c,a,Jr),c!==null){gn=c;return}if(a=a.sibling,a!==null){gn=a;return}gn=a=s}while(a!==null);An===0&&(An=5)}function aa(s,a,c){var p=u,g=_i.transition;try{_i.transition=null,u=1,YC(s,a,c,p)}finally{_i.transition=g,u=p}return null}function YC(s,a,c,p){do vl();while(go!==null);if(vt&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(pt(s,E),s===Dn&&(gn=Dn=null,Xn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||td||(td=!0,Mv(Lr,function(){return vl(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=_i.transition,_i.transition=null;var R=u;u=1;var F=vt;vt|=4,Fm.current=null,WC(s,c),Cv(c,s),gC(Gp),io=!!qp,Gp=qp=null,s.current=c,HC(c),ai(),vt=F,u=R,_i.transition=E}else s.current=c;if(td&&(td=!1,go=s,nd=g),E=s.pendingLanes,E===0&&(mo=null),bi(c.stateNode),Br(s,xt()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(ed)throw ed=!1,s=zm,zm=null,s;return nd&1&&s.tag!==0&&vl(),E=s.pendingLanes,E&1?s===jm?qu++:(qu=0,jm=s):qu=0,co(),null}function vl(){if(go!==null){var s=_(nd),a=_i.transition,c=u;try{if(_i.transition=null,u=16>s?16:s,go===null)var p=!1;else{if(s=go,go=null,nd=0,vt&6)throw Error(t(331));var g=vt;for(vt|=4,Oe=s.current;Oe!==null;){var E=Oe,R=E.child;if(Oe.flags&16){var F=E.deletions;if(F!==null){for(var W=0;W<F.length;W++){var re=F[W];for(Oe=re;Oe!==null;){var fe=Oe;switch(fe.tag){case 0:case 11:case 15:$u(8,fe,E)}var ge=fe.child;if(ge!==null)ge.return=fe,Oe=ge;else for(;Oe!==null;){fe=Oe;var de=fe.sibling,xe=fe.return;if(yv(fe),fe===re){Oe=null;break}if(de!==null){de.return=xe,Oe=de;break}Oe=xe}}}var Me=E.alternate;if(Me!==null){var Fe=Me.child;if(Fe!==null){Me.child=null;do{var ln=Fe.sibling;Fe.sibling=null,Fe=ln}while(Fe!==null)}}Oe=E}}if(E.subtreeFlags&2064&&R!==null)R.return=E,Oe=R;else e:for(;Oe!==null;){if(E=Oe,E.flags&2048)switch(E.tag){case 0:case 11:case 15:$u(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Oe=ee;break e}Oe=E.return}}var G=s.current;for(Oe=G;Oe!==null;){R=Oe;var ne=R.child;if(R.subtreeFlags&2064&&ne!==null)ne.return=R,Oe=ne;else e:for(R=G;Oe!==null;){if(F=Oe,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:Xh(9,F)}}catch(Ue){sn(F,F.return,Ue)}if(F===R){Oe=null;break e}var Ee=F.sibling;if(Ee!==null){Ee.return=F.return,Oe=Ee;break e}Oe=F.return}}if(vt=g,co(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Or,s)}catch{}p=!0}return p}finally{u=c,_i.transition=a}}return!1}function Lv(s,a,c){a=ml(c,a),a=X_(s,a,1),s=fo(s,a,1),a=Ir(),s!==null&&(ki(s,1,a),Br(s,a))}function sn(s,a,c){if(s.tag===3)Lv(s,s,c);else for(;a!==null;){if(a.tag===3){Lv(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(mo===null||!mo.has(p))){s=ml(c,s),s=Z_(a,s,1),a=fo(a,s,1),s=Ir(),a!==null&&(ki(a,1,s),Br(a,s));break}}a=a.return}}function XC(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=Ir(),s.pingedLanes|=s.suspendedLanes&c,Dn===s&&(Xn&c)===c&&(An===4||An===3&&(Xn&130023424)===Xn&&500>xt()-Bm?oa(s,0):Um|=c),Br(s,a)}function Ov(s,a){a===0&&(s.mode&1?(a=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):a=1);var c=Ir();s=Os(s,a),s!==null&&(ki(s,a,c),Br(s,c))}function ZC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Ov(s,c)}function JC(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),Ov(s,c)}var Dv;Dv=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Mr.current)Fr=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return Fr=!1,BC(s,a,c);Fr=!!(s.flags&131072)}else Fr=!1,qt&&a.flags&1048576&&p_(a,Oh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Qh(s,a),s=a.pendingProps;var g=al(a,ir.current);fl(a,c),g=ym(null,a,p,s,g,c);var E=_m();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vr(p)?(E=!0,xh(a)):E=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,cm(a),g.updater=Gh,a.stateNode=g,g._reactInternals=a,Sm(a,p,s,c),a=bm(null,a,p,!0,E,c)):(a.tag=0,qt&&E&&em(a),Rr(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Qh(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=tT(p),s=Di(p,s),g){case 0:a=Im(null,a,p,s,c);break e;case 1:a=av(null,a,p,s,c);break e;case 11:a=nv(null,a,p,s,c);break e;case 14:a=rv(null,a,p,Di(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Di(p,g),Im(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Di(p,g),av(s,a,p,g,c);case 3:e:{if(lv(a),s===null)throw Error(t(387));p=a.pendingProps,E=a.memoizedState,g=E.element,T_(s,a),Bh(a,p,null,c);var R=a.memoizedState;if(p=R.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){g=ml(Error(t(423)),a),a=uv(s,a,p,c,g);break e}else if(p!==g){g=ml(Error(t(424)),a),a=uv(s,a,p,c,g);break e}else for(Zr=ao(a.stateNode.containerInfo.firstChild),Xr=a,qt=!0,Oi=null,c=E_(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(cl(),p===g){a=Ms(s,a,c);break e}Rr(s,a,p,c)}a=a.child}return a;case 5:return R_(a),s===null&&rm(a),p=a.type,g=a.pendingProps,E=s!==null?s.memoizedProps:null,R=g.children,Kp(p,g)?R=null:E!==null&&Kp(p,E)&&(a.flags|=32),ov(s,a),Rr(s,a,R,c),a.child;case 6:return s===null&&rm(a),null;case 13:return cv(s,a,c);case 4:return hm(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=hl(a,null,p,c):Rr(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Di(p,g),nv(s,a,p,g,c);case 7:return Rr(s,a,a.pendingProps,c),a.child;case 8:return Rr(s,a,a.pendingProps.children,c),a.child;case 12:return Rr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,E=a.memoizedProps,R=g.value,Vt(Vh,p._currentValue),p._currentValue=R,E!==null)if(Li(E.value,R)){if(E.children===g.children&&!Mr.current){a=Ms(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var F=E.dependencies;if(F!==null){R=E.child;for(var W=F.firstContext;W!==null;){if(W.context===p){if(E.tag===1){W=Ds(-1,c&-c),W.tag=2;var re=E.updateQueue;if(re!==null){re=re.shared;var fe=re.pending;fe===null?W.next=W:(W.next=fe.next,fe.next=W),re.pending=W}}E.lanes|=c,W=E.alternate,W!==null&&(W.lanes|=c),lm(E.return,c,a),F.lanes|=c;break}W=W.next}}else if(E.tag===10)R=E.type===a.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=c,F=R.alternate,F!==null&&(F.lanes|=c),lm(R,c,a),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===a){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}Rr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,fl(a,c),g=gi(g),p=p(g),a.flags|=1,Rr(s,a,p,c),a.child;case 14:return p=a.type,g=Di(p,a.pendingProps),g=Di(p.type,g),rv(s,a,p,g,c);case 15:return iv(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Di(p,g),Qh(s,a),a.tag=1,Vr(p)?(s=!0,xh(a)):s=!1,fl(a,c),Q_(a,p,g),Sm(a,p,g,c),bm(null,a,p,!0,s,c);case 19:return dv(s,a,c);case 22:return sv(s,a,c)}throw Error(t(156,a.tag))};function Mv(s,a){return Ii(s,a)}function eT(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(s,a,c,p){return new eT(s,a,c,p)}function Km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function tT(s){if(typeof s=="function")return Km(s)?1:0;if(s!=null){if(s=s.$$typeof,s===X)return 11;if(s===St)return 14}return 2}function vo(s,a){var c=s.alternate;return c===null?(c=vi(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function od(s,a,c,p,g,E){var R=2;if(p=s,typeof s=="function")Km(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case U:return la(c.children,g,E,a);case x:R=8,g|=8;break;case P:return s=vi(12,c,a,g|2),s.elementType=P,s.lanes=E,s;case D:return s=vi(13,c,a,g),s.elementType=D,s.lanes=E,s;case nt:return s=vi(19,c,a,g),s.elementType=nt,s.lanes=E,s;case Ge:return ad(c,g,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:R=10;break e;case H:R=9;break e;case X:R=11;break e;case St:R=14;break e;case dt:R=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=vi(R,c,a,g),a.elementType=s,a.type=p,a.lanes=E,a}function la(s,a,c,p){return s=vi(7,s,p,a),s.lanes=c,s}function ad(s,a,c,p){return s=vi(22,s,p,a),s.elementType=Ge,s.lanes=c,s.stateNode={isHidden:!1},s}function Qm(s,a,c){return s=vi(6,s,null,a),s.lanes=c,s}function Ym(s,a,c){return a=vi(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function nT(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tr(0),this.expirationTimes=Tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Xm(s,a,c,p,g,E,R,F,W){return s=new nT(s,a,c,F,W),a===1?(a=1,E===!0&&(a|=8)):a=0,E=vi(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},cm(E),s}function rT(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function Vv(s){if(!s)return uo;s=s._reactInternals;e:{if(hn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Vr(c))return h_(s,c,a)}return a}function Fv(s,a,c,p,g,E,R,F,W){return s=Xm(c,p,!0,s,g,E,R,F,W),s.context=Vv(null),c=s.current,p=Ir(),g=yo(c),E=Ds(p,g),E.callback=a??null,fo(c,E,g),s.current.lanes=g,ki(s,g,p),Br(s,p),s}function ld(s,a,c,p){var g=a.current,E=Ir(),R=yo(g);return c=Vv(c),a.context===null?a.context=c:a.pendingContext=c,a=Ds(E,R),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=fo(g,a,R),s!==null&&(Fi(s,g,R,E),Uh(s,g,R)),R}function ud(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Uv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Zm(s,a){Uv(s,a),(s=s.alternate)&&Uv(s,a)}var Bv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jm(s){this._internalRoot=s}cd.prototype.render=Jm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));ld(s,a,null,null)},cd.prototype.unmount=Jm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;sa(function(){ld(null,s,null,null)}),a[Ps]=null}};function cd(s){this._internalRoot=s}cd.prototype.unstable_scheduleHydration=function(s){if(s){var a=me();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Gn.length&&a!==0&&a<Gn[c].priority;c++);Gn.splice(c,0,s),c===0&&Nn(s)}};function e1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function zv(){}function iT(s,a,c,p,g){if(g){if(typeof p=="function"){var E=p;p=function(){var re=ud(R);E.call(re)}}var R=Fv(a,p,s,0,null,!1,!1,"",zv);return s._reactRootContainer=R,s[Ps]=R.current,Pu(s.nodeType===8?s.parentNode:s),sa(),R}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var F=p;p=function(){var re=ud(W);F.call(re)}}var W=Xm(s,0,!1,null,null,!1,!1,"",zv);return s._reactRootContainer=W,s[Ps]=W.current,Pu(s.nodeType===8?s.parentNode:s),sa(function(){ld(a,W,c,p)}),W}function dd(s,a,c,p,g){var E=c._reactRootContainer;if(E){var R=E;if(typeof g=="function"){var F=g;g=function(){var W=ud(R);F.call(W)}}ld(a,R,s,g)}else R=iT(c,a,s,g,p);return ud(R)}S=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=hi(a.pendingLanes);c!==0&&(Sr(a,c|1),Br(a,xt()),!(vt&6)&&(_l=xt()+500,co()))}break;case 13:sa(function(){var p=Os(s,1);if(p!==null){var g=Ir();Fi(p,s,1,g)}}),Zm(s,1)}},N=function(s){if(s.tag===13){var a=Os(s,134217728);if(a!==null){var c=Ir();Fi(a,s,134217728,c)}Zm(s,134217728)}},$=function(s){if(s.tag===13){var a=yo(s),c=Os(s,a);if(c!==null){var p=Ir();Fi(c,s,a,p)}Zm(s,a)}},me=function(){return u},Ft=function(s,a){var c=u;try{return u=s,a()}finally{u=c}},Ie=function(s,a,c){switch(a){case"input":if(rn(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=kh(p);if(!g)throw Error(t(90));Ke(p),rn(p,g)}}}break;case"textarea":kr(s,c);break;case"select":a=c.value,a!=null&&br(s,!!c.multiple,a,!1)}},Ct=Hm,Ot=sa;var sT={usingClientEntryPoint:!1,Events:[Lu,sl,kh,Be,wt,Hm]},Gu={findFiberByHostInstance:Xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oT={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Nr(s),s===null?null:s.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Or=fd.inject(oT),Er=fd}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sT,zr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e1(a))throw Error(t(200));return rT(s,a,null,c)},zr.createRoot=function(s,a){if(!e1(s))throw Error(t(299));var c=!1,p="",g=Bv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Xm(s,1,!1,null,null,c,!1,p,g),s[Ps]=a.current,Pu(s.nodeType===8?s.parentNode:s),new Jm(a)},zr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Nr(a),s=s===null?null:s.stateNode,s},zr.flushSync=function(s){return sa(s)},zr.hydrate=function(s,a,c){if(!hd(a))throw Error(t(200));return dd(null,s,a,!0,c)},zr.hydrateRoot=function(s,a,c){if(!e1(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,E="",R=Bv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),a=Fv(a,null,s,1,c??null,g,!1,E,R),s[Ps]=a.current,Pu(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new cd(a)},zr.render=function(s,a,c){if(!hd(a))throw Error(t(200));return dd(null,s,a,!1,c)},zr.unmountComponentAtNode=function(s){if(!hd(s))throw Error(t(40));return s._reactRootContainer?(sa(function(){dd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ps]=null})}),!0):!1},zr.unstable_batchedUpdates=Hm,zr.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!hd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return dd(s,a,c,!1,p)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var Qv;function c6(){if(Qv)return r1.exports;Qv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r1.exports=mT(),r1.exports}var Yv;function gT(){if(Yv)return pd;Yv=1;var n=c6();return pd.createRoot=n.createRoot,pd.hydrateRoot=n.hydrateRoot,pd}var yT=gT(),Qu={},Xv;function _T(){if(Xv)return Qu;Xv=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.parse=l,Qu.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function l(A,b){const I=new o,L=A.length;if(L<2)return I;const O=(b==null?void 0:b.decode)||y;let Y=0;do{const q=A.indexOf("=",Y);if(q===-1)break;const Z=A.indexOf(";",Y),ae=Z===-1?L:Z;if(q>ae){Y=A.lastIndexOf(";",q-1)+1;continue}const ve=h(A,Y,q),we=d(A,q,ve),U=A.slice(ve,we);if(I[U]===void 0){let x=h(A,q+1,ae),P=d(A,ae,x);const B=O(A.slice(x,P));I[U]=B}Y=ae+1}while(Y<L);return I}function h(A,b,I){do{const L=A.charCodeAt(b);if(L!==32&&L!==9)return b}while(++b<I);return I}function d(A,b,I){for(;b>I;){const L=A.charCodeAt(--b);if(L!==32&&L!==9)return b+1}return I}function m(A,b,I){const L=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const O=L(b);if(!e.test(O))throw new TypeError(`argument val is invalid: ${b}`);let Y=A+"="+O;if(!I)return Y;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);Y+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);Y+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);Y+="; Path="+I.path}if(I.expires){if(!C(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);Y+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(Y+="; HttpOnly"),I.secure&&(Y+="; Secure"),I.partitioned&&(Y+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return Y}function y(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function C(A){return i.call(A)==="[object Date]"}return Qu}_T();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function vT(n={}){function e(r,i){let{pathname:o,search:l,hash:h}=r.location;return X1("",{pathname:o,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:kc(i)}return ET(e,t,null,n)}function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function Jv(n,e){return{usr:n.state,key:n.key,idx:e}}function X1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:t,key:e&&e.key||r||wT()}}function kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ET(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,h="POP",d=null,m=y();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function y(){return(l.state||{idx:null}).idx}function C(){h="POP";let O=y(),Y=O==null?null:O-m;m=O,d&&d({action:h,location:L.location,delta:Y})}function A(O,Y){h="PUSH";let q=X1(L.location,O,Y);m=y()+1;let Z=Jv(q,m),ae=L.createHref(q);try{l.pushState(Z,"",ae)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;i.location.assign(ae)}o&&d&&d({action:h,location:L.location,delta:1})}function b(O,Y){h="REPLACE";let q=X1(L.location,O,Y);m=y();let Z=Jv(q,m),ae=L.createHref(q);l.replaceState(Z,"",ae),o&&d&&d({action:h,location:L.location,delta:0})}function I(O){let Y=i.location.origin!=="null"?i.location.origin:i.location.href,q=typeof O=="string"?O:kc(O);return q=q.replace(/ $/,"%20"),Qt(Y,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,Y)}let L={get action(){return h},get location(){return n(i,l)},listen(O){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Zv,C),d=O,()=>{i.removeEventListener(Zv,C),d=null}},createHref(O){return e(i,O)},createURL:I,encodeLocation(O){let Y=I(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:b,go(O){return l.go(O)}};return L}function h6(n,e,t="/"){return CT(n,e,t,!1)}function CT(n,e,t,r){let i=typeof e=="string"?tu(e):e,o=Lo(i.pathname||"/",t);if(o==null)return null;let l=d6(n);TT(l);let h=null;for(let d=0;h==null&&d<l.length;++d){let m=OT(o);h=NT(l[d],m,r)}return h}function d6(n,e=[],t=[],r=""){let i=(o,l,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Qt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Ws([r,d.relativePath]),y=t.concat(d);o.children&&o.children.length>0&&(Qt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),d6(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:PT(m,o.index),routesMeta:y})};return n.forEach((o,l)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,l);else for(let d of f6(o.path))i(o,l,d)}),e}function f6(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=f6(r.join("/")),h=[];return h.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...l),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function TT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ST=/^:[\w-]+$/,AT=3,RT=2,IT=1,bT=10,kT=-2,e2=n=>n==="*";function PT(n,e){let t=n.split("/"),r=t.length;return t.some(e2)&&(r+=kT),e&&(r+=RT),t.filter(i=>!e2(i)).reduce((i,o)=>i+(ST.test(o)?AT:o===""?IT:bT),r)}function xT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function NT(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",C=Yd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),A=d.route;if(!C&&m&&t&&!r[r.length-1].route.index&&(C=Yd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!C)return null;Object.assign(i,C.params),l.push({params:i,pathname:Ws([o,C.pathname]),pathnameBase:FT(Ws([o,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(o=Ws([o,C.pathnameBase]))}return l}function Yd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:C},A)=>{if(y==="*"){let I=h[A]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const b=h[A];return C&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:n}}function LT(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Lo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function DT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tu(n):n;return{pathname:t?t.startsWith("/")?t:MT(t,e):e,search:UT(r),hash:BT(i)}}function MT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function o1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xg(n){let e=VT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Zg(n,e,t,r=!1){let i;typeof n=="string"?i=tu(n):(i={...n},Qt(!i.pathname||!i.pathname.includes("?"),o1("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),o1("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),o1("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,h;if(l==null)h=t;else{let C=e.length-1;if(!r&&l.startsWith("..")){let A=l.split("/");for(;A[0]==="..";)A.shift(),C-=1;i.pathname=A.join("/")}h=C>=0?e[C]:"/"}let d=DT(i,h),m=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Ws=n=>n.join("/").replace(/\/\/+/g,"/"),FT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var p6=["POST","PUT","PATCH","DELETE"];new Set(p6);var jT=["GET",...p6];new Set(jT);var nu=ie.createContext(null);nu.displayName="DataRouter";var Of=ie.createContext(null);Of.displayName="DataRouterState";var m6=ie.createContext({isTransitioning:!1});m6.displayName="ViewTransition";var $T=ie.createContext(new Map);$T.displayName="Fetchers";var WT=ie.createContext(null);WT.displayName="Await";var Gi=ie.createContext(null);Gi.displayName="Navigation";var jc=ie.createContext(null);jc.displayName="Location";var ys=ie.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var Jg=ie.createContext(null);Jg.displayName="RouteError";function HT(n,{relative:e}={}){Qt(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ie.useContext(Gi),{hash:i,pathname:o,search:l}=$c(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ws([t,o])),r.createHref({pathname:h,search:l,hash:i})}function ru(){return ie.useContext(jc)!=null}function gr(){return Qt(ru(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(jc).location}var g6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y6(n){ie.useContext(Gi).static||ie.useLayoutEffect(n)}function Df(){let{isDataRoute:n}=ie.useContext(ys);return n?iS():qT()}function qT(){Qt(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=ie.useContext(nu),{basename:e,navigator:t}=ie.useContext(Gi),{matches:r}=ie.useContext(ys),{pathname:i}=gr(),o=JSON.stringify(Xg(r)),l=ie.useRef(!1);return y6(()=>{l.current=!0}),ie.useCallback((d,m={})=>{if(Hi(l.current,g6),!l.current)return;if(typeof d=="number"){t.go(d);return}let y=Zg(d,JSON.parse(o),i,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ws([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,i,n])}ie.createContext(null);function $c(n,{relative:e}={}){let{matches:t}=ie.useContext(ys),{pathname:r}=gr(),i=JSON.stringify(Xg(t));return ie.useMemo(()=>Zg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function GT(n,e){return _6(n,e)}function _6(n,e,t,r){var Y;Qt(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ie.useContext(Gi),{matches:o}=ie.useContext(ys),l=o[o.length-1],h=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",y=l&&l.route;{let q=y&&y.path||"";v6(d,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let C=gr(),A;if(e){let q=typeof e=="string"?tu(e):e;Qt(m==="/"||((Y=q.pathname)==null?void 0:Y.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=C;let b=A.pathname||"/",I=b;if(m!=="/"){let q=m.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=h6(n,{pathname:I});Hi(y||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Hi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ZT(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:Ws([m,i.encodeLocation?i.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?m:Ws([m,i.encodeLocation?i.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),o,t,r);return e&&O?ie.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function KT(){let n=rS(),e=zT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ie.createElement(ie.Fragment,null,ie.createElement("p",null,"💿 Hey developer 👋"),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:o},"ErrorBoundary")," or"," ",ie.createElement("code",{style:o},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:i},t):null,l)}var QT=ie.createElement(KT,null),YT=class extends ie.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ie.createElement(ys.Provider,{value:this.props.routeContext},ie.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XT({routeContext:n,match:e,children:t}){let r=ie.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ie.createElement(ys.Provider,{value:n},t)}function ZT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Qt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:C}=t,A=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!C||C[m.route.id]===void 0);if(m.route.lazy||A){l=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,m,y)=>{let C,A=!1,b=null,I=null;t&&(C=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||QT,l&&(h<0&&y===0?(v6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,I=null):h===y&&(A=!0,I=m.route.hydrateFallbackElement||null)));let L=e.concat(i.slice(0,y+1)),O=()=>{let Y;return C?Y=b:A?Y=I:m.route.Component?Y=ie.createElement(m.route.Component,null):m.route.element?Y=m.route.element:Y=d,ie.createElement(XT,{match:m,routeContext:{outlet:d,matches:L,isDataRoute:t!=null},children:Y})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?ie.createElement(YT,{location:t.location,revalidation:t.revalidation,component:b,error:C,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):O()},null)}function e0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(n){let e=ie.useContext(nu);return Qt(e,e0(n)),e}function eS(n){let e=ie.useContext(Of);return Qt(e,e0(n)),e}function tS(n){let e=ie.useContext(ys);return Qt(e,e0(n)),e}function t0(n){let e=tS(n),t=e.matches[e.matches.length-1];return Qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function nS(){return t0("useRouteId")}function rS(){var r;let n=ie.useContext(Jg),e=eS("useRouteError"),t=t0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function iS(){let{router:n}=JT("useNavigate"),e=t0("useNavigate"),t=ie.useRef(!1);return y6(()=>{t.current=!0}),ie.useCallback(async(i,o={})=>{Hi(t.current,g6),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var t2={};function v6(n,e,t){!e&&!t2[n]&&(t2[n]=!0,Hi(!1,t))}ie.memo(sS);function sS({routes:n,future:e,state:t}){return _6(n,void 0,t,e)}function oS({to:n,replace:e,state:t,relative:r}){Qt(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ie.useContext(Gi);Hi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ie.useContext(ys),{pathname:l}=gr(),h=Df(),d=Zg(n,Xg(o),l,r==="path"),m=JSON.stringify(d);return ie.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function Us(n){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Qt(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),h=ie.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=tu(t));let{pathname:d="/",search:m="",hash:y="",state:C=null,key:A="default"}=t,b=ie.useMemo(()=>{let I=Lo(d,l);return I==null?null:{location:{pathname:I,search:m,hash:y,state:C,key:A},navigationType:r}},[l,d,m,y,C,A,r]);return Hi(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ie.createElement(Gi.Provider,{value:h},ie.createElement(jc.Provider,{children:e,value:b}))}function lS({children:n,location:e}){return GT(Z1(n),e)}function Z1(n,e=[]){let t=[];return ie.Children.forEach(n,(r,i)=>{if(!ie.isValidElement(r))return;let o=[...e,i];if(r.type===ie.Fragment){t.push.apply(t,Z1(r.props.children,o));return}Qt(r.type===Us,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Z1(r.props.children,o)),t.push(l)}),t}var Ld="get",Od="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function uS(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function cS(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function hS(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function dS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fS(n,e){return n.button===0&&(!e||e==="_self")&&!dS(n)}var md=null;function pS(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a1(n){return n!=null&&!mS.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):n}function gS(n,e){let t,r,i,o,l;if(cS(n)){let h=n.getAttribute("action");r=h?Lo(h,e):null,t=n.getAttribute("method")||Ld,i=a1(n.getAttribute("enctype"))||Od,o=new FormData(n)}else if(uS(n)||hS(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Lo(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ld,i=a1(n.getAttribute("formenctype"))||a1(h.getAttribute("enctype"))||Od,o=new FormData(h,n),!pS()){let{name:m,type:y,value:C}=n;if(y==="image"){let A=m?`${m}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else m&&o.append(m,C)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ld,r=null,i=Od,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function n0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _S(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vS(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await yS(o,t);return l.links?l.links():[]}return[]}));return TS(r.flat(1).filter(_S).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n2(n,e,t,r,i,o){let l=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var y;return t[m].pathname!==d.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>l(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{var C;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let A=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((C=t[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function wS(n,e){return ES(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function ES(n){return[...new Set(n)]}function CS(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function TS(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(CS(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function SS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function AS(){let n=ie.useContext(nu);return n0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function RS(){let n=ie.useContext(Of);return n0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var r0=ie.createContext(void 0);r0.displayName="FrameworkContext";function w6(){let n=ie.useContext(r0);return n0(n,"You must render this element inside a <HydratedRouter> element"),n}function IS(n,e){let t=ie.useContext(r0),[r,i]=ie.useState(!1),[o,l]=ie.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:C}=e,A=ie.useRef(null);ie.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let L=Y=>{Y.forEach(q=>{l(q.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return A.current&&O.observe(A.current),()=>{O.disconnect()}}},[n]),ie.useEffect(()=>{if(r){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[r]);let b=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:Yu(h,b),onBlur:Yu(d,I),onMouseEnter:Yu(m,b),onMouseLeave:Yu(y,I),onTouchStart:Yu(C,b)}]:[!1,A,{}]}function Yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bS({page:n,...e}){let{router:t}=AS(),r=ie.useMemo(()=>h6(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ie.createElement(PS,{page:n,matches:r,...e}):null}function kS(n){let{manifest:e,routeModules:t}=w6(),[r,i]=ie.useState([]);return ie.useEffect(()=>{let o=!1;return vS(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function PS({page:n,matches:e,...t}){let r=gr(),{manifest:i,routeModules:o}=w6(),{loaderData:l,matches:h}=RS(),d=ie.useMemo(()=>n2(n,e,h,i,r,"data"),[n,e,h,i,r]),m=ie.useMemo(()=>n2(n,e,h,i,r,"assets"),[n,e,h,i,r]),y=ie.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,I=!1;if(e.forEach(O=>{var q;let Y=i.routes[O.route.id];!Y||!Y.hasLoader||(!d.some(Z=>Z.route.id===O.route.id)&&O.route.id in l&&((q=o[O.route.id])!=null&&q.shouldRevalidate)||Y.hasClientLoader?I=!0:b.add(O.route.id))}),b.size===0)return[];let L=SS(n);return I&&b.size>0&&L.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[L.pathname+L.search]},[l,r,i,d,e,n,o]),C=ie.useMemo(()=>wS(m,i),[m,i]),A=kS(m);return ie.createElement(ie.Fragment,null,y.map(b=>ie.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),C.map(b=>ie.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),A.map(({key:b,link:I})=>ie.createElement("link",{key:b,...I})))}function xS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E6&&(window.__reactRouterVersion="7.1.1")}catch{}function NS({basename:n,children:e,window:t}){let r=ie.useRef();r.current==null&&(r.current=vT({window:t,v5Compat:!0}));let i=r.current,[o,l]=ie.useState({action:i.action,location:i.location}),h=ie.useCallback(d=>{ie.startTransition(()=>l(d))},[l]);return ie.useLayoutEffect(()=>i.listen(h),[i,h]),ie.createElement(aS,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var C6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T6=ie.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:h,target:d,to:m,preventScrollReset:y,viewTransition:C,...A},b){let{basename:I}=ie.useContext(Gi),L=typeof m=="string"&&C6.test(m),O,Y=!1;if(typeof m=="string"&&L&&(O=m,E6))try{let P=new URL(window.location.href),B=m.startsWith("//")?new URL(P.protocol+m):new URL(m),H=Lo(B.pathname,I);B.origin===P.origin&&H!=null?m=H+B.search+B.hash:Y=!0}catch{Hi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=HT(m,{relative:i}),[Z,ae,ve]=IS(r,A),we=DS(m,{replace:l,state:h,target:d,preventScrollReset:y,relative:i,viewTransition:C});function U(P){e&&e(P),P.defaultPrevented||we(P)}let x=ie.createElement("a",{...A,...ve,href:O||q,onClick:Y||o?e:U,ref:xS(b,ae),target:d,"data-discover":!L&&t==="render"?"true":void 0});return Z&&!L?ie.createElement(ie.Fragment,null,x,ie.createElement(bS,{page:q})):x});T6.displayName="Link";var on=ie.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:h,children:d,...m},y){let C=$c(l,{relative:m.relative}),A=gr(),b=ie.useContext(Of),{navigator:I,basename:L}=ie.useContext(Gi),O=b!=null&&BS(C)&&h===!0,Y=I.encodeLocation?I.encodeLocation(C).pathname:C.pathname,q=A.pathname,Z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(q=q.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&L&&(Z=Lo(Z,L)||Z);const ae=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ve=q===Y||!i&&q.startsWith(Y)&&q.charAt(ae)==="/",we=Z!=null&&(Z===Y||!i&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),U={isActive:ve,isPending:we,isTransitioning:O},x=ve?e:void 0,P;typeof r=="function"?P=r(U):P=[r,ve?"active":null,we?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(U):o;return ie.createElement(T6,{...m,"aria-current":x,className:P,ref:y,style:B,to:l,viewTransition:h},typeof d=="function"?d(U):d)});on.displayName="NavLink";var LS=ie.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Ld,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:C,...A},b)=>{let I=FS(),L=US(h,{relative:m}),O=l.toLowerCase()==="get"?"get":"post",Y=typeof h=="string"&&C6.test(h),q=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let ae=Z.nativeEvent.submitter,ve=(ae==null?void 0:ae.getAttribute("formmethod"))||l;I(ae||Z.currentTarget,{fetcherKey:e,method:ve,navigate:t,replace:i,state:o,relative:m,preventScrollReset:y,viewTransition:C})};return ie.createElement("form",{ref:b,method:O,action:L,onSubmit:r?d:q,...A,"data-discover":!Y&&n==="render"?"true":void 0})});LS.displayName="Form";function OS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S6(n){let e=ie.useContext(nu);return Qt(e,OS(n)),e}function DS(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let h=Df(),d=gr(),m=$c(n,{relative:o});return ie.useCallback(y=>{if(fS(y,e)){y.preventDefault();let C=t!==void 0?t:kc(d)===kc(m);h(n,{replace:C,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,h,m,t,r,e,n,i,o,l])}var MS=0,VS=()=>`__${String(++MS)}__`;function FS(){let{router:n}=S6("useSubmit"),{basename:e}=ie.useContext(Gi),t=nS();return ie.useCallback(async(r,i={})=>{let{action:o,method:l,encType:h,formData:d,body:m}=gS(r,e);if(i.navigate===!1){let y=i.fetcherKey||VS();await n.fetch(y,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function US(n,{relative:e}={}){let{basename:t}=ie.useContext(Gi),r=ie.useContext(ys);Qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...$c(n||".",{relative:e})},l=gr();if(n==null){o.search=l.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(C=>C).forEach(C=>h.append("index",C));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ws([t,o.pathname])),kc(o)}function BS(n,e={}){let t=ie.useContext(m6);Qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=S6("useViewTransitionState"),i=$c(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Lo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Lo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yd(i.pathname,l)!=null||Yd(i.pathname,o)!=null}new TextEncoder;var zS=c6();const jS=Ia(zS);var Dd={exports:{}};/*!
* RAFManager v0.1.0
*
* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/var $S=Dd.exports,r2;function WS(){return r2||(r2=1,function(n,e){(function(t,r){n.exports=r()})($S,function(){return function(){for(var t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"]}(),{timer:0,state:"stop",animations:[],add:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i={callback:t,fps:r,n:60/r,param:arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i:0};return this.animations.push(i),this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var r=0;r<this.animations.length;r++)if(this.animations[r].callback===t)return r;return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),this.animations.length===0&&this.stop(),this},deleteMap:function(t){var r=this.getIndex(t),i=this.animations[r];for(var o in i)delete i[o];this.animations.splice(r,1)},start:function(){if(this.state!=="start")return this.state="start",this.tick(),this},stop:function(){if(this.state!=="stop")return this.state="stop",cancelAnimationFrame(this.timer),this},tick:function(){var t=this;this.timer=requestAnimationFrame(function(){t.tick()});for(var r=0;r<this.animations.length;r++){var i=this.animations[r],o=i.callback,l=i.param;i.i++,i.i>=i.n&&(o(l),i.i=0)}}}})}(Dd)),Dd.exports}var HS=WS();const en=Ia(HS);var Md={exports:{}};/*!
* Proton v4.2.1
* https://github.com/drawcall/Proton
*
* Copyright 2013-2020, A-JIE
* Licensed under the MIT license
* http://www.opensource.org/licenses/mit-license
*
*/var qS=Md.exports,i2;function GS(){return i2||(i2=1,function(n,e){(function(t,r){n.exports=r()})(qS,function(){var t=3.1415926,r={PI:t,PIx2:2*t,PI_2:t/2,PI_180:t/180,N180_PI:180/t,Infinity:-999,isInfinity:function(u){return u===this.Infinity||u===1/0},randomAToB:function(u,_,S){return 2<arguments.length&&S!==void 0&&S?Math.floor(Math.random()*(_-u))+u:u+Math.random()*(_-u)},randomFloating:function(u,_,S){return this.randomAToB(u-_,u+_,S)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(u,_){return _=1<arguments.length&&_!==void 0?_:4,_=Math.pow(10,_),Math.floor(u*_)/_},degreeTransform:function(u){return u*t/180},toColor16:function(u){return"#"+u.toString(16)}},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=function(u,_){if(!(u instanceof _))throw new TypeError("Cannot call a class as a function")},l=function(u,_,S){return _&&h(u.prototype,_),S&&h(u,S),u};function h(u,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(u,N.key,N)}}function d(u,_,S){u===null&&(u=Function.prototype);var N=Object.getOwnPropertyDescriptor(u,_);if(N!==void 0)return"value"in N?N.value:(N=N.get,N!==void 0?N.call(S):void 0);if((u=Object.getPrototypeOf(u))!==null)return d(u,_,S)}var m=function(u,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);u.prototype=Object.create(_&&_.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(u,_):u.__proto__=_)},y=function(u,_){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?u:_},C=(l(A,[{key:"getValue",value:function(u){return u=0<arguments.length&&u!==void 0&&u,this.isArray?P.getRandFromArray(this.a):this.center?r.randomFloating(this.a,this.b,u):r.randomAToB(this.a,this.b,u)}}],[{key:"setSpanValue",value:function(u,_,S){return u instanceof A?u:_===void 0?new A(u):S===void 0?new A(u,_):new A(u,_,S)}},{key:"getSpanValue",value:function(u){return u instanceof A?u.getValue():u}}]),A);function A(u,_,S){o(this,A),P.isArray(u)?(this.isArray=!0,this.a=u):(this.isArray=!1,this.a=P.initValue(u,1),this.b=P.initValue(_,this.a),this.center=P.initValue(S,!1))}var b=function(u){--u;for(var _=1;_<32;_<<=1)u|=u>>_;return u+1},I=function(u,_){return[1,0,0,0,1,0,u,_,1]},L=function(S){var _=Math.cos(S),S=Math.sin(S);return[_,-S,0,S,_,0,0,0,1]},O=function(u,_){return[u,0,0,0,_,0,0,0,1]},Y=function(Kn,Nn){var S=Kn[0],N=Kn[1],$=Kn[2],me=Kn[3],Ft=Kn[4],vn=Kn[5],It=Kn[6],lt=Kn[7],pn=Kn[8],Mt=Nn[0],wn=Nn[1],En=Nn[2],Gn=Nn[3],Pn=Nn[4],Cn=Nn[5],xn=Nn[6],Kn=Nn[7],Nn=Nn[8];return[S*Mt+N*Gn+$*xn,S*wn+N*Pn+$*Kn,S*En+N*Cn+$*Nn,me*Mt+Ft*Gn+vn*xn,me*wn+Ft*Pn+vn*Kn,me*En+Ft*Cn+vn*Nn,It*Mt+lt*Gn+pn*xn,It*wn+lt*Pn+pn*Kn,It*En+lt*Cn+pn*Nn]},q={createCanvas:function(u,_,S,me){var $=3<arguments.length&&me!==void 0?me:"absolute",me=document.createElement("canvas");return me.id=u,me.width=_,me.height=S,me.style.opacity=0,me.style.position=$,this.transform(me,-500,-500,0,0),me},createDiv:function(u,_,S){var N=document.createElement("div");return N.id=u,N.style.position="absolute",this.resize(N,_,S),N},resize:function(u,_,S){u.style.width=_+"px",u.style.height=S+"px",u.style.marginLeft=-_/2+"px",u.style.marginTop=-S/2+"px"},transform:function(u,_,S,N,$){u.style.willChange="transform";var me="translate("+_+"px, "+S+"px) scale("+N+") rotate("+$+"deg)";this.css3(u,"transform",me)},transform3d:function(u,_,S,N,$){u.style.willChange="transform",$="translate3d("+_+"px, "+S+"px, 0) scale("+N+") rotate("+$+"deg)",this.css3(u,"backfaceVisibility","hidden"),this.css3(u,"transform",$)},css3:function(u,_,S){var N=_.charAt(0).toUpperCase()+_.substr(1);u.style["Webkit"+N]=S,u.style["Moz"+N]=S,u.style["O"+N]=S,u.style["ms"+N]=S,u.style[""+_]=S}},Z={},ae={},ve=0,we=function(u,_,S){return u.drawImage(_,S.x,S.y),_=u.getImageData(S.x,S.y,S.width,S.height),u.clearRect(S.x,S.y,S.width,S.height),_},U=function(u,_,S){var N=typeof u=="string"?u:u.src;Z[N]?_(Z[N],S):((u=new Image).onload=function($){Z[N]=$.target,_(Z[N],S)},u.src=N)},x=function(u,_,S){var N,$,me=u.src;return ae[me]||(N=b(u.width),$=b(u.height),($=q.createCanvas("proton_canvas_cache_"+ ++ve,N,$)).getContext("2d").drawImage(u,0,0,u.width,u.height),ae[me]=$),ae[me]},P={initValue:function(u,_){return u=u??_},isArray:function(u){return Object.prototype.toString.call(u)==="[object Array]"},emptyArray:function(u){u&&(u.length=0)},toArray:function(u){return this.isArray(u)?u:[u]},getRandFromArray:function(u){return u?u[Math.floor(u.length*Math.random())]:null},emptyObject:function(u,_){var S,N=1<arguments.length&&_!==void 0?_:null;for(S in u)N&&-1<N.indexOf(S)||delete u[S]},classApply:function(u,_){return _=1<arguments.length&&_!==void 0?_:null,new(_?u.bind.apply(u,[null].concat(_)):u)},setVectorVal:function(u,_){_=1<arguments.length&&_!==void 0?_:null,_&&(this.hasProp(_,"x")&&(u.p.x=_.x),this.hasProp(_,"y")&&(u.p.y=_.y),this.hasProp(_,"vx")&&(u.v.x=_.vx),this.hasProp(_,"vy")&&(u.v.y=_.vy),this.hasProp(_,"ax")&&(u.a.x=_.ax),this.hasProp(_,"ay")&&(u.a.y=_.ay),this.hasProp(_,"p")&&u.p.copy(_.p),this.hasProp(_,"v")&&u.v.copy(_.v),this.hasProp(_,"a")&&u.a.copy(_.a),this.hasProp(_,"position")&&u.p.copy(_.position),this.hasProp(_,"velocity")&&u.v.copy(_.velocity),this.hasProp(_,"accelerate")&&u.a.copy(_.accelerate))},hasProp:function(u,_){return!!u&&u[_]!==void 0},setProp:function(u,_){for(var S in _)u.hasOwnProperty(S)&&(u[S]=C.getSpanValue(_[S]));return u},getImageData:function(u,_,S){return we(u,_,S)},destroyAll:function(u,_){for(var S=1<arguments.length&&_!==void 0?_:null,N=u.length;N--;){try{u[N].destroy(S)}catch{}delete u[N]}u.length=0},assign:function(u,_){if(typeof Object.assign=="function")return Object.assign(u,_);for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(u[S]=_[S]);return u}},B={},H={_index:0,_cache:{},id:function(u){return B[u]!==void 0&&B[u]!==null||(B[u]=0),u+"_"+B[u]++},getId:function(u){var _=this.getIdFromCache(u);return _||(_="PUID_"+this._index++,this._cache[_]=u,_)},getIdFromCache:function(u){var _,S=void 0;for(S in this._cache)if((_=this._cache[S])===u||this.isBody(_,u)&&_.src===u.src)return S;return null},isBody:function(u,_){return(u===void 0?"undefined":i(u))==="object"&&(_===void 0?"undefined":i(_))==="object"&&u.isInner&&_.isInner},getTarget:function(u){return this._cache[u]}},X=(l(D,[{key:"get",value:function(u,_,S){var N=void 0;return S=S||u.__puid||H.getId(u),(N=this.cache[S]&&0<this.cache[S].length?this.cache[S].pop():this.createOrClone(u,_)).__puid=u.__puid||S,N}},{key:"expire",value:function(u){return this.getCache(u.__puid).push(u)}},{key:"createOrClone",value:function(u,_){return this.total++,this.create?this.create(u,_):typeof u=="function"?P.classApply(u,_):u.clone()}},{key:"getCount",value:function(){var u,_=0;for(u in this.cache)_+=this.cache[u].length;return _++}},{key:"destroy",value:function(){for(var u in this.cache)this.cache[u].length=0,delete this.cache[u]}},{key:"getCache",value:function(u){return u=0<arguments.length&&u!==void 0?u:"default",this.cache[u]||(this.cache[u]=[]),this.cache[u]}}]),D);function D(u){o(this,D),this.total=0,this.cache={}}var nt=(l(St,[{key:"update",value:function(N,$){this.add(N,$);var S=this.getEmitter(),N=this.getRenderer(),$="";switch(this.type){case 2:$+="emitter:"+this.proton.emitters.length+"<br>",S&&($+="em speed:"+S.emitSpeed+"<br>"),S&&($+="pos:"+this.getEmitterPos(S));break;case 3:S&&($+="initializes:"+S.initializes.length+"<br>"),S&&($+='<span style="display:inline-block;">'+this.concatArr(S.initializes)+"</span><br>"),S&&($+="behaviours:"+S.behaviours.length+"<br>"),S&&($+='<span style="display:inline-block;">'+this.concatArr(S.behaviours)+"</span><br>");break;case 4:N&&($+=N.name+"<br>"),N&&($+="body:"+this.getCreatedNumber(N)+"<br>");break;default:$+="particles:"+this.proton.getCount()+"<br>",$+="pool:"+this.proton.pool.getCount()+"<br>",$+="total:"+this.proton.pool.total}this.container.innerHTML=$}},{key:"add",value:function(u,_){var S=this;if(!this.container){this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",function(me){S.type++,4<S.type&&(S.type=1)},!1);var N=void 0,$=void 0;switch(u){case 2:N="#201",$="#f08";break;case 3:N="#020",$="#0f0";break;default:N="#002",$="#0ff"}this.container.style["background-color"]=N,this.container.style.color=$}this.container.parentNode||(_=_||this.body||document.body).appendChild(this.container)}},{key:"getEmitter",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:"getRenderer",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:"concatArr",value:function(u){var _="";if(!u||!u.length)return _;for(var S=0;S<u.length;S++)_+=(u[S].name||"").substr(0,1)+".";return _}},{key:"getCreatedNumber",value:function(u){return u.pool.total||u.cpool&&u.cpool.total||0}},{key:"getEmitterPos",value:function(u){return Math.round(u.p.x)+","+Math.round(u.p.y)}}]),St);function St(u){o(this,St),this.proton=u,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var dt=(l(Ge,[{key:"addEventListener",value:function(u,_){return this._listeners?this.removeEventListener(u,_):this._listeners={},this._listeners[u]||(this._listeners[u]=[]),this._listeners[u].push(_),_}},{key:"removeEventListener",value:function(u,_){if(this._listeners&&this._listeners[u]){for(var S=this._listeners[u],N=S.length,$=0;$<N;$++)if(S[$]===_){N===1?delete this._listeners[u]:S.splice($,1);break}}}},{key:"removeAllEventListeners",value:function(u){u?this._listeners&&delete this._listeners[u]:this._listeners=null}},{key:"dispatchEvent",value:function(u,_){var S=!1,N=this._listeners;if(u&&N){var $=N[u];if(!$)return S;for(var me=void 0,Ft=$.length;Ft--;)me=$[Ft],S=S||me(_)}return!!S}},{key:"hasEventListener",value:function(u){var _=this._listeners;return!(!_||!_[u])}}],[{key:"bind",value:function(u){u.prototype.dispatchEvent=Ge.prototype.dispatchEvent,u.prototype.hasEventListener=Ge.prototype.hasEventListener,u.prototype.addEventListener=Ge.prototype.addEventListener,u.prototype.removeEventListener=Ge.prototype.removeEventListener,u.prototype.removeAllEventListeners=Ge.prototype.removeAllEventListeners}}]),Ge);function Ge(){o(this,Ge),this._listeners=null}var Ce=(l(De,[{key:"calculate",value:function(u,_,S){this.eulerIntegrate(u,_,S)}},{key:"eulerIntegrate",value:function(u,_,S){u.sleep||(u.old.p.copy(u.p),u.old.v.copy(u.v),u.a.multiplyScalar(1/u.mass),u.v.add(u.a.multiplyScalar(_)),u.p.add(u.old.v.multiplyScalar(_)),S&&u.v.multiplyScalar(S),u.a.clear())}}]),De);function De(u){o(this,De),this.type=u}var K=(l(j,[{key:"addRenderer",value:function(u){u.init(this),this.renderers.push(u)}},{key:"removeRenderer",value:function(u){var _=this.renderers.indexOf(u);this.renderers.splice(_,1),u.remove(this)}},{key:"addEmitter",value:function(u){this.emitters.push(u),(u.parent=this).dispatchEvent(j.EMITTER_ADDED,u)}},{key:"removeEmitter",value:function(u){var _=this.emitters.indexOf(u);this.emitters.splice(_,1),u.parent=null,this.dispatchEvent(j.EMITTER_REMOVED,u)}},{key:"update",value:function(){this._fps==="auto"?(this.dispatchEvent(j.PROTON_UPDATE),j.USE_CLOCK?(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(j.DEFAULT_INTERVAL),this.dispatchEvent(j.PROTON_UPDATE_AFTER)):(this.then||(this.then=new Date().getTime()),this.now=new Date().getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(j.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(j.PROTON_UPDATE_AFTER)))}},{key:"emittersUpdate",value:function(u){for(var _=this.emitters.length;_--;)this.emitters[_].update(u)}},{key:"amendChangeTabsBug",value:function(){j.amendChangeTabsBug&&.5<this.elapsed&&(this.then=new Date().getTime(),this.elapsed=0)}},{key:"getCount",value:function(){for(var u=0,_=this.emitters.length;_--;)u+=this.emitters[_].particles.length;return u}},{key:"getAllParticles",value:function(){for(var u=[],_=this.emitters.length;_--;)u=u.concat(this.emitters[_].particles);return u}},{key:"destroyAllEmitters",value:function(){P.destroyAll(this.emitters)}},{key:"destroy",value:function(u){function _(){S.time=0,S.then=0,S.pool.destroy(),P.destroyAll(S.emitters),P.destroyAll(S.renderers,S.getAllParticles())}var S=this;0<arguments.length&&u!==void 0&&u?setTimeout(_,200):_()}},{key:"fps",set:function(u){this._fps=u,this._interval=u==="auto"?j.DEFAULT_INTERVAL:r.floor(1/u,7)},get:function(){return this._fps}}]),j);function j(u){o(this,j),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new nt(this),this.pool=new X(80),this.integrationType=P.initValue(u,j.EULER),this.integrator=new Ce(this.integrationType),this._fps="auto",this._interval=j.DEFAULT_INTERVAL}K.USE_CLOCK=!1,K.MEASURE=100,K.EULER="euler",K.RK2="runge-kutta2",K.PARTICLE_CREATED="PARTICLE_CREATED",K.PARTICLE_UPDATE="PARTICLE_UPDATE",K.PARTICLE_SLEEP="PARTICLE_SLEEP",K.PARTICLE_DEAD="PARTICLE_DEAD",K.EMITTER_ADDED="EMITTER_ADDED",K.EMITTER_REMOVED="EMITTER_REMOVED",K.PROTON_UPDATE="PROTON_UPDATE",K.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",K.DEFAULT_INTERVAL=.0167,K.amendChangeTabsBug=!0,dt.bind(K);var M=(l(se,[{key:"reset",value:function(){this.r=255,this.g=255,this.b=255}}]),se);function se(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:255,S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:255;o(this,se),this.r=u,this.g=_,this.b=S}var le={easeLinear:function(u){return u},easeInQuad:function(u){return Math.pow(u,2)},easeOutQuad:function(u){return-(Math.pow(u-1,2)-1)},easeInOutQuad:function(u){return(u/=.5)<1?.5*Math.pow(u,2):-.5*((u-=2)*u-2)},easeInCubic:function(u){return Math.pow(u,3)},easeOutCubic:function(u){return Math.pow(u-1,3)+1},easeInOutCubic:function(u){return(u/=.5)<1?.5*Math.pow(u,3):.5*(Math.pow(u-2,3)+2)},easeInQuart:function(u){return Math.pow(u,4)},easeOutQuart:function(u){return-(Math.pow(u-1,4)-1)},easeInOutQuart:function(u){return(u/=.5)<1?.5*Math.pow(u,4):-.5*((u-=2)*Math.pow(u,3)-2)},easeInSine:function(u){return 1-Math.cos(u*r.PI_2)},easeOutSine:function(u){return Math.sin(u*r.PI_2)},easeInOutSine:function(u){return-.5*(Math.cos(Math.PI*u)-1)},easeInExpo:function(u){return u===0?0:Math.pow(2,10*(u-1))},easeOutExpo:function(u){return u===1?1:1-Math.pow(2,-10*u)},easeInOutExpo:function(u){return u===0?0:u===1?1:(u/=.5)<1?.5*Math.pow(2,10*(u-1)):.5*(2-Math.pow(2,-10*--u))},easeInCirc:function(u){return-(Math.sqrt(1-u*u)-1)},easeOutCirc:function(u){return Math.sqrt(1-Math.pow(u-1,2))},easeInOutCirc:function(u){return(u/=.5)<1?-.5*(Math.sqrt(1-u*u)-1):.5*(Math.sqrt(1-(u-=2)*u)+1)},easeInBack:function(u){return u*u*(2.70158*u-1.70158)},easeOutBack:function(u){return--u*u*(2.70158*u+1.70158)+1},easeInOutBack:function(u){var _=1.70158;return(u/=.5)<1?u*u*((1+(_*=1.525))*u-_)*.5:.5*((u-=2)*u*((1+(_*=1.525))*u+_)+2)},getEasing:function(u){return typeof u=="function"?u:this[u]||this.easeLinear}},he=(l(pe,[{key:"set",value:function(u,_){return this.x=u,this.y=_,this}},{key:"setX",value:function(u){return this.x=u,this}},{key:"setY",value:function(u){return this.y=u,this}},{key:"getGradient",value:function(){return this.x!==0?Math.atan2(this.y,this.x):0<this.y?r.PI_2:this.y<0?-r.PI_2:void 0}},{key:"copy",value:function(u){return this.x=u.x,this.y=u.y,this}},{key:"add",value:function(u,_){return _!==void 0?this.addVectors(u,_):(this.x+=u.x,this.y+=u.y,this)}},{key:"addXY",value:function(u,_){return this.x+=u,this.y+=_,this}},{key:"addVectors",value:function(u,_){return this.x=u.x+_.x,this.y=u.y+_.y,this}},{key:"sub",value:function(u,_){return _!==void 0?this.subVectors(u,_):(this.x-=u.x,this.y-=u.y,this)}},{key:"subVectors",value:function(u,_){return this.x=u.x-_.x,this.y=u.y-_.y,this}},{key:"divideScalar",value:function(u){return u!==0?(this.x/=u,this.y/=u):this.set(0,0),this}},{key:"multiplyScalar",value:function(u){return this.x*=u,this.y*=u,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"dot",value:function(u){return this.x*u.x+this.y*u.y}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"distanceTo",value:function(u){return Math.sqrt(this.distanceToSquared(u))}},{key:"rotate",value:function(u){var _=this.x,S=this.y;return this.x=_*Math.cos(u)+S*Math.sin(u),this.y=-_*Math.sin(u)+S*Math.cos(u),this}},{key:"distanceToSquared",value:function(S){var _=this.x-S.x,S=this.y-S.y;return _*_+S*S}},{key:"lerp",value:function(u,_){return this.x+=(u.x-this.x)*_,this.y+=(u.y-this.y)*_,this}},{key:"equals",value:function(u){return u.x===this.x&&u.y===this.y}},{key:"clear",value:function(){return this.x=0,this.y=0,this}},{key:"clone",value:function(){return new pe(this.x,this.y)}}]),pe);function pe(u,_){o(this,pe),this.x=u||0,this.y=_||0}var Pe=(l(ke,[{key:"getDirection",value:function(){return Math.atan2(this.v.x,-this.v.y)*r.N180_PI}},{key:"reset",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=le.easeLinear,this.rgb.reset(),P.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:"update",value:function(u,_){this.sleep||(this.age+=u,this.applyBehaviours(u,_)),this.age<this.life?(_=this.easing(this.age/this.life),this.energy=Math.max(1-_,0)):this.destroy()}},{key:"applyBehaviours",value:function(u,_){for(var S=this.behaviours.length,N=void 0,N=0;N<S;N++)this.behaviours[N]&&this.behaviours[N].applyBehaviour(this,u,_)}},{key:"addBehaviour",value:function(u){this.behaviours.push(u),u.hasOwnProperty("parents")&&u.parents.push(this),u.initialize(this)}},{key:"addBehaviours",value:function(u){for(var _=u.length,S=void 0,S=0;S<_;S++)this.addBehaviour(u[S])}},{key:"removeBehaviour",value:function(u){u=this.behaviours.indexOf(u),-1<u&&(this.behaviours.splice(u,1).parents=null)}},{key:"removeAllBehaviours",value:function(){P.emptyArray(this.behaviours)}},{key:"destroy",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),ke);function ke(u){o(this,ke),this.id="",this.old={},this.data={},this.behaviours=[],this.p=[],this.v=[],this.a=[],this.rgb={},this.name="Particle",this.id=H.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new he,this.v=new he,this.a=new he,this.old.p=new he,this.old.v=new he,this.old.a=new he,this.rgb=new M,this.reset(),u&&P.setProp(this,u)}var Te={hexToRgb:function(u){return u=u.charAt(0)==="#"?u.substring(1,7):u,{r:parseInt(u.substring(0,2),16),g:parseInt(u.substring(2,4),16),b:parseInt(u.substring(4,6),16)}},rgbToHex:function(u){return"rgb("+u.r+", "+u.g+", "+u.b+")"},getHex16FromParticle:function(u){return 65536*Number(u.rgb.r)+256*Number(u.rgb.g)+Number(u.rgb.b)}},Ye=(l(ft,[{key:"set",value:function(u,_){return this.r=u,this.tha=_,this}},{key:"setR",value:function(u){return this.r=u,this}},{key:"setTha",value:function(u){return this.tha=u,this}},{key:"copy",value:function(u){return this.r=u.r,this.tha=u.tha,this}},{key:"toVector",value:function(){return new he(this.getX(),this.getY())}},{key:"getX",value:function(){return this.r*Math.sin(this.tha)}},{key:"getY",value:function(){return-this.r*Math.cos(this.tha)}},{key:"normalize",value:function(){return this.r=1,this}},{key:"equals",value:function(u){return u.r===this.r&&u.tha===this.tha}},{key:"clear",value:function(){return this.r=0,this.tha=0,this}},{key:"clone",value:function(){return new ft(this.r,this.tha)}}]),ft);function ft(u,_){o(this,ft),this.r=Math.abs(u)||0,this.tha=_||0}var Ke={create:function(u){var _=new Float32Array(9);return u&&this.set(u,_),_},set:function(u,_){for(var S=0;S<9;S++)_[S]=u[S];return _},multiply:function(Pn,Cn,S){var N=Pn[0],$=Pn[1],me=Pn[2],Ft=Pn[3],vn=Pn[4],It=Pn[6],lt=Pn[7],pn=Cn[0],Mt=Cn[1],wn=Cn[2],En=Cn[3],Gn=Cn[4],Pn=Cn[6],Cn=Cn[7];return S[0]=pn*N+Mt*Ft,S[1]=pn*$+Mt*vn,S[2]=me*wn,S[3]=En*N+Gn*Ft,S[4]=En*$+Gn*vn,S[6]=Pn*N+Cn*Ft+It,S[7]=Pn*$+Cn*vn+lt,S},inverse:function(It,_){var S=It[0],N=It[1],lt=It[3],$=It[4],me=It[6],Ft=It[7],vn=-lt,It=Ft*lt-$*me,lt=1/(S*$+N*vn);return _[0]=$*lt,_[1]=-N*lt,_[3]=vn*lt,_[4]=S*lt,_[6]=It*lt,_[7]=(-Ft*S+N*me)*lt,_},multiplyVec2:function(u,$,S){var N=$[0],$=$[1];return S[0]=N*u[0]+$*u[3]+u[6],S[1]=N*u[1]+$*u[4]+u[7],S}},it=(m(kt,C),l(kt,[{key:"getValue",value:function(){var u=P.getRandFromArray(this._arr);return u==="random"||u==="Random"?r.randomColor():u}}],[{key:"createArraySpan",value:function(u){return u?u instanceof kt?u:new kt(u):null}}]),kt);function kt(u){o(this,kt);var _=y(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this));return _._arr=P.toArray(u),_}var Bn=(l(nn,[{key:"contains",value:function(u,_){return u<=this.right&&u>=this.x&&_<=this.bottom&&_>=this.y}}]),nn);function nn(u,_,S,N){o(this,nn),this.x=u,this.y=_,this.width=S,this.height=N,this.bottom=this.y+this.height,this.right=this.x+this.width}var rn=(l(Ai,[{key:"init",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:"getValue",value:function(u){return this.startTime+=u,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),this.numPan.b===1?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),Ai);function Ai(u,_){o(this,Ai),this.numPan=C.setSpanValue(P.initValue(u,1)),this.timePan=C.setSpanValue(P.initValue(_,1)),this.startTime=0,this.nextTime=0,this.init()}var zn=(l(jn,[{key:"reset",value:function(){}},{key:"init",value:function(u,_){_?this.initialize(_):this.initialize(u)}},{key:"initialize",value:function(){}}]),jn);function jn(){o(this,jn)}var br=(m(yr,zn),l(yr,[{key:"initialize",value:function(u){this.lifePan.a===1/0?u.life=1/0:u.life=this.lifePan.getValue()}}]),yr);function yr(u,_,S){o(this,yr);var N=y(this,(yr.__proto__||Object.getPrototypeOf(yr)).call(this));return N.lifePan=C.setSpanValue(u,_,S),N.name="Life",N}var _r=(l(kr,[{key:"getPosition",value:function(){}},{key:"crossing",value:function(){}}]),kr);function kr(){o(this,kr),this.vector=new he(0,0),this.random=0,this.crossType="dead",this.alert=!0}var Pr=(m(Pt,_r),l(Pt,[{key:"getPosition",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:"crossing",value:function(){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)}}]),Pt);function Pt(u,_){o(this,Pt);var S=y(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).call(this));return S.x=u,S.y=_,S}var Yt=(m(kn,zn),l(kn,[{key:"reset",value:function(u){this.zone=P.initValue(u,new Pr)}},{key:"initialize",value:function(u){this.zone.getPosition(),u.p.x=this.zone.vector.x,u.p.y=this.zone.vector.y}}]),kn);function kn(u){o(this,kn);var _=y(this,(kn.__proto__||Object.getPrototypeOf(kn)).call(this));return _.zone=P.initValue(u,new Pr),_.name="Position",_}var Cs=(m($n,zn),l($n,[{key:"reset",value:function(u,_,S){this.rPan=C.setSpanValue(u),this.thaPan=C.setSpanValue(_),this.type=P.initValue(S,"vector")}},{key:"normalizeVelocity",value:function(u){return u*K.MEASURE}},{key:"initialize",value:function(u){var _;this.type==="p"||this.type==="P"||this.type==="polar"?(_=new Ye(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*r.PI_180),u.v.x=_.getX(),u.v.y=_.getY()):(u.v.x=this.normalizeVelocity(this.rPan.getValue()),u.v.y=this.normalizeVelocity(this.thaPan.getValue()))}}]),$n);function $n(u,_,S){o(this,$n);var N=y(this,($n.__proto__||Object.getPrototypeOf($n)).call(this));return N.rPan=C.setSpanValue(u),N.thaPan=C.setSpanValue(_),N.type=P.initValue(S,"vector"),N.name="Velocity",N}var Ri=(m(Wn,zn),l(Wn,[{key:"initialize",value:function(u){u.mass=this.massPan.getValue()}}]),Wn);function Wn(u,_,S){o(this,Wn);var N=y(this,(Wn.__proto__||Object.getPrototypeOf(Wn)).call(this));return N.massPan=C.setSpanValue(u,_,S),N.name="Mass",N}var Ts=(m(xr,zn),l(xr,[{key:"reset",value:function(u,_,S){this.radius=C.setSpanValue(u,_,S)}},{key:"initialize",value:function(u){u.radius=this.radius.getValue(),u.data.oldRadius=u.radius}}]),xr);function xr(u,_,S){o(this,xr);var N=y(this,(xr.__proto__||Object.getPrototypeOf(xr)).call(this));return N.radius=C.setSpanValue(u,_,S),N.name="Radius",N}var te=(m(Q,zn),l(Q,[{key:"initialize",value:function(u){var _=this.image.getValue();u.body=typeof _=="string"?{width:this.w,height:this.h,src:_,isInner:!0,inner:!0}:_}},{key:"setSpanValue",value:function(u){return u instanceof it?u:new it(u)}}]),Q);function Q(u,_,S){o(this,Q);var N=y(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this));return N.image=N.setSpanValue(u),N.w=P.initValue(_,20),N.h=P.initValue(S,N.w),N.name="Body",N}var ue=(l(Se,[{key:"reset",value:function(u,_){this.life=P.initValue(u,1/0),this.easing=le.getEasing(_)}},{key:"normalizeForce",value:function(u){return u.multiplyScalar(K.MEASURE)}},{key:"normalizeValue",value:function(u){return u*K.MEASURE}},{key:"initialize",value:function(){}},{key:"calculate",value:function(u,_){this.age+=_,this.age>=this.life||this.dead?(this.energy=0,this.dead=!0,this.destroy()):(u=this.easing(u.age/u.life),this.energy=Math.max(1-u,0))}},{key:"destroy",value:function(){for(var u=this.parents.length;u--;)this.parents[u].removeBehaviour(this);this.parents.length=0}}]),Se);function Se(u,_){o(this,Se),this.life=P.initValue(u,1/0),this.easing=le.getEasing(_),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+Se.id++,this.name="Behaviour"}ue.id=0;var Ae=(m(Ie,ue),l(Ie,[{key:"reset",value:function(u,_,S,N){this.force=this.normalizeForce(new he(u,_)),S&&d(Ie.prototype.__proto__||Object.getPrototypeOf(Ie.prototype),"reset",this).call(this,S,N)}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),u.a.add(this.force)}}]),Ie);function Ie(u,_,S,N){return o(this,Ie),N=y(this,(Ie.__proto__||Object.getPrototypeOf(Ie)).call(this,S,N)),N.force=N.normalizeForce(new he(u,_)),N.name="Force",N}var Ve=(m(Ne,ue),l(Ne,[{key:"reset",value:function(u,_,S,N,$){this.targetPosition=P.initValue(u,new he),this.radius=P.initValue(S,1e3),this.force=P.initValue(this.normalizeValue(_),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new he,this.lengthSq=0,N&&d(Ne.prototype.__proto__||Object.getPrototypeOf(Ne.prototype),"reset",this).call(this,N,$)}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(u.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),u.a.add(this.attractionForce))}}]),Ne);function Ne(u,_,S,N,$){return o(this,Ne),$=y(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).call(this,N,$)),$.targetPosition=P.initValue(u,new he),$.radius=P.initValue(S,1e3),$.force=P.initValue($.normalizeValue(_),100),$.radiusSq=$.radius*$.radius,$.attractionForce=new he,$.lengthSq=0,$.name="Attraction",$}var ze=(m(Be,ue),l(Be,[{key:"reset",value:function(u,_,S,N,$){this.panFoce=new he(u,_),this.panFoce=this.normalizeForce(this.panFoce),this.delay=S,N&&d(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"reset",this).call(this,N,$)}},{key:"initialize",value:function(u){u.data.time=0}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),u.data.time+=_,u.data.time>=this.delay&&(u.a.addXY(r.randomAToB(-this.panFoce.x,this.panFoce.x),r.randomAToB(-this.panFoce.y,this.panFoce.y)),u.data.time=0)}}]),Be);function Be(u,_,S,N,$){return o(this,Be),$=y(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this,N,$)),$.reset(u,_,S),$.time=0,$.name="RandomDrift",$}var wt=(m(Ct,Ae),l(Ct,[{key:"reset",value:function(u,_,S){d(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),"reset",this).call(this,0,u,_,S)}}]),Ct);function Ct(u,_,S){return o(this,Ct),S=y(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this,0,u,_,S)),S.name="Gravity",S}var Ot=(m(Tt,ue),l(Tt,[{key:"reset",value:function(u,_,S,N,$){this.emitter=P.initValue(u,null),this.mass=P.initValue(_,!0),this.callback=P.initValue(S,null),this.collisionPool=[],this.delta=new he,N&&d(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),"reset",this).call(this,N,$)}},{key:"applyBehaviour",value:function(u,_,S){for(var N,$,me,Ft,vn,It,lt=(this.emitter?this.emitter.particles:this.pool).slice(S),pn=lt.length,Mt=void 0,wn=void 0,wn=0;wn<pn;wn++)(Mt=lt[wn])!==u&&(this.delta.copy(Mt.p),this.delta.sub(u.p),(N=this.delta.lengthSq())<=(It=u.radius+Mt.radius)*It&&($=It-Math.sqrt(N),$+=.5,me=u.mass+Mt.mass,Ft=this.mass?Mt.mass/me:.5,vn=this.mass?u.mass/me:.5,u.p.add(this.delta.clone().normalize().multiplyScalar($*-Ft)),Mt.p.add(this.delta.normalize().multiplyScalar($*vn)),this.callback&&this.callback(u,Mt)))}}]),Tt);function Tt(u,_,S,N,$){return o(this,Tt),$=y(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,N,$)),$.reset(u,_,S),$.name="Collision",$}var _n=(m(ot,ue),l(ot,[{key:"reset",value:function(u,_,S,N){this.zone=u,this.zone.crossType=P.initValue(_,"dead"),S&&d(ot.prototype.__proto__||Object.getPrototypeOf(ot.prototype),"reset",this).call(this,S,N)}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),this.zone.crossing(u)}}]),ot);function ot(u,_,S,N){return o(this,ot),N=y(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this,S,N)),N.reset(u,_),N.name="CrossZone",N}var Kr=(m(Dt,ue),l(Dt,[{key:"reset",value:function(u,_,S,N){this.same=_==null,this.a=C.setSpanValue(P.initValue(u,1)),this.b=C.setSpanValue(_),S&&d(Dt.prototype.__proto__||Object.getPrototypeOf(Dt.prototype),"reset",this).call(this,S,N)}},{key:"initialize",value:function(u){u.data.alphaA=this.a.getValue(),this.same?u.data.alphaB=u.data.alphaA:u.data.alphaB=this.b.getValue()}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),u.alpha=u.data.alphaB+(u.data.alphaA-u.data.alphaB)*this.energy,u.alpha<.001&&(u.alpha=0)}}]),Dt);function Dt(u,_,S,N){return o(this,Dt),N=y(this,(Dt.__proto__||Object.getPrototypeOf(Dt)).call(this,S,N)),N.reset(u,_),N.name="Alpha",N}var vr=(m(nr,ue),l(nr,[{key:"reset",value:function(u,_,S,N){this.same=_==null,this.a=C.setSpanValue(P.initValue(u,1)),this.b=C.setSpanValue(_),S&&d(nr.prototype.__proto__||Object.getPrototypeOf(nr.prototype),"reset",this).call(this,S,N)}},{key:"initialize",value:function(u){u.data.scaleA=this.a.getValue(),u.data.oldRadius=u.radius,u.data.scaleB=this.same?u.data.scaleA:this.b.getValue()}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),u.scale=u.data.scaleB+(u.data.scaleA-u.data.scaleB)*this.energy,u.scale<1e-4&&(u.scale=0),u.radius=u.data.oldRadius*u.scale}}]),nr);function nr(u,_,S,N){return o(this,nr),N=y(this,(nr.__proto__||Object.getPrototypeOf(nr)).call(this,S,N)),N.reset(u,_),N.name="Scale",N}var to=(m(cn,ue),l(cn,[{key:"reset",value:function(u,_,S,N,$){this.same=_==null,this.a=C.setSpanValue(P.initValue(u,"Velocity")),this.b=C.setSpanValue(P.initValue(_,0)),this.style=P.initValue(S,"to"),N&&d(cn.prototype.__proto__||Object.getPrototypeOf(cn.prototype),"reset",this).call(this,N,$)}},{key:"initialize",value:function(u){u.rotation=this.a.getValue(),u.data.rotationA=this.a.getValue(),this.same||(u.data.rotationB=this.b.getValue())}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),this.same?this.a.a!=="V"&&this.a.a!=="Velocity"&&this.a.a!=="v"||(u.rotation=u.getDirection()):this.style==="to"||this.style==="TO"||this.style==="_"?u.rotation+=u.data.rotationB+(u.data.rotationA-u.data.rotationB)*this.energy:u.rotation+=u.data.rotationB}}]),cn);function cn(u,_,S,N,$){return o(this,cn),$=y(this,(cn.__proto__||Object.getPrototypeOf(cn)).call(this,N,$)),$.reset(u,_,S),$.name="Rotate",$}var qo=(m(si,ue),l(si,[{key:"reset",value:function(u,_,S,N){this.a=it.createArraySpan(u),this.b=it.createArraySpan(_),S&&d(si.prototype.__proto__||Object.getPrototypeOf(si.prototype),"reset",this).call(this,S,N)}},{key:"initialize",value:function(u){u.color=this.a.getValue(),u.data.colorA=Te.hexToRgb(u.color),this.b&&(u.data.colorB=Te.hexToRgb(this.b.getValue()))}},{key:"applyBehaviour",value:function(u,_,S){this.b?(this.calculate(u,_,S),u.rgb.r=u.data.colorB.r+(u.data.colorA.r-u.data.colorB.r)*this.energy,u.rgb.g=u.data.colorB.g+(u.data.colorA.g-u.data.colorB.g)*this.energy,u.rgb.b=u.data.colorB.b+(u.data.colorA.b-u.data.colorB.b)*this.energy,u.rgb.r=Math.floor(u.rgb.r),u.rgb.g=Math.floor(u.rgb.g),u.rgb.b=Math.floor(u.rgb.b)):(u.rgb.r=u.data.colorA.r,u.rgb.g=u.data.colorA.g,u.rgb.b=u.data.colorA.b)}}]),si);function si(u,_,S,N){return o(this,si),N=y(this,(si.__proto__||Object.getPrototypeOf(si)).call(this,S,N)),N.reset(u,_),N.name="Color",N}var Qi="changing",Ua=(m(hn,ue),l(hn,[{key:"setAngleAndForce",value:function(u,_){this.force=Qi,this.angle=r.PI/2,u==="right"?this.angle=r.PI/2:u==="left"?this.angle=-r.PI/2:u==="random"?this.angle="random":u instanceof C?(this.angle="span",this.span=u):u&&(this.angle=u),String(_).toLowerCase()==="changing"||String(_).toLowerCase()==="chang"||String(_).toLowerCase()==="auto"?this.force=Qi:_&&(this.force=_)}},{key:"reset",value:function(u,_,S,N){this.angle=r.PI/2,this.setAngleAndForce(u,_),S&&d(hn.prototype.__proto__||Object.getPrototypeOf(hn.prototype),"reset",this).call(this,S,N)}},{key:"initialize",value:function(u){this.angle==="random"?u.data.cangle=r.randomAToB(-r.PI,r.PI):this.angle==="span"&&(u.data.cangle=this.span.getValue()),u.data.cyclone=new he(0,0)}},{key:"applyBehaviour",value:function(u,_,S){this.calculate(u,_,S),_=void 0,S=u.v.getGradient(),this.angle==="random"||this.angle==="span"?S+=u.data.cangle:S+=this.angle,_=this.force===Qi?u.v.length()/100:this.force,u.data.cyclone.x=_*Math.cos(S),u.data.cyclone.y=_*Math.sin(S),u.data.cyclone=this.normalizeForce(u.data.cyclone),u.a.add(u.data.cyclone)}}]),hn);function hn(u,_,S,N){return o(this,hn),N=y(this,(hn.__proto__||Object.getPrototypeOf(hn)).call(this,S,N)),N.setAngleAndForce(u,_),N.name="Cyclone",N}var Ss=(m(dn,Ve),l(dn,[{key:"reset",value:function(u,_,S,N,$){d(dn.prototype.__proto__||Object.getPrototypeOf(dn.prototype),"reset",this).call(this,u,_,S,N,$),this.force*=-1}}]),dn);function dn(u,_,S,N,$){return o(this,dn),$=y(this,(dn.__proto__||Object.getPrototypeOf(dn)).call(this,u,_,S,N,$)),$.force*=-1,$.name="Repulsion",$}var Ba=(m(Nr,ue),l(Nr,[{key:"reset",value:function(u,_,S,N){this.distanceVec=new he,this.centerPoint=P.initValue(u,new he),this.force=P.initValue(this.normalizeValue(_),100),S&&d(Nr.prototype.__proto__||Object.getPrototypeOf(Nr.prototype),"reset",this).call(this,S,N)}},{key:"initialize",value:function(){}},{key:"applyBehaviour",value:function(u,_){this.distanceVec.set(this.centerPoint.x-u.p.x,this.centerPoint.y-u.p.y);var S,N=this.distanceVec.lengthSq();N!==0&&(S=this.distanceVec.length(),S=this.force*_/(N*S),u.v.x+=S*this.distanceVec.x,u.v.y+=S*this.distanceVec.y)}}]),Nr);function Nr(u,_,S,N){return o(this,Nr),N=y(this,(Nr.__proto__||Object.getPrototypeOf(Nr)).call(this,S,N)),N.distanceVec=new he,N.centerPoint=P.initValue(u,new he),N.force=P.initValue(N.normalizeValue(_),100),N.name="GravityWell",N}var no={initialize:function(u,_,S){for(var N=S.length,$=void 0,$=0;$<N;$++)S[$]instanceof zn?S[$].init(u,_):this.init(u,_,S[$]);this.bindEmitter(u,_)},init:function(u,_,S){P.setProp(_,S),P.setVectorVal(_,S)},bindEmitter:function(u,_){u.bindEmitter&&(_.p.add(u.p),_.v.add(u.v),_.a.add(u.a),_.v.rotate(r.degreeTransform(u.rotation)))}},Ii=(m(oi,Pe),l(oi,[{key:"emit",value:function(u,_){this.stoped=!1,this.emitTime=0,this.totalTime=P.initValue(u,1/0),_===!0||_==="life"||_==="destroy"?this.life=u==="once"?1:this.totalTime:isNaN(_)||(this.life=_),this.rate.init()}},{key:"stop",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:"preEmit",value:function(u){var _=this.stoped,S=this.emitTime,N=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=u,this.rate.init();.0167<u;)u-=.0167,this.update(.0167);this.stoped=_,this.emitTime=S+Math.max(u,0),this.totalTime=N}},{key:"removeAllParticles",value:function(){for(var u=this.particles.length;u--;)this.particles[u].dead=!0}},{key:"addSelfInitialize",value:function(u){u.init?u.init(this):this.initAll()}},{key:"addInitialize",value:function(){for(var u=arguments.length,_=Array(u),S=0;S<u;S++)_[S]=arguments[S];for(var N=_.length;N--;)this.initializes.push(_[N])}},{key:"removeInitialize",value:function(u){u=this.initializes.indexOf(u),-1<u&&this.initializes.splice(u,1)}},{key:"removeAllInitializers",value:function(){P.emptyArray(this.initializes)}},{key:"addBehaviour",value:function(){for(var u=arguments.length,_=Array(u),S=0;S<u;S++)_[S]=arguments[S];for(var N=arguments.length;N--;){var $=_[N];this.behaviours.push($),$.parents&&$.parents.push(this)}}},{key:"removeBehaviour",value:function(u){var _=this.behaviours.indexOf(u);return this.behaviours.splice(_,1),u.parents&&(_=u.parents.indexOf(u),u.parents.splice(_,1)),_}},{key:"removeAllBehaviours",value:function(){P.emptyArray(this.behaviours)}},{key:"update",value:function(u){this.age+=u,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(u),this.integrate(u)}},{key:"integrate",value:function(u){if(this.parent){var _=1-this.damping;this.parent.integrator.calculate(this,u,_);for(var N=void 0,S=void 0,N=this.particles.length-1;0<=N;N--)(S=this.particles[N]).update(u,N),this.parent.integrator.calculate(S,u,_),this.dispatch("PARTICLE_UPDATE",S),S.dead&&(this.dispatch("PARTICLE_DEAD",S),this.parent.pool.expire(S),this.particles.splice(N,1))}}},{key:"dispatch",value:function(u,_){this.parent&&this.parent.dispatchEvent(u,_),this.bindEvent&&this.dispatchEvent(u,_)}},{key:"emitting",value:function(u){if(this.totalTime==="once"){var _=void 0,S=this.rate.getValue(99999);for(0<S&&(this.emitSpeed=S),_=0;_<S;_++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=u,this.emitTime<this.totalTime){var N=this.rate.getValue(u),$=void 0;for(0<N&&(this.emitSpeed=N),$=0;$<N;$++)this.createParticle()}}},{key:"createParticle",value:function(u,_){var S=this.parent.pool.get(Pe);return this.setupParticle(S,u,_),this.dispatch("PARTICLE_CREATED",S),S}},{key:"setupParticle",value:function(u,_,S){var N=this.initializes,$=this.behaviours;_&&(N=P.toArray(_)),S&&($=P.toArray(S)),u.reset(),no.initialize(this,u,N),u.addBehaviours($),(u.parent=this).particles.push(u)}},{key:"remove",value:function(){this.stop(),P.destroyAll(this.particles)}},{key:"destroy",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),oi);function oi(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return o(this,oi),u=y(this,(oi.__proto__||Object.getPrototypeOf(oi)).call(this,u)),u.particles=[],u.behaviours=[],u.initializes=[],u.emitTime=0,u.emitSpeed=0,u.totalTime=-1,u.damping=.006,u.bindEmitter=!0,u.rate=new rn(1,.1),u.name="Emitter",u.id=H.id(u.name),u}dt.bind(Ii);var za=(m(ai,Ii),l(ai,[{key:"addSelfBehaviour",value:function(){for(var u=arguments.length,_=Array(u),S=0;S<u;S++)_[S]=arguments[S];for(var $=void 0,N=_.length,$=0;$<N;$++){var me=_[$];this.selfBehaviours.push(me),me.initialize(this)}}},{key:"removeSelfBehaviour",value:function(u){u=this.selfBehaviours.indexOf(u),-1<u&&this.selfBehaviours.splice(u,1)}},{key:"update",value:function(u){if(d(ai.prototype.__proto__||Object.getPrototypeOf(ai.prototype),"update",this).call(this,u),!this.sleep)for(var _=this.selfBehaviours.length,S=void 0,S=0;S<_;S++)this.selfBehaviours[S].applyBehaviour(this,u,S)}}]),ai);function ai(u){return o(this,ai),u=y(this,(ai.__proto__||Object.getPrototypeOf(ai)).call(this,u)),u.selfBehaviours=[],u}var xt=(m(wr,Ii),l(wr,[{key:"initEventHandler",value:function(){var u=this;this.mousemoveHandler=function(_){return u.mousemove.call(u,_)},this.mousedownHandler=function(_){return u.mousedown.call(u,_)},this.mouseupHandler=function(_){return u.mouseup.call(u,_)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)}},{key:"emit",value:function(){this._allowEmitting=!0}},{key:"stop",value:function(){this._allowEmitting=!1}},{key:"mousemove",value:function(u){u.layerX||u.layerX===0?(this.p.x+=(u.layerX-this.p.x)*this.ease,this.p.y+=(u.layerY-this.p.y)*this.ease):!u.offsetX&&u.offsetX!==0||(this.p.x+=(u.offsetX-this.p.x)*this.ease,this.p.y+=(u.offsetY-this.p.y)*this.ease),this._allowEmitting&&d(wr.prototype.__proto__||Object.getPrototypeOf(wr.prototype),"emit",this).call(this,"once")}},{key:"destroy",value:function(){d(wr.prototype.__proto__||Object.getPrototypeOf(wr.prototype),"destroy",this).call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)}}]),wr);function wr(u,_,S){return o(this,wr),S=y(this,(wr.__proto__||Object.getPrototypeOf(wr)).call(this,S)),S.mouseTarget=P.initValue(u,window),S.ease=P.initValue(_,.7),S._allowEmitting=!1,S.initEventHandler(),S}var Hn=(l(li,[{key:"setStroke",value:function(u,_){u=0<arguments.length&&u!==void 0?u:"#000000",_=1<arguments.length&&_!==void 0?_:1,this.stroke={color:u,thinkness:_}}},{key:"initHandler",value:function(){var u=this;this._protonUpdateHandler=function(){u.onProtonUpdate.call(u)},this._protonUpdateAfterHandler=function(){u.onProtonUpdateAfter.call(u)},this._emitterAddedHandler=function(_){u.onEmitterAdded.call(u,_)},this._emitterRemovedHandler=function(_){u.onEmitterRemoved.call(u,_)},this._particleCreatedHandler=function(_){u.onParticleCreated.call(u,_)},this._particleUpdateHandler=function(_){u.onParticleUpdate.call(u,_)},this._particleDeadHandler=function(_){u.onParticleDead.call(u,_)}}},{key:"init",value:function(u){(this.parent=u).addEventListener("PROTON_UPDATE",this._protonUpdateHandler),u.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),u.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),u.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),u.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),u.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),u.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null}},{key:"onProtonUpdate",value:function(){}},{key:"onProtonUpdateAfter",value:function(){}},{key:"onEmitterAdded",value:function(){}},{key:"onEmitterRemoved",value:function(){}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(){}},{key:"onParticleDead",value:function(){}}]),li);function li(u,_){o(this,li),this.pool=new X,this.element=u,this.stroke=_,this.circleConf={isCircle:!0},this.initHandler(),this.name="BaseRenderer"}var Lr=(m(ui,Hn),l(ui,[{key:"resize",value:function(u,_){this.element.width=u,this.element.height=_}},{key:"onProtonUpdate",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:"onParticleCreated",value:function(u){u.body?U(u.body,this.addImg2Body,u):u.color=u.color||"#ff0000"}},{key:"onParticleUpdate",value:function(u){u.body?u.body instanceof Image&&this.drawImage(u):this.drawCircle(u)}},{key:"onParticleDead",value:function(u){u.body=null}},{key:"addImg2Body",value:function(u,_){_.body=u}},{key:"drawImage",value:function(u){var _,S=u.body.width*u.scale|0,N=u.body.height*u.scale|0,$=u.p.x-S/2,me=u.p.y-N/2;u.color?(u.data.buffer||(u.data.buffer=this.createBuffer(u.body)),(_=u.data.buffer.getContext("2d")).clearRect(0,0,u.data.buffer.width,u.data.buffer.height),_.globalAlpha=u.alpha,_.drawImage(u.body,0,0),_.globalCompositeOperation="source-atop",_.fillStyle=Te.rgbToHex(u.rgb),_.fillRect(0,0,u.data.buffer.width,u.data.buffer.height),_.globalCompositeOperation="source-over",_.globalAlpha=1,this.context.drawImage(u.data.buffer,0,0,u.data.buffer.width,u.data.buffer.height,$,me,S,N)):(this.context.save(),this.context.globalAlpha=u.alpha,this.context.translate(u.p.x,u.p.y),this.context.rotate(r.degreeTransform(u.rotation)),this.context.translate(-u.p.x,-u.p.y),this.context.drawImage(u.body,0,0,u.body.width,u.body.height,$,me,S,N),this.context.globalAlpha=1,this.context.restore())}},{key:"drawCircle",value:function(u){u.rgb?this.context.fillStyle="rgba("+u.rgb.r+","+u.rgb.g+","+u.rgb.b+","+u.alpha+")":this.context.fillStyle=u.color,this.context.beginPath(),this.context.arc(u.p.x,u.p.y,u.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:"createBuffer",value:function(u){if(u instanceof Image){var _=u.width+"_"+u.height,S=this.bufferCache[_];return S||((S=document.createElement("canvas")).width=u.width,S.height=u.height,this.bufferCache[_]=S),S}}}]),ui);function ui(u){return o(this,ui),u=y(this,(ui.__proto__||Object.getPrototypeOf(ui)).call(this,u)),u.stroke=null,u.context=u.element.getContext("2d"),u.bufferCache={},u.name="CanvasRenderer",u}var ja=(m(Or,Hn),l(Or,[{key:"onParticleCreated",value:function(u){u.body?U(u.body,this.addImg2Body,u):(u.body=this.pool.get(this.circleConf,u),this.element.appendChild(u.body))}},{key:"onParticleUpdate",value:function(u){this.bodyReady(u)&&(this.transform3d?q.transform3d(u.body,u.p.x,u.p.y,u.scale,u.rotation):q.transform(u.body,u.p.x,u.p.y,u.scale,u.rotation),u.body.style.opacity=u.alpha,u.body.isCircle&&(u.body.style.backgroundColor=u.color||"#ff0000"))}},{key:"onParticleDead",value:function(u){this.bodyReady(u)&&(this.element.removeChild(u.body),this.pool.expire(u.body),u.body=null)}},{key:"bodyReady",value:function(u){return i(u.body)==="object"&&u.body&&!u.body.isInner}},{key:"addImg2Body",value:function(u,_){_.dead||(_.body=this.pool.get(u,_),q.resize(_.body,u.width,u.height),this.element.appendChild(_.body))}},{key:"createBody",value:function(u,_){return u.isCircle?this.createCircle(_):this.createSprite(u,_)}},{key:"createCircle",value:function(u){var _=q.createDiv(u.id+"_dom",2*u.radius,2*u.radius);return _.style.borderRadius=u.radius+"px",this.stroke&&(_.style.borderColor=this.stroke.color,_.style.borderWidth=this.stroke.thinkness+"px"),_.isCircle=!0,_}},{key:"createSprite",value:function(N,_){var S=typeof N=="string"?N:N.src,N=q.createDiv(_.id+"_dom",N.width,N.height);return N.style.backgroundImage="url("+S+")",N}}]),Or);function Or(u){o(this,Or);var _=y(this,(Or.__proto__||Object.getPrototypeOf(Or)).call(this,u));return _.stroke=null,_.pool.create=function(S,N){return _.createBody(S,N)},_.addImg2Body=_.addImg2Body.bind(_),_.transform3d=!1,_.name="DomRenderer",_}var Er=(m(bi,Hn),l(bi,[{key:"onParticleCreated",value:function(u){u.body?this.createSprite(u):this.createCircle(u),this.element.addChild(u.body)}},{key:"onParticleUpdate",value:function(u){u.body&&(u.body.x=u.p.x,u.body.y=u.p.y,u.body.alpha=u.alpha,u.body.scaleX=u.body.scaleY=u.scale,u.body.rotation=u.rotation)}},{key:"onParticleDead",value:function(u){u.body&&(u.body.parent&&u.body.parent.removeChild(u.body),this.pool.expire(u.body),u.body=null),u.graphics&&this.pool.expire(u.graphics)}},{key:"createSprite",value:function(u){u.body=this.pool.get(u.body),u.body.parent||u.body.image&&(u.body.regX=u.body.image.width/2,u.body.regY=u.body.image.height/2)}},{key:"createCircle",value:function(u){var _=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?_.beginStroke(this.stroke):_.beginStroke("#000000")),_.beginFill(u.color||"#ff0000").drawCircle(0,0,u.radius);var S=this.pool.get(createjs.Shape,[_]);u.body=S,u.graphics=_}}]),bi);function bi(u,_){return o(this,bi),u=y(this,(bi.__proto__||Object.getPrototypeOf(bi)).call(this,u)),u.stroke=_,u.name="EaselRenderer",u}var qn=(m(ci,Hn),l(ci,[{key:"resize",value:function(u,_){this.element.width=u,this.element.height=_}},{key:"createImageData",value:function(u){this.rectangle=u||new Bn(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onProtonUpdate",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:"onProtonUpdateAfter",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:"onParticleCreated",value:function(){}},{key:"onParticleUpdate",value:function(u){this.imageData&&this.setPixel(this.imageData,Math.floor(u.p.x-this.rectangle.x),Math.floor(u.p.y-this.rectangle.y),u)}},{key:"setPixel",value:function(u,_,S,N){var $=N.rgb;_<0||_>this.element.width||S<0||S>this.elementwidth||(_=4*((S>>0)*u.width+(_>>0)),u.data[_]=$.r,u.data[1+_]=$.g,u.data[2+_]=$.b,u.data[3+_]=255*N.alpha)}},{key:"onParticleDead",value:function(){}}]),ci);function ci(u,_){return o(this,ci),u=y(this,(ci.__proto__||Object.getPrototypeOf(ci)).call(this,u)),u.context=u.element.getContext("2d"),u.imageData=null,u.rectangle=null,u.rectangle=_,u.createImageData(_),u.name="PixelRenderer",u}var Yi=void 0,$a=(m(Cr,Hn),l(Cr,[{key:"setPIXI",value:function(u){try{Yi=u||{Sprite:{}},this.createFromImage=Yi.Sprite.from||Yi.Sprite.fromImage}catch{}}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(u){u.body?u.body=this.pool.get(u.body,u):u.body=this.pool.get(this.circleConf,u),this.blendMode&&(u.body.blendMode=this.blendMode),this.element.addChild(u.body)}},{key:"onParticleUpdate",value:function(u){this.transform(u,u.body),this.setColor!==!0&&this.color!==!0||(u.body.tint=Te.getHex16FromParticle(u))}},{key:"onParticleDead",value:function(u){this.element.removeChild(u.body),this.pool.expire(u.body),u.body=null}},{key:"destroy",value:function(u){d(Cr.prototype.__proto__||Object.getPrototypeOf(Cr.prototype),"destroy",this).call(this),this.pool.destroy();for(var _=u.length;_--;){var S=u[_];S.body&&this.element.removeChild(S.body)}}},{key:"transform",value:function(u,_){_.x=u.p.x,_.y=u.p.y,_.alpha=u.alpha,_.scale.x=u.scale,_.scale.y=u.scale,_.rotation=u.rotation*r.PI_180}},{key:"createBody",value:function(u,_){return u.isCircle?this.createCircle(_):this.createSprite(u)}},{key:"createSprite",value:function(u){return u=u.isInner?this.createFromImage(u.src):new Yi.Sprite(u),u.anchor.x=.5,u.anchor.y=.5,u}},{key:"createCircle",value:function(u){var _,S=new Yi.Graphics;return this.stroke&&(_=this.stroke instanceof String?this.stroke:0,S.beginStroke(_)),S.beginFill(u.color||36077),S.drawCircle(0,0,u.radius),S.endFill(),S}}]),Cr);function Cr(u,_){o(this,Cr);var S=y(this,(Cr.__proto__||Object.getPrototypeOf(Cr)).call(this,u));return S.stroke=_,S.color=!1,S.setColor=!1,S.blendMode=null,S.pool.create=function(N,$){return S.createBody(N,$)},S.setPIXI(window.PIXI),S.name="PixiRenderer",S}var ro=(l(hi,[{key:"set",value:function(u,_){_===0?Ke.set(u,this.mats[0]):Ke.multiply(this.mats[_-1],u,this.mats[_]),this.size=Math.max(this.size,_+1)}},{key:"push",value:function(u){this.size===0?Ke.set(u,this.mats[0]):Ke.multiply(this.mats[this.size-1],u,this.mats[this.size]),this.size++}},{key:"pop",value:function(){0<this.size&&this.size--}},{key:"top",value:function(){return this.mats[this.size-1]}}]),hi);function hi(){o(this,hi),this.mats=[];for(var u=this.size=0;u<20;u++)this.mats.push(Ke.create([0,0,0,0,0,0,0,0,0]))}m(rr,Hn),l(rr,[{key:"init",value:function(u){d(rr.prototype.__proto__||Object.getPrototypeOf(rr.prototype),"init",this).call(this,u),this.resize(this.element.width,this.element.height)}},{key:"resize",value:function(u,_){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/u,this.smat[4]=1/_,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,u,_),this.element.width=u,this.element.height=_}},{key:"setMaxRadius",value:function(u){this.circleCanvasURL=this.createCircle(u)}},{key:"getVertexShader",value:function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join(`
`)}},{key:"getFragmentShader",value:function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join(`
`)}},{key:"initVar",value:function(){this.mstack=new ro,this.umat=Ke.create([2,0,1,0,-2,0,-1,1,1]),this.smat=Ke.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:"blendEquation",value:function(u){this.gl.blendEquation(this.gl[u])}},{key:"blendFunc",value:function(u,_){this.gl.blendFunc(this.gl[u],this.gl[_])}},{key:"getShader",value:function(u,_,S){return S=S?u.createShader(u.FRAGMENT_SHADER):u.createShader(u.VERTEX_SHADER),u.shaderSource(S,_),u.compileShader(S),u.getShaderParameter(S,u.COMPILE_STATUS)?S:(alert(u.getShaderInfoLog(S)),null)}},{key:"initShaders",value:function(){var u=this.getShader(this.gl,this.getFragmentShader(),!0),_=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,_),this.gl.attachShader(this.sprogram,u),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:"initBuffers",value:function(){var u;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);for(var S=void 0,_=[],S=0;S<100;S++)_.push(S);for(u=new Uint16Array(_),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,u,this.gl.STATIC_DRAW),_=[],S=0;S<100;S++)_.push(S,S+1,S+2);u=new Uint16Array(_),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,u,this.gl.STATIC_DRAW)}},{key:"createCircle",value:function(S){this.circleCanvasRadius=b(P.initValue(S,32));var _=q.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),S=_.getContext("2d");return S.beginPath(),S.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),S.closePath(),S.fillStyle="#FFF",S.fill(),_.toDataURL()}},{key:"drawImg2Canvas",value:function(u){var _=u.body.width,S=u.body.height,N=b(u.body.width),$=b(u.body.height),me=u.body.width/N,Ft=u.body.height/$;this.texturebuffers[u.data.src]||(this.texturebuffers[u.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),u.data.texture=this.texturebuffers[u.data.src][0],u.data.vcBuffer=this.texturebuffers[u.data.src][1],u.data.tcBuffer=this.texturebuffers[u.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,me,0,0,Ft,Ft,Ft]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,_,0,0,S,_,S]),this.gl.STATIC_DRAW),$=u.data.canvas.getContext("2d").getImageData(0,0,N,$),this.gl.bindTexture(this.gl.TEXTURE_2D,u.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,$),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),u.data.textureLoaded=!0,u.data.textureWidth=_,u.data.textureHeight=S}},{key:"onProtonUpdate",value:function(){}},{key:"onParticleCreated",value:function(u){u.data.textureLoaded=!1,u.data.tmat=Ke.create(),u.data.tmat[8]=1,u.data.imat=Ke.create(),u.data.imat[8]=1,u.body?U(u.body,this.addImg2Body,u):(U(this.circleCanvasURL,this.addImg2Body,u),u.data.oldScale=u.radius/this.circleCanvasRadius)}},{key:"addImg2Body",value:function(u,_){_.dead||(_.body=u,_.data.src=u.src,_.data.canvas=x(u),_.data.oldScale=1,this.drawImg2Canvas(_))}},{key:"onParticleUpdate",value:function(u){u.data.textureLoaded&&(this.updateMatrix(u),this.gl.uniform3f(this.sprogram.color,u.rgb.r/255,u.rgb.g/255,u.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,u.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:"onParticleDead",value:function(){}},{key:"updateMatrix",value:function(u){var _=I(-u.data.textureWidth/2,-u.data.textureHeight/2),S=I(u.p.x,u.p.y),$=u.rotation*r.PI_180,N=L($),$=u.scale*u.data.oldScale,$=O($,$),$=Y(_,$),$=Y($,N);$=Y($,S),Ke.inverse($,u.data.imat),$[2]=u.alpha,this.mstack.push($)}}]),dt=rr;function rr(u){return o(this,rr),u=y(this,(rr.__proto__||Object.getPrototypeOf(rr)).call(this,u)),u.gl=u.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),u.gl||alert("Sorry your browser do not suppest WebGL!"),u.initVar(),u.setMaxRadius(),u.initShaders(),u.initBuffers(),u.gl.blendEquation(u.gl.FUNC_ADD),u.gl.blendFunc(u.gl.SRC_ALPHA,u.gl.ONE_MINUS_SRC_ALPHA),u.gl.enable(u.gl.BLEND),u.addImg2Body=u.addImg2Body.bind(u),u.name="WebGLRenderer",u}m(As,Hn),Hn=As;function As(u){return o(this,As),u=y(this,(As.__proto__||Object.getPrototypeOf(As)).call(this,u)),u.name="CustomRenderer",u}var di=(m(fn,_r),l(fn,[{key:"getPosition",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:"getDirection",value:function(u,_){var S=this.dy,N=-this.dx;return 0<(S*u+N*_+this.dot)*(N==0?1:N)}},{key:"getDistance",value:function(u,_){return(this.dy*u+-this.dx*_+this.dot)/Math.sqrt(this.xxyy)}},{key:"getSymmetric",value:function(u){var N=u.getGradient(),_=2*(this.getGradient()-N),S=u.x,N=u.y;return u.x=S*Math.cos(_)-N*Math.sin(_),u.y=S*Math.sin(_)+N*Math.cos(_),u}},{key:"getGradient",value:function(){return Math.atan2(this.dy,this.dx)}},{key:"rangeOut",value:function(u){if(Math.abs(this.getGradient())<=r.PI/4){if(u.p.x<=this.maxx&&u.p.x>=this.minx)return!0}else if(u.p.y<=this.maxy&&u.p.y>=this.miny)return!0;return!1}},{key:"getLength",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:"crossing",value:function(u){this.crossType==="dead"?this.direction===">"||this.direction==="R"||this.direction==="right"||this.direction==="down"?this.rangeOut(u)&&this.getDirection(u.p.x,u.p.y)&&(u.dead=!0):this.rangeOut(u)&&(this.getDirection(u.p.x,u.p.y)||(u.dead=!0)):this.crossType==="bound"?this.rangeOut(u)&&this.getDistance(u.p.x,u.p.y)<=u.radius&&(this.dx===0?u.v.x*=-1:this.dy===0?u.v.y*=-1:this.getSymmetric(u.v)):this.crossType==="cross"&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)}}]),fn);function fn(u,_,S,N,$){o(this,fn);var me=y(this,(fn.__proto__||Object.getPrototypeOf(fn)).call(this));return 0<=S-u?(me.x1=u,me.y1=_,me.x2=S,me.y2=N):(me.x1=S,me.y1=N,me.x2=u,me.y2=_),me.dx=me.x2-me.x1,me.dy=me.y2-me.y1,me.minx=Math.min(me.x1,me.x2),me.miny=Math.min(me.y1,me.y2),me.maxx=Math.max(me.x1,me.x2),me.maxy=Math.max(me.y1,me.y2),me.dot=me.x2*me.y1-me.x1*me.y2,me.xxyy=me.dx*me.dx+me.dy*me.dy,me.gradient=me.getGradient(),me.length=me.getLength(),me.direction=P.initValue($,">"),me}var Xi=(m(Tr,_r),l(Tr,[{key:"getPosition",value:function(){return this.angle=r.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:"setCenter",value:function(u,_){this.center.x=u,this.center.y=_}},{key:"crossing",value:function(u){var _=u.p.distanceTo(this.center);this.crossType==="dead"?_-u.radius>this.radius&&(u.dead=!0):this.crossType==="bound"?_+u.radius>=this.radius&&this.getSymmetric(u):this.crossType==="cross"&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)}},{key:"getSymmetric",value:function(u){var N=u.v.getGradient(),_=2*(this.getGradient(u)-N),S=u.v.x,N=u.v.y;u.v.x=S*Math.cos(_)-N*Math.sin(_),u.v.y=S*Math.sin(_)+N*Math.cos(_)}},{key:"getGradient",value:function(u){return-r.PI_2+Math.atan2(u.p.y-this.center.y,u.p.x-this.center.x)}}]),Tr);function Tr(u,_,S){o(this,Tr);var N=y(this,(Tr.__proto__||Object.getPrototypeOf(Tr)).call(this));return N.x=u,N.y=_,N.radius=S,N.angle=0,N.center={x:u,y:_},N}var ki=(m(pt,_r),l(pt,[{key:"getPosition",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:"crossing",value:function(u){this.crossType==="dead"?((u.p.x+u.radius<this.x||u.p.x-u.radius>this.x+this.width)&&(u.dead=!0),(u.p.y+u.radius<this.y||u.p.y-u.radius>this.y+this.height)&&(u.dead=!0)):this.crossType==="bound"?(u.p.x-u.radius<this.x?(u.p.x=this.x+u.radius,u.v.x*=-1):u.p.x+u.radius>this.x+this.width&&(u.p.x=this.x+this.width-u.radius,u.v.x*=-1),u.p.y-u.radius<this.y?(u.p.y=this.y+u.radius,u.v.y*=-1):u.p.y+u.radius>this.y+this.height&&(u.p.y=this.y+this.height-u.radius,u.v.y*=-1)):this.crossType==="cross"&&(u.p.x+u.radius<this.x&&u.v.x<=0?u.p.x=this.x+this.width+u.radius:u.p.x-u.radius>this.x+this.width&&0<=u.v.x&&(u.p.x=this.x-u.radius),u.p.y+u.radius<this.y&&u.v.y<=0?u.p.y=this.y+this.height+u.radius:u.p.y-u.radius>this.y+this.height&&0<=u.v.y&&(u.p.y=this.y-u.radius))}}]),pt);function pt(u,_,S,N){o(this,pt);var $=y(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return $.x=u,$.y=_,$.width=S,$.height=N,$}m(Sr,_r),l(Sr,[{key:"reset",value:function(u,_,S,N){this.imageData=u,this.x=P.initValue(_,0),this.y=P.initValue(S,0),this.d=P.initValue(N,2),this.vectors=[],this.setVectors()}},{key:"setVectors",value:function(){for(var N=void 0,u=void 0,_=this.imageData.width,S=this.imageData.height,N=0;N<_;N+=this.d)for(u=0;u<S;u+=this.d){var $=4*((u>>0)*_+(N>>0));0<this.imageData.data[3+$]&&this.vectors.push({x:N+this.x,y:u+this.y})}return this.vector}},{key:"getBound",value:function(u,_){return u=4*((_>>0)*this.imageData.width+(u>>0)),0<this.imageData.data[3+u]}},{key:"getPosition",value:function(){var u=P.getRandFromArray(this.vectors);return this.vector.copy(u)}},{key:"getColor",value:function(u,_){return u-=this.x,u=4*(((_-=this.y)>>0)*this.imageData.width+(u>>0)),{r:this.imageData.data[u],g:this.imageData.data[1+u],b:this.imageData.data[2+u],a:this.imageData.data[3+u]}}},{key:"crossing",value:function(u){this.crossType==="dead"?this.getBound(u.p.x-this.x,u.p.y-this.y)?u.dead=!0:u.dead=!1:this.crossType==="bound"&&(this.getBound(u.p.x-this.x,u.p.y-this.y)||u.v.negate())}}]),m=Sr;function Sr(u,_,S,N){o(this,Sr);var $=y(this,(Sr.__proto__||Object.getPrototypeOf(Sr)).call(this));return $.reset(u,_,S,N),$}return l={addEventListener:function(u,_){u.addEventListener("PROTON_UPDATE_AFTER",function(){return _()})},getStyle:function(u){return u=Te.hexToRgb(0<arguments.length&&u!==void 0?u:"#ff0000"),"rgba("+u.r+", "+u.g+", "+u.b+", 0.5)"},drawZone:function(u,_,S,N){var $=_.getContext("2d"),me=this.getStyle();this.addEventListener(u,function(){N&&$.clearRect(0,0,_.width,_.height),S instanceof Pr?($.beginPath(),$.fillStyle=me,$.arc(S.x,S.y,10,0,2*Math.PI,!0),$.fill(),$.closePath()):S instanceof di?($.beginPath(),$.strokeStyle=me,$.moveTo(S.x1,S.y1),$.lineTo(S.x2,S.y2),$.stroke(),$.closePath()):S instanceof ki?($.beginPath(),$.strokeStyle=me,$.drawRect(S.x,S.y,S.width,S.height),$.stroke(),$.closePath()):S instanceof Xi&&($.beginPath(),$.strokeStyle=me,$.arc(S.x,S.y,S.radius,0,2*Math.PI,!0),$.stroke(),$.closePath())})},drawEmitter:function(u,_,S,N){var $=_.getContext("2d"),me=this.getStyle();this.addEventListener(u,function(){N&&$.clearRect(0,0,_.width,_.height),$.beginPath(),$.fillStyle=me,$.arc(S.p.x,S.p.y,10,0,2*Math.PI,!0),$.fill(),$.closePath()})}},K.Particle=Pe,K.Pool=X,K.Util=P,K.ColorUtil=Te,K.MathUtil=r,K.Vector2D=K.Vector=he,K.Polar2D=K.Polar=Ye,K.ArraySpan=it,K.Rectangle=Bn,K.Rate=rn,K.ease=le,K.Span=C,K.Mat3=Ke,K.getSpan=function(u,_,S){return new C(u,_,S)},K.createArraySpan=it.createArraySpan,K.Initialize=K.Init=zn,K.Life=K.L=br,K.Position=K.P=Yt,K.Velocity=K.V=Cs,K.Mass=K.M=Ri,K.Radius=K.R=Ts,K.Body=K.B=te,K.Behaviour=ue,K.Force=K.F=Ae,K.Attraction=K.A=Ve,K.RandomDrift=K.RD=ze,K.Gravity=K.G=wt,K.Collision=Ot,K.CrossZone=_n,K.Alpha=Kr,K.Scale=K.S=vr,K.Rotate=to,K.Color=qo,K.Repulsion=Ss,K.Cyclone=Ua,K.GravityWell=Ba,K.Emitter=Ii,K.BehaviourEmitter=za,K.FollowEmitter=xt,K.Zone=_r,K.LineZone=di,K.CircleZone=Xi,K.PointZone=Pr,K.RectZone=ki,K.ImageZone=m,K.CanvasRenderer=Lr,K.DomRenderer=ja,K.EaselRenderer=Er,K.PixiRenderer=$a,K.PixelRenderer=qn,K.WebGLRenderer=K.WebGlRenderer=dt,K.CustomRenderer=Hn,K.Debug=l,P.assign(K,le),K})}(Md)),Md.exports}var KS=GS();const z=Ia(KS);var A6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hr=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},qr=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ri=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},ii=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},QS=function(){function n(){Hr(this,n),this.list=[]}return qr(n,[{key:"set",value:function(t,r){this.list.push({probability:t,target:r,a:0,b:1}),this.calculation()}},{key:"calculation",value:function(){for(var t=0,r=0;r<this.list.length;r++)t+=this.list[r].probability;for(var i=0;i<this.list.length;i++){var o=this.list[i],l=o.probability/t;o.a=i===0?0:this.list[i-1].b,o.b=o.a+l}}},{key:"getResult",value:function(){for(var t=Math.random(),r=0;r<this.list.length;r++){var i=this.list[r];if(t<=i.b&&t>i.a)return i.target}return this.list[0].target}}]),n}(),Ki=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r._iid=0,r._oid=0,r.size={width:0,height:0},r.canvasRef=_e.createRef(),r}return qr(e,[{key:"componentDidMount",value:function(){var r=this;this._oid=setTimeout(function(){r.initCanvas(),r.resize=r.resize.bind(r),window.addEventListener("resize",r.resize)},100);var i=this.getCanvas();this.props.onCanvasDidMount&&this.props.onCanvasDidMount(i)}},{key:"initCanvas",value:function(){var r=this.getCanvas();if(this.props.globalCompositeOperation){var i=r.getContext("2d");i.globalCompositeOperation=this.props.globalCompositeOperation}var o=this.setCanvasSize(r),l=o.width,h=o.height;this.heartbeatDetectionCanvasSize(r),this.props.onCanvasInited(r,l,h)}},{key:"getCanvas",value:function(){var r=this.canvasRef.current;return r}},{key:"heartbeatDetectionCanvasSize",value:function(r){var i=this;this._iid=setInterval(function(){if(i.canvasRef.current){var o=i.canvasRef.current.clientHeight;if(o!==i.size.height){var l=i.setCanvasSize(r),h=l.width,d=l.height;i.props.onResize&&i.props.onResize(h,d)}}},1e3/10)}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.resize),clearInterval(this._iid),clearTimeout(this._oid)}catch{}}},{key:"resize",value:function(){var r=this.getCanvas(),i=this.setCanvasSize(r),o=i.width,l=i.height;this.props.onResize&&this.props.onResize(o,l)}},{key:"setCanvasSize",value:function(r){var i=this.canvasRef.current.clientWidth,o=this.canvasRef.current.clientHeight;return this.size.width=i,this.size.height=o,r.width=i,r.height=o,{width:i,height:o}}},{key:"handleWaypointEnter",value:function(){en.start()}},{key:"handleWaypointLeave",value:function(){en.stop()}},{key:"getStyle",value:function(){var r=this.props.bg,i={width:"100%",height:"100%"};return r===!0?i=Object.assign(i,{position:"absolute",zIndex:-1,top:0,left:0}):r&&(typeof r>"u"?"undefined":A6(r))==="object"&&(i=Object.assign(i,r)),i}},{key:"handleMouseDown",value:function(r){this.props.onMouseDown&&this.props.onMouseDown(r)}},{key:"render",value:function(){return _e.createElement("canvas",{className:"particles-bg-canvas-self",ref:this.canvasRef,onMouseDown:this.handleMouseDown.bind(this),style:this.getStyle()})}}]),e}(_e.Component);function YS(n){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{}}function Vf(n,e){var t=void 0;return n?(t=YS(n),"rgba("+t.r+","+t.g+","+t.b+", "+e+")"):null}var s2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),this.createMiniEmitter(r),en.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(r,i,o){var l=this,h=r.getContext("2d");this.proton=new z;var d=new z.Emitter;d.rate=new z.Rate(this.props.num?new z.Span(this.props.num):new z.Span(4,9),new z.Span(.8,1.3)),d.addInitialize(new z.Mass(1)),d.addInitialize(new z.Radius(1,50)),d.addInitialize(new z.Life(5,6)),d.addInitialize(new z.Velocity(new z.Span(5,8),new z.Span(30,70),"polar")),d.addBehaviour(new z.Alpha(1,0)),d.addBehaviour(new z.Color(["#36aaf3","#fd769c","#94ff22","#ffa545","#ffffff"])),d.addBehaviour(new z.Scale(.7,1)),d.addBehaviour(new z.Gravity(3)),d.addBehaviour(new z.Collision(d)),d.addBehaviour(this.customDeadBehaviour(r)),d.addBehaviour(new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"bound")),d.p.x=Math.min(500,Math.max(r.width/2-400,50)),d.p.y=r.height/2+50,d.emit(),this.proton.addEmitter(d);var m=new z.CanvasRenderer(r);m.onProtonUpdate=function(){h.fillStyle=Vf(l.props.color,.2)||"rgba(255, 255, 255, 0.2)",h.fillRect(0,0,r.width,r.height)},this.proton.addRenderer(m)}},{key:"customDeadBehaviour",value:function(r){var i=this;return{initialize:function(l){},applyBehaviour:function(l){l.p.y+l.radius>=r.height&&l.radius>9&&(i.miniEmitteing(l),l.dead=!0)}}}},{key:"createMiniEmitter",value:function(r){var i=new z.Emitter;i.rate=new z.Rate(new z.Span(3,6),new z.Span(1,2)),i.addInitialize(new z.Mass(1)),i.radiusInitialize=new z.Radius,i.addInitialize(i.radiusInitialize),i.addInitialize(new z.Life(.5,1)),i.addInitialize(new z.V(new z.Span(1.5,3),new z.Span(0,70,!0),"polar")),i.colorBehaviour=new z.Color("#ffffff"),i.addBehaviour(new z.Alpha(1,0)),i.addBehaviour(i.colorBehaviour),i.addBehaviour(new z.Gravity(4)),i.addBehaviour(new z.Collision(i)),i.addBehaviour(new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"bound")),this.proton.addEmitter(i),this.miniEmitter=i}},{key:"miniEmitteing",value:function(r){var i=this.miniEmitter;i.radiusInitialize.reset(r.radius*.05,r.radius*.2),i.colorBehaviour.reset(r.color),i.p.x=r.p.x,i.p.y=r.p.y,i.emit("once")}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),l1=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.rate=new z.Rate(this.props.num?new z.Span(this.props.num):new z.Span(5,8),new z.Span(.1,.25)),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(20,200)),l.addInitialize(new z.Life(2,4)),l.addInitialize(new z.Position(new z.RectZone(0,0,i,o))),l.addBehaviour(new z.Alpha(0,1,1/0,z.easeOutCubic)),l.addBehaviour(new z.Scale(1,0,1/0,z.easeOutCubic)),l.addBehaviour(new z.Color(this.colors,"random")),l.emit(),this.proton.addEmitter(l);var h=new z.CanvasRenderer(r);this.proton.addRenderer(h)}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),XS=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"getProp",value:function(r,i){var o=this.props.config||{},l=o[r]||i;return Array.isArray(l)?new z.Span(l[0],l[1]):l}},{key:"getArrProp",value:function(r,i){var o=this.props.config||{},l=o[r]||i;return l?Array.isArray(l)?l:[l,l]:null}},{key:"createProton",value:function(r,i,o){var l=this.getProp("num",[5,8]),h=this.getProp("rps",[.1,.2]),d=this.getProp("mass",1),m=this.getProp("radius",[10,30]),y=this.getProp("life",[2,3]),C=this.getProp("body"),A=this.getProp("position"),b=this.getProp("v",[2,3]),I=this.getProp("tha",[-15,15]),L=this.getArrProp("alpha"),O=this.getArrProp("scale"),Y=this.getArrProp("color"),q=this.getProp("cross","dead"),Z=this.getProp("random"),ae=this.getArrProp("rotate"),ve=this.getProp("g"),we=this.getArrProp("f"),U=this.getProp("emitter");this.proton=new z;var x=void 0;U==="follow"?x=new z.FollowEmitter:x=new z.Emitter,x.rate=new z.Rate(l,h),x.addInitialize(new z.Mass(d)),x.addInitialize(new z.Radius(m)),x.addInitialize(new z.Life(y)),x.addInitialize(new z.Velocity(b,I,"polar")),C&&x.addInitialize(new z.Body(C));var P=void 0;A==="all"||A==="screen"?P=new z.Position(new z.RectZone(0,0,r.width,r.height)):(typeof A>"u"?"undefined":A6(A))==="object"?P=new z.Position(new z.RectZone(A.x,A.y,A.width,A.height)):(x.p.x=r.width/2,x.p.y=r.height/2),x.addInitialize(P);var B=L?new z.Alpha(L[0],L[1]):new z.Alpha(0,1),H=O?new z.Scale(O[0],O[1]):new z.Scale(1,.2),X=Y?new z.Color(Y[0],Y[1]):new z.Color(this.colors);x.addBehaviour(B),x.addBehaviour(H),C||x.addBehaviour(X),ae&&(ae[0]===!0||ae[0]==="rotate"?x.addBehaviour(new z.Rotate):x.addBehaviour(new z.Rotate(ae[0],ae[1])));var D=new z.RectZone(0,0,r.width,r.height),nt=new z.CrossZone(D,q);x.addBehaviour(nt),Z&&x.addBehaviour(new z.RandomDrift(Z,Z,.05)),ve&&x.addBehaviour(new z.G(ve)),we&&x.addBehaviour(new z.F(we[0],we[1])),x.emit(),this.proton.addEmitter(x);var St=this.createRenderer(r);this.proton.addRenderer(St),this.emitter=x,this.crossZoneBehaviour=nt}},{key:"createRenderer",value:function(r){var i=r.width,o=r.height,l=r.getContext("2d"),h=new z.CanvasRenderer(r),d=this.getProp("onUpdate");d&&(h.onProtonUpdate=function(){d(l,i,o)});var m=this.getProp("onParticleCreated");m&&(h.onParticleCreated=function(C){m(l,C)});var y=this.getProp("onParticleUpdate");return y&&(h.onParticleUpdate=function(C){y(l,C)}),h}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"handleMouseDown",value:function(r){var i=this.getProp("onMouseDown");i&&i(r)}},{key:"render",value:function(){var r=this.props.globalCompositeOperation||this.props.operation||"source-over";return _e.createElement(Ki,{bg:this.props.bg,onMouseDown:this.handleMouseDown.bind(this),globalCompositeOperation:r,onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),o2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasDidMount",value:function(r){this.props.color&&(r.style.backgroundColor=this.props.color)}},{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.damping=.008,l.rate=new z.Rate(this.props.num?this.props.num:250),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(4)),l.addInitialize(new z.Velocity(new z.Span(1.5),new z.Span(0,360),"polar"));var h={x:i/2,y:o/2},d=new z.Attraction(h,0,0),m=new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"cross");l.addBehaviour(new z.Color("random")),l.addBehaviour(d,m),l.addBehaviour(new z.RandomDrift(10,10,.05)),l.p.x=r.width/2,l.p.y=r.height/2,l.emit("once"),this.proton.addEmitter(l),this.proton.addRenderer(this.createRenderer(r)),this.crossZoneBehaviour=m}},{key:"createRenderer",value:function(r){var i=this,o=r.getContext("2d"),l=new z.CanvasRenderer(r);return l.onProtonUpdate=function(){o.fillStyle=Vf(i.props.color,.02)||"rgba(0, 0, 0, 0.02)",o.fillRect(0,0,r.width,r.height)},l.onParticleUpdate=function(h){o.beginPath(),o.strokeStyle=h.color,o.lineWidth=1,o.moveTo(h.old.p.x,h.old.p.y),o.lineTo(h.p.x,h.p.y),o.closePath(),o.stroke()},l}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),a2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.hue=0,r.index=0,r.colorTemplate="hsla(hue,80%,50%, 0.75)",r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasDidMount",value:function(r){this.props.color&&(r.style.backgroundColor=this.props.color)}},{key:"onCanvasInited",value:function(r,i,o){this.canvas=r,this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.damping=.008,l.rate=new z.Rate(this.props.num?this.props.num:150),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(8)),l.addInitialize(new z.V(new z.Span(.1,.5),new z.Span(0,360),"polar")),l.addInitialize(new z.Position(new z.CircleZone(r.width/2,r.height/2,100)));var h=new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"cross");l.addBehaviour(h),this.repulsion=new z.Repulsion({x:r.width/2,y:r.height/2-100},3,300),this.attraction=new z.Attraction({x:r.width/2,y:r.height/2},3,200),l.addBehaviour(this.attraction,this.repulsion),l.addBehaviour(new z.Color("random")),l.addBehaviour(new z.RandomDrift(20,15,.15)),l.emit("once"),this.proton.addEmitter(l),this.proton.addRenderer(this.createRenderer(r)),this.crossZoneBehaviour=h}},{key:"createRenderer",value:function(r){var i=this,o=r.getContext("2d"),l=new z.CanvasRenderer(r);return l.onProtonUpdate=function(){i.hue+=1,o.fillStyle=Vf(i.props.color,.02)||"rgba(0, 0, 0, 0.02)",o.fillRect(0,0,r.width,r.height)},l.onParticleCreated=function(h){h.data.begin=z.MathUtil.randomAToB(1,120),h.data.tha=z.MathUtil.randomAToB(0,Math.PI*2)},l.onParticleUpdate=function(h){var d=h.data.begin+i.hue;h.color=i.colorTemplate.replace("hue",d%360);var m=3/4,y=h.radius*(1-m)*Math.cos(h.data.tha+=.01)+h.radius*m;o.beginPath(),o.fillStyle=h.color,o.arc(h.p.x,h.p.y,y,0,Math.PI*2,!0),o.closePath(),o.fill()},l}},{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"renderProton",value:function(){var r=this.canvas;this.proton.update(),this.index%200===0&&(this.attraction.targetPosition.x=Math.random()*r.width,this.attraction.targetPosition.y=Math.random()*r.height,this.repulsion.targetPosition.x=Math.random()*r.width,this.repulsion.targetPosition.y=Math.random()*r.height),this.index++}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),l2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.colors=["#fad390","#81ecec","#ffffff","#badc58","#f9ca24","#FEA47F"],r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasDidMount",value:function(r){}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(r,i){var o=150;this.crossZoneBehaviour.zone.width=r+2*o,this.crossZoneBehaviour.zone.height=i+2*o,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.rate=new z.Rate(this.props.num?this.props.num:50),l.damping=0,l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(4,70)),l.addInitialize(new z.Velocity(new z.Span(2,10),new z.Span(0),"polar")),l.addInitialize(new z.Position(new z.LineZone(0,r.height,r.width,r.height)));var h=150,d=new z.CrossZone(new z.RectZone(0-h,0-h,r.width+2*h,r.height+2*h),"cross");l.addBehaviour(d),l.addBehaviour(new z.Alpha(z.getSpan(.1,.55))),l.addBehaviour(new z.Color(this.colors)),l.emit("once"),this.proton.addEmitter(l);var m=this.createRenderer(r);this.proton.addRenderer(m),this.crossZoneBehaviour=d,l.preEmit(2)}},{key:"createRenderer",value:function(r){var i=r.getContext("2d"),o=new z.CustomRenderer;return o.onProtonUpdate=function(){i.clearRect(0,0,r.width,r.height)},o.onParticleCreated=function(l){var h=l.radius||60,d=z.MathUtil.randomAToB(100,200,"int");l.data.w=h,l.data.h=d},o.onParticleUpdate=function(l){var h=l.data.w,d=l.data.h;i.save(),i.globalAlpha=l.alpha,i.fillStyle=l.color,i.translate(l.p.x,l.p.y),i.rotate(z.MathUtil.degreeTransform(l.rotation)),i.translate(-l.p.x,-l.p.y),i.beginPath(),i.rect(l.p.x-h/2,l.p.y-d/2,h,d),i.closePath(),i.fill(),i.globalAlpha=1,i.restore()},o}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"lighter",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),u2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.rate=new z.Rate(this.props.num?new z.Span(this.props.num):new z.Span(100),new z.Span(.05,.2)),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(1,4)),l.addInitialize(new z.Life(1/0));var h=new z.Position(new z.RectZone(0,0,i,o));l.addInitialize(h),l.addInitialize(new z.Velocity(new z.Span(.3,.6),new z.Span(0,360),"polar")),l.addBehaviour(new z.Alpha(z.getSpan(.2,.9))),l.addBehaviour(new z.Color(this.props.color||"#333")),this.crossZoneBehaviour=new z.CrossZone(new z.RectZone(0,0,i,o),"cross"),l.addBehaviour(this.crossZoneBehaviour),l.emit("once"),l.damping=0,this.proton.addEmitter(l),this.proton.addRenderer(this.createRenderer(r,l))}},{key:"createRenderer",value:function(r,i){var o=this,l=r.getContext("2d"),h=new z.CanvasRenderer(r),d=140;return h.onProtonUpdateAfter=function(){for(var m=i.particles,y=0;y<m.length;y++)for(var C=y+1;C<m.length;C++){var A=m[y],b=m[C],I=A.p.distanceTo(b.p);if(I<d){var L=(1-I/d)*.5;l.strokeStyle=Vf(o.props.color,L)||"rgba(3, 3, 3, "+L+")",l.beginPath(),l.moveTo(A.p.x,A.p.y),l.lineTo(b.p.x,b.p.y),l.closePath(),l.stroke()}}},h}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),c2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.colors=["#74b9ff","#e84393","#6c5ce7","#00b894","#fdcb6e","#006266","#1B1464"],r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.rate=new z.Rate(this.props.num||20),l.damping=.008,l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(30,600)),l.addInitialize(new z.Velocity(new z.Span(.5),new z.Span(0,360),"polar")),l.addInitialize(new z.Position(new z.RectZone(0,0,r.width,r.height)));var h=new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"cross");l.addBehaviour(h),l.addBehaviour(new z.Alpha(z.getSpan(.35,.55))),l.addBehaviour(new z.Color(this.getColor())),l.addBehaviour(new z.RandomDrift(50,50,.5)),l.emit("once"),this.proton.addEmitter(l);var d=new z.CanvasRenderer(r);this.proton.addRenderer(d),this.crossZoneBehaviour=h}},{key:"getColor",value:function(){var r=this.colors;return this.props.color&&(Array.isArray(this.props.color)?r=this.props.color:r=[this.props.color]),r}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darken",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),h2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasDidMount",value:function(r){}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),this.renderProton()}},{key:"onResize",value:function(r,i){this.crossZoneBehaviour.zone.width=r,this.crossZoneBehaviour.zone.height=i,this.proton.renderers[0].resize(r,i)}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.damping=.008,l.rate=new z.Rate(this.props.num?this.props.num:50),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(5,9)),l.addInitialize(new z.Velocity(new z.Span(1.5),new z.Span(0,360),"polar")),l.addInitialize(new z.Position(new z.RectZone(0,0,i,o)));var h={x:i/2,y:o/2},d=new z.Attraction(h,0,0),m=new z.CrossZone(new z.RectZone(0,0,r.width,r.height),"bound");l.addBehaviour(new z.Color(this.props.color||"#bbb")),l.addBehaviour(d,m),l.addBehaviour(new z.RandomDrift(15,15,.05)),l.emit("once"),this.proton.addEmitter(l),this.proton.addRenderer(this.createRenderer(r)),this.crossZoneBehaviour=m}},{key:"createRenderer",value:function(r){var i=10,o=8,l=r.getContext("2d"),h=new z.CanvasRenderer(r);h.onProtonUpdate=function(){l.clearRect(0,0,r.width,r.height)},h.onParticleCreated=function(A){A.data.points=[],A.data.index=0},h.onParticleUpdate=function(A){y(A),A.data.index%o===0&&d(A),m(A),A.data.index++};var d=function(b){b.data.points.unshift(b.p.y),b.data.points.unshift(b.p.x),b.data.points.length>i&&(b.data.points.pop(),b.data.points.pop())},m=function(b){l.fillStyle=b.color,l.beginPath(),l.arc(b.p.x,b.p.y,b.radius,0,Math.PI*2,!0),l.closePath(),l.fill()},y=function(b){l.beginPath(),l.strokeStyle=b.color,l.moveTo(b.p.x,b.p.y);for(var I=b.data.points.length,L=0;L<I;L+=2){var O=b.data.points[L],Y=b.data.points[L+1];l.lineWidth=C(L,I),l.lineTo(O,Y),l.stroke()}},C=function(b,I){if(I<=2)return 1;var L=6,O=(L-1)/(2/I-1),Y=1-O,q=(b+2)/I,Z=O*q+Y;return Z=Z>>0,Z};return h}},{key:"renderProton",value:function(){var r=this;en.add(function(){r.proton.update()})}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasDidMount:this.onCanvasDidMount.bind(this),onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),ZS=["#f6b93b","#18dcff","#cd84f1","#ED4C67","#ffffff","#b71540","#32ff7e","#ff3838"],d2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"onCanvasInited",value:function(r,i,o){this.createProton(r),this.createEmitter({canvas:r,x:i/2,y:o/2,mainEmitter:!0,zone:"bound"}),en.add(this.renderProton)}},{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onResize",value:function(){}},{key:"createProton",value:function(r){this.proton=new z;var i=this.createRenderer(r);this.proton.addRenderer(i)}},{key:"createRenderer",value:function(r){var i=r.getContext("2d"),o=new z.CustomRenderer;o.onProtonUpdate=function(){i.clearRect(0,0,r.width,r.height)},o.onParticleCreated=function(h){h.data.count=z.MathUtil.randomAToB(3,10,!0)},o.onParticleUpdate=function(h){i.save(),i.globalAlpha=h.alpha,i.fillStyle=h.color,i.translate(h.p.x,h.p.y),i.rotate(z.MathUtil.degreeTransform(h.rotation)),i.translate(-h.p.x,-h.p.y),i.beginPath(),l(h,h.data.count),i.closePath(),i.fill(),i.globalAlpha=1,i.restore()},o.onParticleDead=function(h){};var l=function(d,m){if(m>=7)i.arc(d.p.x,d.p.y,d.radius,0,Math.PI*2,!0);else for(var y=d.radius,C=0;C<=m;C++){var A=d.p.x+y*Math.cos(Math.PI/180*360/m*C),b=d.p.y+y*Math.sin(Math.PI/180*360/m*C);C===0?i.moveTo(A,b):i.lineTo(A,b)}};return o}},{key:"createEmitter",value:function(r){var i=r.mainEmitter,o=r.canvas,l=r.x,h=r.y,d=r.radius,m=r.color,y=m===void 0?ZS:m,C=r.zone,A=C===void 0?"dead":C,b=r.once,I=b===void 0?"all":b,L=r.alpha,O=L===void 0?.85:L,Y=r.gravity,q=Y===void 0?3.5:Y,Z=this.proton.pool.get(z.Emitter);if(!Z.completed){Z.rate=new z.Rate(this.props.num?new z.Span(this.props.num):new z.Span(4,9),new z.Span(1.6,2.2));var ae=i?new z.Radius(10,110):new z.Radius(3,d);Z.addInitialize(new z.Mass(1)),Z.addInitialize(ae),Z.addInitialize(new z.Life(3,6)),Z.addInitialize(new z.Velocity(new z.Span(4,6),new z.Span(-90,90),"polar")),Z.addBehaviour(new z.Alpha(O,.2)),Z.addBehaviour(new z.Color(y)),Z.addBehaviour(new z.Scale(1,.3)),Z.addBehaviour(new z.Rotate),Z.addBehaviour(new z.Gravity(q)),Z.addBehaviour(this.customDeadBehaviour(o)),Z.addBehaviour(new z.CrossZone(new z.RectZone(0,0,o.width,o.height),A))}Z.p.x=l,Z.p.y=h,I==="once"?Z.emit("once"):Z.emit(),this.proton.addEmitter(Z)}},{key:"expireEmitter",value:function(r){var i=this;setTimeout(function(){r.completed=!0,i.proton.pool.expire(r),i.proton.removeEmitter(r)},500)}},{key:"customDeadBehaviour",value:function(r){var i=this;return{initialize:function(l){l.data=l.data||{},l.data.oldRadius=l.radius,l.data.emitterCount=0},applyBehaviour:function(l){l.radius<5||l.data.emitterCount>=2||l.radius<=1/3*l.data.oldRadius&&(l.data.emitterCount++,i.createEmitter({canvas:r,x:l.p.x,y:l.p.y,radius:l.radius*(1/2),alpha:.5,gravity:5,color:l.color,once:"once"}))}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"darker",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),f2=function(n){ri(e,n);function e(t){Hr(this,e);var r=ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.colors=["#529B88","#CDD180","#FFFA32","#FB6255","#FB4A53","#FF4E50","#F9D423"],r.renderProton=r.renderProton.bind(r),r}return qr(e,[{key:"componentWillUnmount",value:function(){try{en.remove(this.renderProton),this.proton.destroy()}catch{}}},{key:"onCanvasInited",value:function(r,i,o){this.createProton(r,i,o),en.add(this.renderProton)}},{key:"onResize",value:function(){}},{key:"createProton",value:function(r,i,o){this.proton=new z;var l=new z.Emitter;l.rate=new z.Rate(this.props.num?new z.Span(this.props.num):new z.Span(4,8),new z.Span(.1,.25)),l.addInitialize(new z.Mass(1)),l.addInitialize(new z.Radius(20,200)),l.addInitialize(new z.Life(2,4)),l.addInitialize(new z.Velocity(new z.Span(4,7),new z.Span(0,360),"polar")),l.addInitialize(new z.Position(new z.CircleZone(i/2,o/2,100))),l.addBehaviour(new z.Alpha(1,0)),l.addBehaviour(new z.Scale(.2,1)),l.addBehaviour(this.createCustomBehaviour()),l.addBehaviour(new z.Color(this.colors,"random")),l.emit(),this.proton.addEmitter(l);var h=new z.CanvasRenderer(r);this.proton.addRenderer(h)}},{key:"createCustomBehaviour",value:function(){var r=1e3;return{initialize:function(o){o.f=new z.Vector2D(0,0)},applyBehaviour:function(o){var l=o.v.length()/1e3,h=o.v.getGradient();h+=3.14/2,o.f.x=r*l*Math.cos(h),o.f.y=r*l*Math.sin(h),o.a.add(o.f)}}}},{key:"renderProton",value:function(){this.proton&&this.proton.update()}},{key:"render",value:function(){return _e.createElement(Ki,{bg:this.props.bg,globalCompositeOperation:"xor",onCanvasInited:this.onCanvasInited.bind(this),onResize:this.onResize.bind(this)})}}]),e}(_e.Component),JS=function(n){ri(e,n);function e(t){return Hr(this,e),ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return qr(e,[{key:"getRandom",value:function(){var r=this.props,i=r.num,o=r.bg,l=r.color;return this.random||(this.random=new QS,this.random.set(.25,_e.createElement(l1,{num:i,bg:o,color:l})),this.random.set(.2,_e.createElement(s2,{num:i,bg:o,color:l})),this.random.set(.2,_e.createElement(o2,{num:i,bg:o,color:l})),this.random.set(.16,_e.createElement(a2,{num:i,bg:o,color:l})),this.random.set(.18,_e.createElement(c2,{num:i,bg:o,color:l})),this.random.set(.04,_e.createElement(u2,{num:i,bg:o,color:l})),this.random.set(.1,_e.createElement(d2,{num:i,bg:o,color:l})),this.random.set(.08,_e.createElement(l2,{num:i,bg:o,color:l})),this.random.set(.18,_e.createElement(h2,{num:i,bg:o,color:l})),this.random.set(.15,_e.createElement(f2,{num:i,bg:o,color:l}))),this.random.getResult()}},{key:"getBgParticles",value:function(){var r=this.props,i=r.type,o=r.num,l=r.bg,h=r.color,d=r.config,m=void 0;switch(String(i).toLowerCase()){case"color":m=_e.createElement(l1,{num:o,bg:l,color:h});break;case"ball":m=_e.createElement(s2,{num:o,bg:l,color:h});break;case"lines":m=_e.createElement(o2,{num:o,bg:l,color:h});break;case"thick":m=_e.createElement(a2,{num:o,bg:l,color:h});break;case"circle":m=_e.createElement(c2,{num:o,bg:l,color:h});break;case"cobweb":m=_e.createElement(u2,{num:o,bg:l,color:h});break;case"polygon":m=_e.createElement(d2,{num:o,bg:l,color:h});break;case"square":m=_e.createElement(l2,{num:o,bg:l,color:h});break;case"tadpole":m=_e.createElement(h2,{num:o,bg:l,color:h});break;case"fountain":m=_e.createElement(f2,{num:o,bg:l,color:h});break;case"custom":m=_e.createElement(XS,{bg:l,config:d});break;case"random":m=this.getRandom(o);break;default:m=_e.createElement(l1,{num:o,bg:l,color:h});break}return m}},{key:"render",value:function(){var r=this.getBgParticles();return _e.createElement(_e.Fragment,null,r)}}]),e}(ie.Component),R6={};function e7(n){const e=new Error(n);if(e.stack===void 0)try{throw e}catch{}return e}var t7=e7,rt=t7;function n7(n){return!!n&&typeof n.then=="function"}var $t=n7;function r7(n,e){if(n!=null)return n;throw rt(e??"Got unexpected null or undefined")}var Kt=r7;function tt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class Ff{getValue(){throw rt("BaseLoadable")}toPromise(){throw rt("BaseLoadable")}valueMaybe(){throw rt("BaseLoadable")}valueOrThrow(){throw rt(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw rt("BaseLoadable")}promiseOrThrow(){throw rt(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw rt("BaseLoadable")}errorOrThrow(){throw rt(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw rt("BaseLoadable")}}class i7 extends Ff{constructor(e){super(),tt(this,"state","hasValue"),tt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return $t(t)?ya(t):Ul(t)?t:Wc(t)}catch(t){return $t(t)?ya(t.next(()=>this.map(e))):Uf(t)}}}class s7 extends Ff{constructor(e){super(),tt(this,"state","hasError"),tt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class I6 extends Ff{constructor(e){super(),tt(this,"state","loading"),tt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ya(this.contents.then(t=>{const r=e(t);if(Ul(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(t=>{if($t(t))return t.then(()=>this.map(e).contents);throw t}))}}function Wc(n){return Object.freeze(new i7(n))}function Uf(n){return Object.freeze(new s7(n))}function ya(n){return Object.freeze(new I6(n))}function b6(){return Object.freeze(new I6(new Promise(()=>{})))}function o7(n){return n.every(e=>e.state==="hasValue")?Wc(n.map(e=>e.contents)):n.some(e=>e.state==="hasError")?Uf(Kt(n.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ya(Promise.all(n.map(e=>e.contents)))}function k6(n){const t=(Array.isArray(n)?n:Object.getOwnPropertyNames(n).map(i=>n[i])).map(i=>Ul(i)?i:$t(i)?ya(i):Wc(i)),r=o7(t);return Array.isArray(n)?r:r.map(i=>Object.getOwnPropertyNames(n).reduce((o,l,h)=>({...o,[l]:i[h]}),{}))}function Ul(n){return n instanceof Ff}const a7={of:n=>$t(n)?ya(n):Ul(n)?n:Wc(n),error:n=>Uf(n),loading:()=>b6(),all:k6,isLoadable:Ul};var ba={loadableWithValue:Wc,loadableWithError:Uf,loadableWithPromise:ya,loadableLoading:b6,loadableAll:k6,isLoadable:Ul,RecoilLoadable:a7},l7=ba.loadableWithValue,u7=ba.loadableWithError,c7=ba.loadableWithPromise,h7=ba.loadableLoading,d7=ba.loadableAll,f7=ba.isLoadable,p7=ba.RecoilLoadable,Hc=Object.freeze({__proto__:null,loadableWithValue:l7,loadableWithError:u7,loadableWithPromise:c7,loadableLoading:h7,loadableAll:d7,isLoadable:f7,RecoilLoadable:p7});const J1={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function m7(n,e){var t,r;const i=(t=R6[n])===null||t===void 0||(r=t.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw rt(`process.env.${n} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function g7(n,e){var t;const r=(t=R6[n])===null||t===void 0?void 0:t.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function y7(){var n;typeof process>"u"||((n=process)===null||n===void 0?void 0:n.env)!=null&&(m7("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{J1.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),g7("RECOIL_GKS_ENABLED",e=>{e.forEach(t=>{J1.RECOIL_GKS_ENABLED.add(t)})}))}y7();var iu=J1;function Bf(n){return iu.RECOIL_GKS_ENABLED.has(n)}Bf.setPass=n=>{iu.RECOIL_GKS_ENABLED.add(n)};Bf.setFail=n=>{iu.RECOIL_GKS_ENABLED.delete(n)};Bf.clear=()=>{iu.RECOIL_GKS_ENABLED.clear()};var Lt=Bf;function _7(n,e,{error:t}={}){return null}var v7=_7,i0=v7,u1,c1,h1;const w7=(u1=_e.createMutableSource)!==null&&u1!==void 0?u1:_e.unstable_createMutableSource,P6=(c1=_e.useMutableSource)!==null&&c1!==void 0?c1:_e.unstable_useMutableSource,x6=(h1=_e.useSyncExternalStore)!==null&&h1!==void 0?h1:_e.unstable_useSyncExternalStore;function E7(){var n;const{ReactCurrentDispatcher:e,ReactCurrentOwner:t}=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((n=e==null?void 0:e.current)!==null&&n!==void 0?n:t.currentDispatcher).useSyncExternalStore!=null}function C7(){return Lt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Lt("recoil_sync_external_store")&&x6!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Lt("recoil_mutable_source")&&P6!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Lt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Lt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function T7(){return!1}var qc={createMutableSource:w7,useMutableSource:P6,useSyncExternalStore:x6,currentRendererSupportsUseSyncExternalStore:E7,reactMode:C7,isFastRefreshEnabled:T7};class s0{constructor(e){tt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class N6 extends s0{}class L6 extends s0{}function S7(n){return n instanceof N6||n instanceof L6}var zf={AbstractRecoilValue:s0,RecoilState:N6,RecoilValueReadOnly:L6,isRecoilValue:S7},A7=zf.AbstractRecoilValue,R7=zf.RecoilState,I7=zf.RecoilValueReadOnly,b7=zf.isRecoilValue,Bl=Object.freeze({__proto__:null,AbstractRecoilValue:A7,RecoilState:R7,RecoilValueReadOnly:I7,isRecoilValue:b7});function k7(n,e){return function*(){let t=0;for(const r of n)yield e(r,t++)}()}var jf=k7;class O6{}const P7=new O6,_a=new Map,o0=new Map;function x7(n){return jf(n,e=>Kt(o0.get(e)))}function N7(n){if(_a.has(n)){const e=`Duplicate atom key "${n}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function L7(n){iu.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&N7(n.key),_a.set(n.key,n);const e=n.set==null?new Bl.RecoilValueReadOnly(n.key):new Bl.RecoilState(n.key);return o0.set(n.key,e),e}class D6 extends Error{}function O7(n){const e=_a.get(n);if(e==null)throw new D6(`Missing definition for RecoilValue: "${n}""`);return e}function D7(n){return _a.get(n)}const Xd=new Map;function M7(n){var e;if(!Lt("recoil_memory_managament_2020"))return;const t=_a.get(n);if(t!=null&&(e=t.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(t)){var r;_a.delete(n),(r=M6(n))===null||r===void 0||r(),Xd.delete(n)}}function V7(n,e){Lt("recoil_memory_managament_2020")&&(e===void 0?Xd.delete(n):Xd.set(n,e))}function M6(n){return Xd.get(n)}var Gr={nodes:_a,recoilValues:o0,registerNode:L7,getNode:O7,getNodeMaybe:D7,deleteNodeConfigIfPossible:M7,setConfigDeletionHandler:V7,getConfigDeletionHandler:M6,recoilValuesForKeys:x7,NodeMissingError:D6,DefaultValue:O6,DEFAULT_VALUE:P7};function F7(n,e){e()}var U7={enqueueExecution:F7};function B7(n,e){return e={exports:{}},n(e,e.exports),e.exports}var z7=B7(function(n){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},t={},r=5,i=Math.pow(2,r),o=i-1,l=i/2,h=i/4,d={},m=function(Q){return function(){return Q}},y=t.hash=function(te){var Q=typeof te>"u"?"undefined":e(te);if(Q==="number")return te;Q!=="string"&&(te+="");for(var ue=0,Se=0,Ae=te.length;Se<Ae;++Se){var Ie=te.charCodeAt(Se);ue=(ue<<5)-ue+Ie|0}return ue},C=function(Q){return Q-=Q>>1&1431655765,Q=(Q&858993459)+(Q>>2&858993459),Q=Q+(Q>>4)&252645135,Q+=Q>>8,Q+=Q>>16,Q&127},A=function(Q,ue){return ue>>>Q&o},b=function(Q){return 1<<Q},I=function(Q,ue){return C(Q&ue-1)},L=function(Q,ue,Se,Ae){var Ie=Ae;if(!Q){var Ve=Ae.length;Ie=new Array(Ve);for(var Ne=0;Ne<Ve;++Ne)Ie[Ne]=Ae[Ne]}return Ie[ue]=Se,Ie},O=function(Q,ue,Se){var Ae=Se.length-1,Ie=0,Ve=0,Ne=Se;if(Q)Ie=Ve=ue;else for(Ne=new Array(Ae);Ie<ue;)Ne[Ve++]=Se[Ie++];for(++Ie;Ie<=Ae;)Ne[Ve++]=Se[Ie++];return Q&&(Ne.length=Ae),Ne},Y=function(Q,ue,Se,Ae){var Ie=Ae.length;if(Q){for(var Ve=Ie;Ve>=ue;)Ae[Ve--]=Ae[Ve];return Ae[ue]=Se,Ae}for(var Ne=0,ze=0,Be=new Array(Ie+1);Ne<ue;)Be[ze++]=Ae[Ne++];for(Be[ue]=Se;Ne<Ie;)Be[++ze]=Ae[Ne++];return Be},q=1,Z=2,ae=3,ve=4,we={__hamt_isEmpty:!0},U=function(Q){return Q===we||Q&&Q.__hamt_isEmpty},x=function(Q,ue,Se,Ae){return{type:q,edit:Q,hash:ue,key:Se,value:Ae,_modify:Ce}},P=function(Q,ue,Se){return{type:Z,edit:Q,hash:ue,children:Se,_modify:De}},B=function(Q,ue,Se){return{type:ae,edit:Q,mask:ue,children:Se,_modify:K}},H=function(Q,ue,Se){return{type:ve,edit:Q,size:ue,children:Se,_modify:j}},X=function(Q){return Q===we||Q.type===q||Q.type===Z},D=function(Q,ue,Se,Ae,Ie){for(var Ve=[],Ne=Ae,ze=0,Be=0;Ne;++Be)Ne&1&&(Ve[Be]=Ie[ze++]),Ne>>>=1;return Ve[ue]=Se,H(Q,ze+1,Ve)},nt=function(Q,ue,Se,Ae){for(var Ie=new Array(ue-1),Ve=0,Ne=0,ze=0,Be=Ae.length;ze<Be;++ze)if(ze!==Se){var wt=Ae[ze];wt&&!U(wt)&&(Ie[Ve++]=wt,Ne|=1<<ze)}return B(Q,Ne,Ie)},St=function te(Q,ue,Se,Ae,Ie,Ve){if(Se===Ie)return P(Q,Se,[Ve,Ae]);var Ne=A(ue,Se),ze=A(ue,Ie);return B(Q,b(Ne)|b(ze),Ne===ze?[te(Q,ue+r,Se,Ae,Ie,Ve)]:Ne<ze?[Ae,Ve]:[Ve,Ae])},dt=function(Q,ue,Se,Ae,Ie,Ve,Ne,ze){for(var Be=Ie.length,wt=0;wt<Be;++wt){var Ct=Ie[wt];if(Se(Ne,Ct.key)){var Ot=Ct.value,Tt=Ve(Ot);return Tt===Ot?Ie:Tt===d?(--ze.value,O(Q,wt,Ie)):L(Q,wt,x(ue,Ae,Ne,Tt),Ie)}}var _n=Ve();return _n===d?Ie:(++ze.value,L(Q,Be,x(ue,Ae,Ne,_n),Ie))},Ge=function(Q,ue){return Q===ue.edit},Ce=function(Q,ue,Se,Ae,Ie,Ve,Ne){if(ue(Ve,this.key)){var ze=Ae(this.value);return ze===this.value?this:ze===d?(--Ne.value,we):Ge(Q,this)?(this.value=ze,this):x(Q,Ie,Ve,ze)}var Be=Ae();return Be===d?this:(++Ne.value,St(Q,Se,this.hash,this,Ie,x(Q,Ie,Ve,Be)))},De=function(Q,ue,Se,Ae,Ie,Ve,Ne){if(Ie===this.hash){var ze=Ge(Q,this),Be=dt(ze,Q,ue,this.hash,this.children,Ae,Ve,Ne);return Be===this.children?this:Be.length>1?P(Q,this.hash,Be):Be[0]}var wt=Ae();return wt===d?this:(++Ne.value,St(Q,Se,this.hash,this,Ie,x(Q,Ie,Ve,wt)))},K=function(Q,ue,Se,Ae,Ie,Ve,Ne){var ze=this.mask,Be=this.children,wt=A(Se,Ie),Ct=b(wt),Ot=I(ze,Ct),Tt=ze&Ct,_n=Tt?Be[Ot]:we,ot=_n._modify(Q,ue,Se+r,Ae,Ie,Ve,Ne);if(_n===ot)return this;var Kr=Ge(Q,this),Dt=ze,vr=void 0;if(Tt&&U(ot)){if(Dt&=~Ct,!Dt)return we;if(Be.length<=2&&X(Be[Ot^1]))return Be[Ot^1];vr=O(Kr,Ot,Be)}else if(!Tt&&!U(ot)){if(Be.length>=l)return D(Q,wt,ot,ze,Be);Dt|=Ct,vr=Y(Kr,Ot,ot,Be)}else vr=L(Kr,Ot,ot,Be);return Kr?(this.mask=Dt,this.children=vr,this):B(Q,Dt,vr)},j=function(Q,ue,Se,Ae,Ie,Ve,Ne){var ze=this.size,Be=this.children,wt=A(Se,Ie),Ct=Be[wt],Ot=(Ct||we)._modify(Q,ue,Se+r,Ae,Ie,Ve,Ne);if(Ct===Ot)return this;var Tt=Ge(Q,this),_n=void 0;if(U(Ct)&&!U(Ot))++ze,_n=L(Tt,wt,Ot,Be);else if(!U(Ct)&&U(Ot)){if(--ze,ze<=h)return nt(Q,ze,wt,Be);_n=L(Tt,wt,we,Be)}else _n=L(Tt,wt,Ot,Be);return Tt?(this.size=ze,this.children=_n,this):H(Q,ze,_n)};we._modify=function(te,Q,ue,Se,Ae,Ie,Ve){var Ne=Se();return Ne===d?we:(++Ve.value,x(te,Ae,Ie,Ne))};function M(te,Q,ue,Se,Ae){this._editable=te,this._edit=Q,this._config=ue,this._root=Se,this._size=Ae}M.prototype.setTree=function(te,Q){return this._editable?(this._root=te,this._size=Q,this):te===this._root?this:new M(this._editable,this._edit,this._config,te,Q)};var se=t.tryGetHash=function(te,Q,ue,Se){for(var Ae=Se._root,Ie=0,Ve=Se._config.keyEq;;)switch(Ae.type){case q:return Ve(ue,Ae.key)?Ae.value:te;case Z:{if(Q===Ae.hash)for(var Ne=Ae.children,ze=0,Be=Ne.length;ze<Be;++ze){var wt=Ne[ze];if(Ve(ue,wt.key))return wt.value}return te}case ae:{var Ct=A(Ie,Q),Ot=b(Ct);if(Ae.mask&Ot){Ae=Ae.children[I(Ae.mask,Ot)],Ie+=r;break}return te}case ve:{if(Ae=Ae.children[A(Ie,Q)],Ae){Ie+=r;break}return te}default:return te}};M.prototype.tryGetHash=function(te,Q,ue){return se(te,Q,ue,this)};var le=t.tryGet=function(te,Q,ue){return se(te,ue._config.hash(Q),Q,ue)};M.prototype.tryGet=function(te,Q){return le(te,Q,this)};var he=t.getHash=function(te,Q,ue){return se(void 0,te,Q,ue)};M.prototype.getHash=function(te,Q){return he(te,Q,this)},t.get=function(te,Q){return se(void 0,Q._config.hash(te),te,Q)},M.prototype.get=function(te,Q){return le(Q,te,this)};var pe=t.has=function(te,Q,ue){return se(d,te,Q,ue)!==d};M.prototype.hasHash=function(te,Q){return pe(te,Q,this)};var Pe=t.has=function(te,Q){return pe(Q._config.hash(te),te,Q)};M.prototype.has=function(te){return Pe(te,this)};var ke=function(Q,ue){return Q===ue};t.make=function(te){return new M(0,0,{keyEq:te&&te.keyEq||ke,hash:te&&te.hash||y},we,0)},t.empty=t.make();var Te=t.isEmpty=function(te){return te&&!!U(te._root)};M.prototype.isEmpty=function(){return Te(this)};var Ye=t.modifyHash=function(te,Q,ue,Se){var Ae={value:Se._size},Ie=Se._root._modify(Se._editable?Se._edit:NaN,Se._config.keyEq,0,te,Q,ue,Ae);return Se.setTree(Ie,Ae.value)};M.prototype.modifyHash=function(te,Q,ue){return Ye(ue,te,Q,this)};var ft=t.modify=function(te,Q,ue){return Ye(te,ue._config.hash(Q),Q,ue)};M.prototype.modify=function(te,Q){return ft(Q,te,this)};var Ke=t.setHash=function(te,Q,ue,Se){return Ye(m(ue),te,Q,Se)};M.prototype.setHash=function(te,Q,ue){return Ke(te,Q,ue,this)};var it=t.set=function(te,Q,ue){return Ke(ue._config.hash(te),te,Q,ue)};M.prototype.set=function(te,Q){return it(te,Q,this)};var kt=m(d),Bn=t.removeHash=function(te,Q,ue){return Ye(kt,te,Q,ue)};M.prototype.removeHash=M.prototype.deleteHash=function(te,Q){return Bn(te,Q,this)};var nn=t.remove=function(te,Q){return Bn(Q._config.hash(te),te,Q)};M.prototype.remove=M.prototype.delete=function(te){return nn(te,this)};var rn=t.beginMutation=function(te){return new M(te._editable+1,te._edit+1,te._config,te._root,te._size)};M.prototype.beginMutation=function(){return rn(this)};var Ai=t.endMutation=function(te){return te._editable=te._editable&&te._editable-1,te};M.prototype.endMutation=function(){return Ai(this)};var zn=t.mutate=function(te,Q){var ue=rn(Q);return te(ue),Ai(ue)};M.prototype.mutate=function(te){return zn(te,this)};var jn=function(Q){return Q&&br(Q[0],Q[1],Q[2],Q[3],Q[4])},br=function(Q,ue,Se,Ae,Ie){for(;Se<Q;){var Ve=ue[Se++];if(Ve&&!U(Ve))return yr(Ve,Ae,[Q,ue,Se,Ae,Ie])}return jn(Ie)},yr=function(Q,ue,Se){switch(Q.type){case q:return{value:ue(Q),rest:Se};case Z:case ve:case ae:var Ae=Q.children;return br(Ae.length,Ae,0,ue,Se);default:return jn(Se)}},_r={done:!0};function kr(te){this.v=te}kr.prototype.next=function(){if(!this.v)return _r;var te=this.v;return this.v=jn(te.rest),te},kr.prototype[Symbol.iterator]=function(){return this};var Pr=function(Q,ue){return new kr(yr(Q._root,ue))},Pt=function(Q){return[Q.key,Q.value]},Yt=t.entries=function(te){return Pr(te,Pt)};M.prototype.entries=M.prototype[Symbol.iterator]=function(){return Yt(this)};var kn=function(Q){return Q.key},Cs=t.keys=function(te){return Pr(te,kn)};M.prototype.keys=function(){return Cs(this)};var $n=function(Q){return Q.value},Ri=t.values=M.prototype.values=function(te){return Pr(te,$n)};M.prototype.values=function(){return Ri(this)};var Wn=t.fold=function(te,Q,ue){var Se=ue._root;if(Se.type===q)return te(Q,Se.value,Se.key);for(var Ae=[Se.children],Ie=void 0;Ie=Ae.pop();)for(var Ve=0,Ne=Ie.length;Ve<Ne;){var ze=Ie[Ve++];ze&&ze.type&&(ze.type===q?Q=te(Q,ze.value,ze.key):Ae.push(ze.children))}return Q};M.prototype.fold=function(te,Q){return Wn(te,Q,this)};var Ts=t.forEach=function(te,Q){return Wn(function(ue,Se,Ae){return te(Se,Ae,Q)},null,Q)};M.prototype.forEach=function(te){return Ts(te,this)};var xr=t.count=function(te){return te._size};M.prototype.count=function(){return xr(this)},Object.defineProperty(M.prototype,"size",{get:M.prototype.count}),n.exports?n.exports=t:(void 0).hamt=t});class j7{constructor(e){tt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return l0(this)}toMap(){return new Map(this._map)}}class a0{constructor(e){if(tt(this,"_hamt",z7.empty.beginMutation()),e instanceof a0){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,r]of e.entries())this._hamt.set(t,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return l0(this)}toMap(){return new Map(this._hamt)}}function l0(n){return Lt("recoil_hamt_2020")?new a0(n):new j7(n)}var $7={persistentMap:l0},W7=$7.persistentMap,H7=Object.freeze({__proto__:null,persistentMap:W7});function q7(n,...e){const t=new Set;e:for(const r of n){for(const i of e)if(i.has(r))continue e;t.add(r)}return t}var yc=q7;function G7(n,e){const t=new Map;return n.forEach((r,i)=>{t.set(i,e(r,i))}),t}var Zd=G7;function K7(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Q7(n){return{nodeDeps:Zd(n.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:Zd(n.nodeToNodeSubscriptions,e=>new Set(e))}}function d1(n,e,t,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=t,l=i.get(n);if(l&&r&&l!==r.nodeDeps.get(n))return;i.set(n,e);const h=l==null?e:yc(e,l);for(const d of h)o.has(d)||o.set(d,new Set),Kt(o.get(d)).add(n);if(l){const d=yc(l,e);for(const m of d){if(!o.has(m))return;const y=Kt(o.get(m));y.delete(n),y.size===0&&o.delete(m)}}}function Y7(n,e,t,r){var i,o,l,h;const d=t.getState();r===d.currentTree.version||r===((i=d.nextTree)===null||i===void 0?void 0:i.version)||((o=d.previousTree)===null||o===void 0||o.version);const m=t.getGraph(r);if(d1(n,e,m),r===((l=d.previousTree)===null||l===void 0?void 0:l.version)){const C=t.getGraph(d.currentTree.version);d1(n,e,C,m)}if(r===((h=d.previousTree)===null||h===void 0?void 0:h.version)||r===d.currentTree.version){var y;const C=(y=d.nextTree)===null||y===void 0?void 0:y.version;if(C!==void 0){const A=t.getGraph(C);d1(n,e,A,m)}}}var Gc={cloneGraph:Q7,graph:K7,saveDepsToStore:Y7};let X7=0;const Z7=()=>X7++;let J7=0;const eA=()=>J7++;let tA=0;const nA=()=>tA++;var $f={getNextTreeStateVersion:Z7,getNextStoreID:eA,getNextComponentID:nA};const{persistentMap:p2}=H7,{graph:rA}=Gc,{getNextTreeStateVersion:V6}=$f;function F6(){const n=V6();return{version:n,stateID:n,transactionMetadata:{},dirtyAtoms:new Set,atomValues:p2(),nonvalidatedAtoms:p2()}}function iA(){const n=F6();return{currentTree:n,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(n.version,rA()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var U6={makeEmptyTreeState:F6,makeEmptyStoreState:iA,getNextTreeStateVersion:V6};class B6{}function sA(){return new B6}var Wf={RetentionZone:B6,retentionZone:sA};function oA(n,e){const t=new Set(n);return t.add(e),t}function aA(n,e){const t=new Set(n);return t.delete(e),t}function lA(n,e,t){const r=new Map(n);return r.set(e,t),r}function uA(n,e,t){const r=new Map(n);return r.set(e,t(r.get(e))),r}function cA(n,e){const t=new Map(n);return t.delete(e),t}function hA(n,e){const t=new Map(n);return e.forEach(r=>t.delete(r)),t}var z6={setByAddingToSet:oA,setByDeletingFromSet:aA,mapBySettingInMap:lA,mapByUpdatingInMap:uA,mapByDeletingFromMap:cA,mapByDeletingMultipleFromMap:hA};function*dA(n,e){let t=0;for(const r of n)e(r,t++)&&(yield r)}var u0=dA;function fA(n,e){return new Proxy(n,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var j6=fA;const{getNode:Kc,getNodeMaybe:pA,recoilValuesForKeys:m2}=Gr,{RetentionZone:g2}=Wf,{setByAddingToSet:mA}=z6,gA=Object.freeze(new Set);class yA extends Error{}function _A(n,e,t){if(!Lt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=n.getState().retention;function i(o){let l=r.get(o);l||r.set(o,l=new Set),l.add(e)}if(t instanceof g2)i(t);else if(Array.isArray(t))for(const o of t)i(o);return()=>{if(!Lt("recoil_memory_managament_2020"))return;const{retention:o}=n.getState();function l(h){const d=o.nodesRetainedByZone.get(h);d==null||d.delete(e),d&&d.size===0&&o.nodesRetainedByZone.delete(h)}if(t instanceof g2)l(t);else if(Array.isArray(t))for(const h of t)l(h)}}function c0(n,e,t,r){const i=n.getState();if(i.nodeCleanupFunctions.has(t))return;const o=Kc(t),l=_A(n,t,o.retainedBy),h=o.init(n,e,r);i.nodeCleanupFunctions.set(t,()=>{h(),l()})}function vA(n,e,t){c0(n,n.getState().currentTree,e,t)}function wA(n,e){var t;const r=n.getState();(t=r.nodeCleanupFunctions.get(e))===null||t===void 0||t(),r.nodeCleanupFunctions.delete(e)}function EA(n,e,t){return c0(n,e,t,"get"),Kc(t).get(n,e)}function $6(n,e,t){return Kc(t).peek(n,e)}function CA(n,e,t){var r;const i=pA(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,n),{...n,atomValues:n.atomValues.clone().delete(e),nonvalidatedAtoms:n.nonvalidatedAtoms.clone().set(e,t),dirtyAtoms:mA(n.dirtyAtoms,e)}}function TA(n,e,t,r){const i=Kc(t);if(i.set==null)throw new yA(`Attempt to set read-only RecoilValue: ${t}`);const o=i.set;return c0(n,e,t,"set"),o(n,e,r)}function SA(n,e,t){const r=n.getState(),i=n.getGraph(e.version),o=Kc(t).nodeType;return j6({type:o},{loadable:()=>$6(n,e,t),isActive:()=>r.knownAtoms.has(t)||r.knownSelectors.has(t),isSet:()=>o==="selector"?!1:e.atomValues.has(t),isModified:()=>e.dirtyAtoms.has(t),deps:()=>{var l;return m2((l=i.nodeDeps.get(t))!==null&&l!==void 0?l:[])},subscribers:()=>{var l,h;return{nodes:m2(u0(W6(n,e,new Set([t])),d=>d!==t)),components:jf((l=(h=r.nodeToComponentSubscriptions.get(t))===null||h===void 0?void 0:h.values())!==null&&l!==void 0?l:[],([d])=>({name:d}))}}})}function W6(n,e,t){const r=new Set,i=Array.from(t),o=n.getGraph(e.version);for(let h=i.pop();h;h=i.pop()){var l;r.add(h);const d=(l=o.nodeToNodeSubscriptions.get(h))!==null&&l!==void 0?l:gA;for(const m of d)r.has(m)||i.push(m)}return r}var zo={getNodeLoadable:EA,peekNodeLoadable:$6,setNodeValue:TA,initializeNode:vA,cleanUpNode:wA,setUnvalidatedAtomValue_DEPRECATED:CA,peekNodeInfo:SA,getDownstreamNodes:W6};let H6=null;function AA(n){H6=n}function RA(){var n;(n=H6)===null||n===void 0||n()}var q6={setInvalidateMemoizedSnapshot:AA,invalidateMemoizedSnapshot:RA};const{getDownstreamNodes:IA,getNodeLoadable:G6,setNodeValue:bA}=zo,{getNextComponentID:kA}=$f,{getNode:PA,getNodeMaybe:K6}=Gr,{DefaultValue:h0}=Gr,{reactMode:xA}=qc,{AbstractRecoilValue:NA,RecoilState:LA,RecoilValueReadOnly:OA,isRecoilValue:DA}=Bl,{invalidateMemoizedSnapshot:MA}=q6;function VA(n,{key:e},t=n.getState().currentTree){var r,i;const o=n.getState();t.version===o.currentTree.version||t.version===((r=o.nextTree)===null||r===void 0?void 0:r.version)||(t.version,(i=o.previousTree)===null||i===void 0||i.version);const l=G6(n,t,e);return l.state==="loading"&&l.contents.catch(()=>{}),l}function FA(n,e){const t=n.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof h0?t.delete(i):t.set(i,r)}),t}function UA(n,e,{key:t},r){if(typeof r=="function"){const i=G6(n,e,t);if(i.state==="loading"){const o=`Tried to set atom or selector "${t}" using an updater function while the current state is pending, this is not currently supported.`;throw rt(o)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function BA(n,e,t){if(t.type==="set"){const{recoilValue:i,valueOrUpdater:o}=t,l=UA(n,e,i,o),h=bA(n,e,i.key,l);for(const[d,m]of h.entries())eg(e,d,m)}else if(t.type==="setLoadable"){const{recoilValue:{key:i},loadable:o}=t;eg(e,i,o)}else if(t.type==="markModified"){const{recoilValue:{key:i}}=t;e.dirtyAtoms.add(i)}else if(t.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:o}=t,l=K6(i);l==null||(r=l.invalidate)===null||r===void 0||r.call(l,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,o),e.dirtyAtoms.add(i)}else i0(`Unknown action ${t.type}`)}function eg(n,e,t){t.state==="hasValue"&&t.contents instanceof h0?n.atomValues.delete(e):n.atomValues.set(e,t),n.dirtyAtoms.add(e),n.nonvalidatedAtoms.delete(e)}function Q6(n,e){n.replaceState(t=>{const r=Y6(t);for(const i of e)BA(n,r,i);return X6(n,r),MA(),r})}function Hf(n,e){if(_c.length){const t=_c[_c.length-1];let r=t.get(n);r||t.set(n,r=[]),r.push(e)}else Q6(n,[e])}const _c=[];function zA(){const n=new Map;return _c.push(n),()=>{for(const[e,t]of n)Q6(e,t);_c.pop()}}function Y6(n){return{...n,atomValues:n.atomValues.clone(),nonvalidatedAtoms:n.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(n.dirtyAtoms)}}function X6(n,e){const t=IA(n,e,e.dirtyAtoms);for(const o of t){var r,i;(r=K6(o))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function Z6(n,e,t){Hf(n,{type:"set",recoilValue:e,valueOrUpdater:t})}function jA(n,e,t){if(t instanceof h0)return Z6(n,e,t);Hf(n,{type:"setLoadable",recoilValue:e,loadable:t})}function $A(n,e){Hf(n,{type:"markModified",recoilValue:e})}function WA(n,e,t){Hf(n,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:t})}function HA(n,{key:e},t,r=null){const i=kA(),o=n.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),Kt(o.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",t]);const l=xA();if(l.early&&(l.mode==="LEGACY"||l.mode==="MUTABLE_SOURCE")){const h=n.getState().nextTree;h&&h.dirtyAtoms.has(e)&&t(h)}return{release:()=>{const h=n.getState(),d=h.nodeToComponentSubscriptions.get(e);d===void 0||!d.has(i)||(d.delete(i),d.size===0&&h.nodeToComponentSubscriptions.delete(e))}}}function qA(n,e){var t;const{currentTree:r}=n.getState(),i=PA(e.key);(t=i.clearCache)===null||t===void 0||t.call(i,n,r)}var _s={RecoilValueReadOnly:OA,AbstractRecoilValue:NA,RecoilState:LA,getRecoilValueAsLoadable:VA,setRecoilValue:Z6,setRecoilValueLoadable:jA,markRecoilValueModified:$A,setUnvalidatedRecoilValue:WA,subscribeToRecoilValue:HA,isRecoilValue:DA,applyAtomValueWrites:FA,batchStart:zA,writeLoadableToTreeState:eg,invalidateDownstreams:X6,copyTreeState:Y6,refreshRecoilValue:qA};function GA(n,e,t){const r=n.entries();let i=r.next();for(;!i.done;){const o=i.value;if(e.call(t,o[1],o[0],n))return!0;i=r.next()}return!1}var KA=GA;const{cleanUpNode:QA}=zo,{deleteNodeConfigIfPossible:YA,getNode:J6}=Gr,{RetentionZone:e5}=Wf,XA=12e4,t5=new Set;function n5(n,e){const t=n.getState(),r=t.currentTree;if(t.nextTree)return;const i=new Set;for(const l of e)if(l instanceof e5)for(const h of tR(t,l))i.add(h);else i.add(l);const o=ZA(n,i);for(const l of o)eR(n,r,l)}function ZA(n,e){const t=n.getState(),r=t.currentTree,i=n.getGraph(r.version),o=new Set,l=new Set;return h(e),o;function h(d){const m=new Set,y=JA(n,r,d,o,l);for(const I of y){var C;if(J6(I).retainedBy==="recoilRoot"){l.add(I);continue}if(((C=t.retention.referenceCounts.get(I))!==null&&C!==void 0?C:0)>0){l.add(I);continue}if(r5(I).some(O=>t.retention.referenceCounts.get(O))){l.add(I);continue}const L=i.nodeToNodeSubscriptions.get(I);if(L&&KA(L,O=>l.has(O))){l.add(I);continue}o.add(I),m.add(I)}const A=new Set;for(const I of m)for(const L of(b=i.nodeDeps.get(I))!==null&&b!==void 0?b:t5){var b;o.has(L)||A.add(L)}A.size&&h(A)}}function JA(n,e,t,r,i){const o=n.getGraph(e.version),l=[],h=new Set;for(;t.size>0;)d(Kt(t.values().next().value));return l;function d(m){if(r.has(m)||i.has(m)){t.delete(m);return}if(h.has(m))return;const y=o.nodeToNodeSubscriptions.get(m);if(y)for(const C of y)d(C);h.add(m),t.delete(m),l.push(m)}}function eR(n,e,t){if(!Lt("recoil_memory_managament_2020"))return;QA(n,t);const r=n.getState();r.knownAtoms.delete(t),r.knownSelectors.delete(t),r.nodeTransactionSubscriptions.delete(t),r.retention.referenceCounts.delete(t);const i=r5(t);for(const d of i){var o;(o=r.retention.nodesRetainedByZone.get(d))===null||o===void 0||o.delete(t)}e.atomValues.delete(t),e.dirtyAtoms.delete(t),e.nonvalidatedAtoms.delete(t);const l=r.graphsByVersion.get(e.version);if(l){const d=l.nodeDeps.get(t);if(d!==void 0){l.nodeDeps.delete(t);for(const m of d){var h;(h=l.nodeToNodeSubscriptions.get(m))===null||h===void 0||h.delete(t)}}l.nodeToNodeSubscriptions.delete(t)}YA(t)}function tR(n,e){var t;return(t=n.retention.nodesRetainedByZone.get(e))!==null&&t!==void 0?t:t5}function r5(n){const e=J6(n).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof e5?[e]:e}function nR(n,e){const t=n.getState();t.nextTree?t.retention.retainablesToCheckForRelease.add(e):n5(n,new Set([e]))}function rR(n,e,t){var r;if(!Lt("recoil_memory_managament_2020"))return;const i=n.getState().retention.referenceCounts,o=((r=i.get(e))!==null&&r!==void 0?r:0)+t;o===0?i5(n,e):i.set(e,o)}function i5(n,e){if(!Lt("recoil_memory_managament_2020"))return;n.getState().retention.referenceCounts.delete(e),nR(n,e)}function iR(n){if(!Lt("recoil_memory_managament_2020"))return;const e=n.getState();n5(n,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function sR(n){return n===void 0?"recoilRoot":n}var ka={SUSPENSE_TIMEOUT_MS:XA,updateRetainCount:rR,updateRetainCountToZero:i5,releaseScheduledRetainablesNow:iR,retainedByOptionWithDefault:sR};const{unstable_batchedUpdates:oR}=jS;var aR={unstable_batchedUpdates:oR};const{unstable_batchedUpdates:lR}=aR;var uR={unstable_batchedUpdates:lR};const{batchStart:cR}=_s,{unstable_batchedUpdates:hR}=uR;let d0=hR||(n=>n());const dR=n=>{d0=n},fR=()=>d0,pR=n=>{d0(()=>{let e=()=>{};try{e=cR(),n()}finally{e()}})};var qf={getBatcher:fR,setBatcher:dR,batchUpdates:pR};function*mR(n){for(const e of n)for(const t of e)yield t}var s5=mR;const o5=typeof Window>"u"||typeof window>"u",gR=n=>!o5&&(n===window||n instanceof Window),yR=typeof navigator<"u"&&navigator.product==="ReactNative";var Gf={isSSR:o5,isReactNative:yR,isWindow:gR};function _R(n,e){let t;return(...r)=>{t||(t={});const i=e(...r);return Object.hasOwnProperty.call(t,i)||(t[i]=n(...r)),t[i]}}function vR(n,e){let t,r;return(...i)=>{const o=e(...i);return t===o||(t=o,r=n(...i)),r}}function wR(n,e){let t,r;return[(...l)=>{const h=e(...l);return t===h||(t=h,r=n(...l)),r},()=>{t=null}]}var ER={memoizeWithArgsHash:_R,memoizeOneWithArgsHash:vR,memoizeOneWithArgsHashAndInvalidation:wR};const{batchUpdates:tg}=qf,{initializeNode:CR,peekNodeInfo:TR}=zo,{graph:SR}=Gc,{getNextStoreID:AR}=$f,{DEFAULT_VALUE:RR,recoilValues:y2,recoilValuesForKeys:_2}=Gr,{AbstractRecoilValue:IR,getRecoilValueAsLoadable:bR,setRecoilValue:v2,setUnvalidatedRecoilValue:kR}=_s,{updateRetainCount:Vd}=ka,{setInvalidateMemoizedSnapshot:PR}=q6,{getNextTreeStateVersion:xR,makeEmptyStoreState:NR}=U6,{isSSR:LR}=Gf,{memoizeOneWithArgsHashAndInvalidation:OR}=ER;class Kf{constructor(e,t){tt(this,"_store",void 0),tt(this,"_refCount",1),tt(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),bR(this._store,r))),tt(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),tt(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const l=this._store.getState().currentTree;return _2(l.dirtyAtoms)}const i=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?y2.values():r.isInitialized===!0?_2(s5([i,o])):u0(y2.values(),({key:l})=>!i.has(l)&&!o.has(l))}),tt(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),TR(this._store,this._store.getState().currentTree,r))),tt(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new ng(this,tg);return r(i),i}),tt(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new ng(this,tg);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:AR(),parentStoreID:t,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return Kt(i.get(r));const o=SR();return i.set(r,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw rt("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)CR(this._store,r,"get"),Vd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){LR||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Lt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Lt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function a5(n,e,t=!1){const r=n.getState(),i=t?xR():e.version;return{currentTree:{version:t?i:e.version,stateID:t?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,n.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(jf(r.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function DR(n){const e=new Kf(NR());return n!=null?e.map(n):e}const[w2,l5]=OR((n,e)=>{var t;const r=n.getState(),i=e==="latest"?(t=r.nextTree)!==null&&t!==void 0?t:r.currentTree:Kt(r.previousTree);return new Kf(a5(n,i),n.storeID)},(n,e)=>{var t,r;return String(e)+String(n.storeID)+String((t=n.getState().nextTree)===null||t===void 0?void 0:t.version)+String(n.getState().currentTree.version)+String((r=n.getState().previousTree)===null||r===void 0?void 0:r.version)});PR(l5);function MR(n,e="latest"){const t=w2(n,e);return t.isRetained()?t:(l5(),w2(n,e))}class ng extends Kf{constructor(e,t){super(a5(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),tt(this,"_batch",void 0),tt(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Vd(o,r.key,1),v2(this.getStore_INTERNAL(),r,i)})}),tt(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Vd(i,r.key,1),v2(this.getStore_INTERNAL(),r,RR)})}),tt(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();tg(()=>{for(const[o,l]of r.entries())Vd(i,o,1),kR(i,new IR(o),l)})}),this._batch=t}}var Qf={Snapshot:Kf,MutableSnapshot:ng,freshSnapshot:DR,cloneSnapshot:MR},VR=Qf.Snapshot,FR=Qf.MutableSnapshot,UR=Qf.freshSnapshot,BR=Qf.cloneSnapshot,Yf=Object.freeze({__proto__:null,Snapshot:VR,MutableSnapshot:FR,freshSnapshot:UR,cloneSnapshot:BR});function zR(...n){const e=new Set;for(const t of n)for(const r of t)e.add(r);return e}var jR=zR;const{useRef:$R}=_e;function WR(n){const e=$R(n);return e.current===n&&typeof n=="function"&&(e.current=n()),e}var E2=WR;const{getNextTreeStateVersion:HR,makeEmptyStoreState:u5}=U6,{cleanUpNode:qR,getDownstreamNodes:GR,initializeNode:KR,setNodeValue:QR,setUnvalidatedAtomValue_DEPRECATED:YR}=zo,{graph:XR}=Gc,{cloneGraph:ZR}=Gc,{getNextStoreID:c5}=$f,{createMutableSource:f1,reactMode:h5}=qc,{applyAtomValueWrites:JR}=_s,{releaseScheduledRetainablesNow:d5}=ka,{freshSnapshot:eI}=Yf,{useCallback:tI,useContext:f5,useEffect:rg,useMemo:nI,useRef:rI,useState:iI}=_e;function Xu(){throw rt("This component must be used inside a <RecoilRoot> component.")}const p5=Object.freeze({storeID:c5(),getState:Xu,replaceState:Xu,getGraph:Xu,subscribeToTransactions:Xu,addTransactionMetadata:Xu});let ig=!1;function C2(n){if(ig)throw rt("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=n.getState();if(e.nextTree===null){Lt("recoil_memory_managament_2020")&&Lt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&d5(n);const t=e.currentTree.version,r=HR();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,ZR(Kt(e.graphsByVersion.get(t))))}}const m5=_e.createContext({current:p5}),Xf=()=>f5(m5),g5=_e.createContext(null);function sI(){return f5(g5)}function f0(n,e,t){const r=GR(n,t,t.dirtyAtoms);for(const i of r){const o=e.nodeToComponentSubscriptions.get(i);if(o)for(const[l,[h,d]]of o)d(t)}}function y5(n){const e=n.getState(),t=e.currentTree,r=t.dirtyAtoms;if(r.size){for(const[i,o]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[l,h]of o)h(n);for(const[i,o]of e.transactionSubscriptions)o(n);(!h5().early||e.suspendedComponentResolvers.size>0)&&(f0(n,e,t),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(t)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function oI(n){const e=n.getState();e.commitDepth++;try{const{nextTree:t}=e;if(t==null)return;e.previousTree=e.currentTree,e.currentTree=t,e.nextTree=null,y5(n),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):i0("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Lt("recoil_memory_managament_2020")&&t==null&&d5(n)}finally{e.commitDepth--}}function aI({setNotifyBatcherOfChange:n}){const e=Xf(),[,t]=iI([]);return n(()=>t({})),rg(()=>(n(()=>t({})),()=>{n(()=>{})}),[n]),rg(()=>{U7.enqueueExecution("Batcher",()=>{oI(e.current)})}),null}function lI(n,e){const t=u5();return e({set:(r,i)=>{const o=t.currentTree,l=QR(n,o,r.key,i),h=new Set(l.keys()),d=o.nonvalidatedAtoms.clone();for(const m of h)d.delete(m);t.currentTree={...o,dirtyAtoms:jR(o.dirtyAtoms,h),atomValues:JR(o.atomValues,l),nonvalidatedAtoms:d}},setUnvalidatedAtomValues:r=>{r.forEach((i,o)=>{t.currentTree=YR(t.currentTree,o,i)})}}),t}function uI(n){const e=eI(n),t=e.getStore_INTERNAL().getState();return e.retain(),t.nodeCleanupFunctions.forEach(r=>r()),t.nodeCleanupFunctions.clear(),t}let T2=0;function cI({initializeState_DEPRECATED:n,initializeState:e,store_INTERNAL:t,children:r}){let i;const o=b=>{const I=i.current.graphsByVersion;if(I.has(b))return Kt(I.get(b));const L=XR();return I.set(b,L),L},l=(b,I)=>{if(I==null){const{transactionSubscriptions:L}=C.current.getState(),O=T2++;return L.set(O,b),{release:()=>{L.delete(O)}}}else{const{nodeTransactionSubscriptions:L}=C.current.getState();L.has(I)||L.set(I,new Map);const O=T2++;return Kt(L.get(I)).set(O,b),{release:()=>{const Y=L.get(I);Y&&(Y.delete(O),Y.size===0&&L.delete(I))}}}},h=b=>{C2(C.current);for(const I of Object.keys(b))Kt(C.current.getState().nextTree).transactionMetadata[I]=b[I]},d=b=>{C2(C.current);const I=Kt(i.current.nextTree);let L;try{ig=!0,L=b(I)}finally{ig=!1}L!==I&&(i.current.nextTree=L,h5().early&&f0(C.current,i.current,L),Kt(m.current)())},m=rI(null),y=tI(b=>{m.current=b},[m]),C=E2(()=>t??{storeID:c5(),getState:()=>i.current,replaceState:d,getGraph:o,subscribeToTransactions:l,addTransactionMetadata:h});t!=null&&(C.current=t),i=E2(()=>n!=null?lI(C.current,n):e!=null?uI(e):u5());const A=nI(()=>f1==null?void 0:f1(i,()=>i.current.currentTree.version),[i]);return rg(()=>{const b=C.current;for(const I of new Set(b.getState().knownAtoms))KR(b,I,"get");return()=>{for(const I of b.getState().knownAtoms)qR(b,I)}},[C]),_e.createElement(m5.Provider,{value:C},_e.createElement(g5.Provider,{value:A},_e.createElement(aI,{setNotifyBatcherOfChange:y}),r))}function hI(n){const{override:e,...t}=n,r=Xf();return e===!1&&r.current!==p5?n.children:_e.createElement(cI,t)}function dI(){return Xf().current.storeID}var Zs={RecoilRoot:hI,useStoreRef:Xf,useRecoilMutableSource:sI,useRecoilStoreID:dI,notifyComponents_FOR_TESTING:f0,sendEndOfBatchNotifications_FOR_TESTING:y5};function fI(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}var pI=fI;const{useEffect:mI,useRef:gI}=_e;function yI(n){const e=gI();return mI(()=>{e.current=n}),e.current}var _5=yI;const{useStoreRef:_I}=Zs,{SUSPENSE_TIMEOUT_MS:vI}=ka,{updateRetainCount:Zu}=ka,{RetentionZone:wI}=Wf,{useEffect:EI,useRef:CI}=_e,{isSSR:S2}=Gf;function TI(n){if(Lt("recoil_memory_managament_2020"))return SI(n)}function SI(n){const t=(Array.isArray(n)?n:[n]).map(l=>l instanceof wI?l:l.key),r=_I();EI(()=>{if(!Lt("recoil_memory_managament_2020"))return;const l=r.current;if(i.current&&!S2)window.clearTimeout(i.current),i.current=null;else for(const h of t)Zu(l,h,1);return()=>{for(const h of t)Zu(l,h,-1)}},[r,...t]);const i=CI(),o=_5(t);if(!S2&&(o===void 0||!pI(o,t))){const l=r.current;for(const h of t)Zu(l,h,1);if(o)for(const h of o)Zu(l,h,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const h of t)Zu(l,h,-1)},vI)}}var p0=TI;function AI(){return"<component name not available>"}var Qc=AI;const{batchUpdates:RI}=qf,{DEFAULT_VALUE:v5}=Gr,{currentRendererSupportsUseSyncExternalStore:II,reactMode:su,useMutableSource:bI,useSyncExternalStore:kI}=qc,{useRecoilMutableSource:PI,useStoreRef:vs}=Zs,{AbstractRecoilValue:sg,getRecoilValueAsLoadable:Yc,setRecoilValue:Jd,setUnvalidatedRecoilValue:xI,subscribeToRecoilValue:zl}=_s,{useCallback:Wr,useEffect:jl,useMemo:w5,useRef:vc,useState:m0}=_e,{setByAddingToSet:NI}=z6,{isSSR:LI}=Gf;function g0(n,e,t){if(n.state==="hasValue")return n.contents;throw n.state==="loading"?new Promise(i=>{const o=t.current.getState().suspendedComponentResolvers;o.add(i),LI&&$t(n.contents)&&n.contents.finally(()=>{o.delete(i)})}):n.state==="hasError"?n.contents:rt(`Invalid value of loadable atom "${e.key}"`)}function OI(){const n=Qc(),e=vs(),[,t]=m0([]),r=vc(new Set);r.current=new Set;const i=vc(new Set),o=vc(new Map),l=Wr(d=>{const m=o.current.get(d);m&&(m.release(),o.current.delete(d))},[o]),h=Wr((d,m)=>{o.current.has(m)&&t([])},[]);return jl(()=>{const d=e.current;yc(r.current,i.current).forEach(m=>{if(o.current.has(m))return;const y=zl(d,new sg(m),A=>h(A,m),n);o.current.set(m,y),d.getState().nextTree?d.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{h(d.getState(),m)}):h(d.getState(),m)}),yc(i.current,r.current).forEach(m=>{l(m)}),i.current=r.current}),jl(()=>{const d=o.current;return yc(r.current,new Set(d.keys())).forEach(m=>{const y=zl(e.current,new sg(m),C=>h(C,m),n);d.set(m,y)}),()=>d.forEach((m,y)=>l(y))},[n,e,l,h]),w5(()=>{function d(I){return L=>{Jd(e.current,I,L)}}function m(I){return()=>Jd(e.current,I,v5)}function y(I){var L;r.current.has(I.key)||(r.current=NI(r.current,I.key));const O=e.current.getState();return Yc(e.current,I,su().early&&(L=O.nextTree)!==null&&L!==void 0?L:O.currentTree)}function C(I){const L=y(I);return g0(L,I,e)}function A(I){return[C(I),d(I)]}function b(I){return[y(I),d(I)]}return{getRecoilValue:C,getRecoilValueLoadable:y,getRecoilState:A,getRecoilStateLoadable:b,getSetRecoilState:d,getResetRecoilState:m}},[r,e])}const DI={current:0};function MI(n){const e=vs(),t=Qc(),r=Wr(()=>{var h;const d=e.current,m=d.getState(),y=su().early&&(h=m.nextTree)!==null&&h!==void 0?h:m.currentTree;return{loadable:Yc(d,n,y),key:n.key}},[e,n]),i=Wr(h=>{let d;return()=>{var m,y;const C=h();return(m=d)!==null&&m!==void 0&&m.loadable.is(C.loadable)&&((y=d)===null||y===void 0?void 0:y.key)===C.key?d:(d=C,C)}},[]),o=w5(()=>i(r),[r,i]),l=Wr(h=>{const d=e.current;return zl(d,n,h,t).release},[e,n,t]);return kI(l,o,o).loadable}function VI(n){const e=vs(),t=Wr(()=>{var m;const y=e.current,C=y.getState(),A=su().early&&(m=C.nextTree)!==null&&m!==void 0?m:C.currentTree;return Yc(y,n,A)},[e,n]),r=Wr(()=>t(),[t]),i=Qc(),o=Wr((m,y)=>{const C=e.current;return zl(C,n,()=>{if(!Lt("recoil_suppress_rerender_in_callback"))return y();const b=t();d.current.is(b)||y(),d.current=b},i).release},[e,n,i,t]),l=PI();if(l==null)throw rt("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const h=bI(l,r,o),d=vc(h);return jl(()=>{d.current=h}),h}function og(n){const e=vs(),t=Qc(),r=Wr(()=>{var d;const m=e.current,y=m.getState(),C=su().early&&(d=y.nextTree)!==null&&d!==void 0?d:y.currentTree;return Yc(m,n,C)},[e,n]),i=Wr(()=>({loadable:r(),key:n.key}),[r,n.key]),o=Wr(d=>{const m=i();return d.loadable.is(m.loadable)&&d.key===m.key?d:m},[i]);jl(()=>{const d=zl(e.current,n,m=>{h(o)},t);return h(o),d.release},[t,n,e,o]);const[l,h]=m0(i);return l.key!==n.key?i().loadable:l.loadable}function FI(n){const e=vs(),[,t]=m0([]),r=Qc(),i=Wr(()=>{var h;const d=e.current,m=d.getState(),y=su().early&&(h=m.nextTree)!==null&&h!==void 0?h:m.currentTree;return Yc(d,n,y)},[e,n]),o=i(),l=vc(o);return jl(()=>{l.current=o}),jl(()=>{const h=e.current,d=h.getState(),m=zl(h,n,C=>{var A;if(!Lt("recoil_suppress_rerender_in_callback"))return t([]);const b=i();(A=l.current)!==null&&A!==void 0&&A.is(b)||t(b),l.current=b},r);if(d.nextTree)h.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{l.current=null,t([])});else{var y;if(!Lt("recoil_suppress_rerender_in_callback"))return t([]);const C=i();(y=l.current)!==null&&y!==void 0&&y.is(C)||t(C),l.current=C}return m.release},[r,i,n,e]),o}function y0(n){return Lt("recoil_memory_managament_2020")&&p0(n),{TRANSITION_SUPPORT:og,SYNC_EXTERNAL_STORE:II()?MI:og,MUTABLE_SOURCE:VI,LEGACY:FI}[su().mode](n)}function E5(n){const e=vs(),t=y0(n);return g0(t,n,e)}function Zf(n){const e=vs();return Wr(t=>{Jd(e.current,n,t)},[e,n])}function UI(n){const e=vs();return Wr(()=>{Jd(e.current,n,v5)},[e,n])}function BI(n){return[E5(n),Zf(n)]}function zI(n){return[y0(n),Zf(n)]}function jI(){const n=vs();return(e,t={})=>{RI(()=>{n.current.addTransactionMetadata(t),e.forEach((r,i)=>xI(n.current,new sg(i),r))})}}function C5(n){return Lt("recoil_memory_managament_2020")&&p0(n),og(n)}function T5(n){const e=vs(),t=C5(n);return g0(t,n,e)}function $I(n){return[T5(n),Zf(n)]}var WI={recoilComponentGetRecoilValueCount_FOR_TESTING:DI,useRecoilInterface:OI,useRecoilState:BI,useRecoilStateLoadable:zI,useRecoilValue:E5,useRecoilValueLoadable:y0,useResetRecoilState:UI,useSetRecoilState:Zf,useSetUnvalidatedAtomValues:jI,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:C5,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:T5,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:$I};function HI(n,e){const t=new Map;for(const[r,i]of n)e(i,r)&&t.set(r,i);return t}var qI=HI;function GI(n,e){const t=new Set;for(const r of n)e(r)&&t.add(r);return t}var KI=GI;function QI(...n){const e=new Map;for(let t=0;t<n.length;t++){const r=n[t].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,n[t].get(i.value))}return e}var YI=QI;const{batchUpdates:XI}=qf,{DEFAULT_VALUE:ZI,getNode:S5,nodes:JI}=Gr,{useStoreRef:_0}=Zs,{AbstractRecoilValue:eb,setRecoilValueLoadable:tb}=_s,{SUSPENSE_TIMEOUT_MS:nb}=ka,{cloneSnapshot:ef}=Yf,{useCallback:Jf,useEffect:A5,useRef:A2,useState:rb}=_e,{isSSR:R2}=Gf;function ep(n){const e=_0();A5(()=>e.current.subscribeToTransactions(n).release,[n,e])}function I2(n){const e=n.atomValues.toMap(),t=Zd(qI(e,(r,i)=>{const l=S5(i).persistence_UNSTABLE;return l!=null&&l.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return YI(n.nonvalidatedAtoms.toMap(),t)}function ib(n){ep(Jf(e=>{let t=e.getState().previousTree;const r=e.getState().currentTree;t||(t=e.getState().currentTree);const i=I2(r),o=I2(t),l=Zd(JI,d=>{var m,y,C,A;return{persistence_UNSTABLE:{type:(m=(y=d.persistence_UNSTABLE)===null||y===void 0?void 0:y.type)!==null&&m!==void 0?m:"none",backButton:(C=(A=d.persistence_UNSTABLE)===null||A===void 0?void 0:A.backButton)!==null&&C!==void 0?C:!1}}}),h=KI(r.dirtyAtoms,d=>i.has(d)||o.has(d));n({atomValues:i,previousAtomValues:o,atomInfo:l,modifiedAtoms:h,transactionMetadata:{...r.transactionMetadata}})},[n]))}function sb(n){ep(Jf(e=>{const t=ef(e,"latest"),r=ef(e,"previous");n({snapshot:t,previousSnapshot:r})},[n]))}function ob(){const n=_0(),[e,t]=rb(()=>ef(n.current)),r=_5(e),i=A2(),o=A2();if(ep(Jf(h=>t(ef(h)),[])),A5(()=>{const h=e.retain();if(i.current&&!R2){var d;window.clearTimeout(i.current),i.current=null,(d=o.current)===null||d===void 0||d.call(o),o.current=null}return()=>{window.setTimeout(h,10)}},[e]),r!==e&&!R2){if(i.current){var l;window.clearTimeout(i.current),i.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}o.current=e.retain(),i.current=window.setTimeout(()=>{var h;i.current=null,(h=o.current)===null||h===void 0||h.call(o),o.current=null},nb)}return e}function R5(n,e){var t;const r=n.getState(),i=(t=r.nextTree)!==null&&t!==void 0?t:r.currentTree,o=e.getStore_INTERNAL().getState().currentTree;XI(()=>{const l=new Set;for(const m of[i.atomValues.keys(),o.atomValues.keys()])for(const y of m){var h,d;((h=i.atomValues.get(y))===null||h===void 0?void 0:h.contents)!==((d=o.atomValues.get(y))===null||d===void 0?void 0:d.contents)&&S5(y).shouldRestoreFromSnapshots&&l.add(y)}l.forEach(m=>{tb(n,new eb(m),o.atomValues.has(m)?Kt(o.atomValues.get(m)):ZI)}),n.replaceState(m=>({...m,stateID:e.getID()}))})}function ab(){const n=_0();return Jf(e=>R5(n.current,e),[n])}var I5={useRecoilSnapshot:ob,gotoSnapshot:R5,useGotoRecoilSnapshot:ab,useRecoilTransactionObserver:sb,useTransactionObservation_DEPRECATED:ib,useTransactionSubscription_DEPRECATED:ep};const{peekNodeInfo:lb}=zo,{useStoreRef:ub}=Zs;function cb(){const n=ub();return({key:e})=>lb(n.current,n.current.getState().currentTree,e)}var hb=cb;const{reactMode:db}=qc,{RecoilRoot:fb,useStoreRef:pb}=Zs,{useMemo:mb}=_e;function gb(){db().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const n=pb().current;return mb(()=>{function e({children:t}){return _e.createElement(fb,{store_INTERNAL:n},t)}return e},[n])}var yb=gb;const{loadableWithValue:_b}=Hc,{initializeNode:vb}=zo,{DEFAULT_VALUE:wb,getNode:Eb}=Gr,{copyTreeState:Cb,getRecoilValueAsLoadable:Tb,invalidateDownstreams:Sb,writeLoadableToTreeState:Ab}=_s;function b2(n){return Eb(n.key).nodeType==="atom"}class Rb{constructor(e,t){tt(this,"_store",void 0),tt(this,"_treeState",void 0),tt(this,"_changes",void 0),tt(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!b2(r))throw rt("Reading selectors within atomicUpdate is not supported");const i=Tb(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:rt(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),tt(this,"set",(r,i)=>{if(!b2(r))throw rt("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const o=this.get(r);this._changes.set(r.key,i(o))}else vb(this._store,r.key,"set"),this._changes.set(r.key,i)}),tt(this,"reset",r=>{this.set(r,wb)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Cb(this._treeState);for(const[t,r]of this._changes)Ab(e,t,_b(r));return Sb(this._store,e),e}}function Ib(n){return e=>{n.replaceState(t=>{const r=new Rb(n,t);return e(r),r.newTreeState_INTERNAL()})}}var bb={atomicUpdater:Ib},kb=bb.atomicUpdater,b5=Object.freeze({__proto__:null,atomicUpdater:kb});function Pb(n,e){if(!n)throw new Error(e)}var xb=Pb,cc=xb;const{atomicUpdater:Nb}=b5,{batchUpdates:Lb}=qf,{DEFAULT_VALUE:Ob}=Gr,{useStoreRef:Db}=Zs,{refreshRecoilValue:Mb,setRecoilValue:k2}=_s,{cloneSnapshot:Vb}=Yf,{gotoSnapshot:Fb}=I5,{useCallback:Ub}=_e;class k5{}const Bb=new k5;function P5(n,e,t,r){let i=Bb,o;if(Lb(()=>{const h="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw rt(h);const d=j6({...r??{},set:(y,C)=>k2(n,y,C),reset:y=>k2(n,y,Ob),refresh:y=>Mb(n,y),gotoSnapshot:y=>Fb(n,y),transact_UNSTABLE:y=>Nb(n)(y)},{snapshot:()=>{const y=Vb(n);return o=y.retain(),y}}),m=e(d);if(typeof m!="function")throw rt(h);i=m(...t)}),i instanceof k5&&cc(!1),$t(i))i=i.finally(()=>{var h;(h=o)===null||h===void 0||h()});else{var l;(l=o)===null||l===void 0||l()}return i}function zb(n,e){const t=Db();return Ub((...r)=>P5(t.current,n,r),e!=null?[...e,t]:void 0)}var x5={recoilCallback:P5,useRecoilCallback:zb};const{useStoreRef:jb}=Zs,{refreshRecoilValue:$b}=_s,{useCallback:Wb}=_e;function Hb(n){const e=jb();return Wb(()=>{const t=e.current;$b(t,n)},[n,e])}var qb=Hb;const{atomicUpdater:Gb}=b5,{useStoreRef:Kb}=Zs,{useMemo:Qb}=_e;function Yb(n,e){const t=Kb();return Qb(()=>(...r)=>{Gb(t.current)(o=>{n(o)(...r)})},e!=null?[...e,t]:void 0)}var Xb=Yb;class Zb{constructor(e){tt(this,"value",void 0),this.value=e}}var Jb={WrappedValue:Zb},ek=Jb.WrappedValue,N5=Object.freeze({__proto__:null,WrappedValue:ek});const{isFastRefreshEnabled:tk}=qc;class P2 extends Error{}class nk{constructor(e){var t,r,i;tt(this,"_name",void 0),tt(this,"_numLeafs",void 0),tt(this,"_root",void 0),tt(this,"_onHit",void 0),tt(this,"_onSet",void 0),tt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(t=e==null?void 0:e.onHit)!==null&&t!==void 0?t:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,t){var r;return(r=this.getLeafNode(e,t))===null||r===void 0?void 0:r.value}getLeafNode(e,t){if(this._root==null)return;let r=this._root;for(;r;){if(t==null||t.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,t,r){const i=()=>{var o,l,h,d;let m,y;for(const[O,Y]of e){var C,A,b;const q=this._root;if((q==null?void 0:q.type)==="leaf")throw this.invalidCacheError();const Z=m;if(m=Z?Z.branches.get(y):q,m=(C=m)!==null&&C!==void 0?C:{type:"branch",nodeKey:O,parent:Z,branches:new Map,branchKey:y},m.type!=="branch"||m.nodeKey!==O)throw this.invalidCacheError();Z==null||Z.branches.set(y,m),r==null||(A=r.onNodeVisit)===null||A===void 0||A.call(r,m),y=this._mapNodeValue(Y),this._root=(b=this._root)!==null&&b!==void 0?b:m}const I=m?(o=m)===null||o===void 0?void 0:o.branches.get(y):this._root;if(I!=null&&(I.type!=="leaf"||I.branchKey!==y))throw this.invalidCacheError();const L={type:"leaf",value:t,parent:m,branchKey:y};(l=m)===null||l===void 0||l.branches.set(y,L),this._root=(h=this._root)!==null&&h!==void 0?h:L,this._numLeafs++,this._onSet(L),r==null||(d=r.onNodeVisit)===null||d===void 0||d.call(r,L)};try{i()}catch(o){if(o instanceof P2)this.clear(),i();else throw o}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var o;if(r.branches.delete(i),r===t)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(o=r)===null||o===void 0?void 0:o.branchKey,r=r.parent}for(;r!==t;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=tk()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw i0(e+(this._name!=null?` - ${this._name}`:"")),new P2}}var rk={TreeCache:nk},ik=rk.TreeCache,L5=Object.freeze({__proto__:null,TreeCache:ik});class sk{constructor(e){var t;tt(this,"_maxSize",void 0),tt(this,"_size",void 0),tt(this,"_head",void 0),tt(this,"_tail",void 0),tt(this,"_map",void 0),tt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(t=e.mapKey)!==null&&t!==void 0?t:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),r=this._map.get(t);if(r)return this.set(e,r.value),r.value}set(e,t){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const o=this.head(),l={key:e,right:o,left:null,value:t};o?o.left=l:this._tail=l,this._map.set(r,l),this._head=l,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const r=Kt(this._map.get(t)),i=r.right,o=r.left;i&&(i.left=r.left),o&&(o.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=o),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var ok={LRUCache:sk},ak=ok.LRUCache,O5=Object.freeze({__proto__:null,LRUCache:ak});const{LRUCache:lk}=O5,{TreeCache:uk}=L5;function ck({name:n,maxSize:e,mapNodeValue:t=r=>r}){const r=new lk({maxSize:e}),i=new uk({name:n,mapNodeValue:t,onHit:o=>{r.set(o,!0)},onSet:o=>{const l=r.tail();r.set(o,!0),l&&i.size()>e&&i.delete(l.key)}});return i}var x2=ck;function Ui(n,e,t){if(typeof n=="string"&&!n.includes('"')&&!n.includes("\\"))return`"${n}"`;switch(typeof n){case"undefined":return"";case"boolean":return n?"true":"false";case"number":case"symbol":return String(n);case"string":return JSON.stringify(n);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw rt("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${n.name})__`}if(n===null)return"null";if(typeof n!="object"){var r;return(r=JSON.stringify(n))!==null&&r!==void 0?r:""}if($t(n))return"__PROMISE__";if(Array.isArray(n))return`[${n.map((i,o)=>Ui(i,e,o.toString()))}]`;if(typeof n.toJSON=="function")return Ui(n.toJSON(t),e,t);if(n instanceof Map){const i={};for(const[o,l]of n)i[typeof o=="string"?o:Ui(o,e)]=l;return Ui(i,e,t)}return n instanceof Set?Ui(Array.from(n).sort((i,o)=>Ui(i,e).localeCompare(Ui(o,e))),e,t):Symbol!==void 0&&n[Symbol.iterator]!=null&&typeof n[Symbol.iterator]=="function"?Ui(Array.from(n),e,t):`{${Object.keys(n).filter(i=>n[i]!==void 0).sort().map(i=>`${Ui(i,e)}:${Ui(n[i],e,i)}`).join(",")}}`}function hk(n,e={allowFunctions:!1}){return Ui(n,e)}var tp=hk;const{TreeCache:dk}=L5,gd={equality:"reference",eviction:"keep-all",maxSize:1/0};function fk({equality:n=gd.equality,eviction:e=gd.eviction,maxSize:t=gd.maxSize}=gd,r){const i=pk(n);return mk(e,t,i,r)}function pk(n){switch(n){case"reference":return e=>e;case"value":return e=>tp(e)}throw rt(`Unrecognized equality policy ${n}`)}function mk(n,e,t,r){switch(n){case"keep-all":return new dk({name:r,mapNodeValue:t});case"lru":return x2({name:r,maxSize:Kt(e),mapNodeValue:t});case"most-recent":return x2({name:r,maxSize:1,mapNodeValue:t})}throw rt(`Unrecognized eviction policy ${n}`)}var gk=fk;function yk(n){return()=>null}var _k={startPerfBlock:yk};const{isLoadable:vk,loadableWithError:yd,loadableWithPromise:wk,loadableWithValue:p1}=Hc,{WrappedValue:D5}=N5,{getNodeLoadable:_d,peekNodeLoadable:Ek,setNodeValue:Ck}=zo,{saveDepsToStore:Tk}=Gc,{DEFAULT_VALUE:Sk,getConfigDeletionHandler:Ak,getNode:Rk,registerNode:N2}=Gr,{isRecoilValue:Ik}=Bl,{markRecoilValueModified:L2}=_s,{retainedByOptionWithDefault:bk}=ka,{recoilCallback:kk}=x5,{startPerfBlock:Pk}=_k;class M5{}const Ju=new M5,ec=[],vd=new Map,xk=(()=>{let n=0;return()=>n++})();function V5(n){let e=null;const{key:t,get:r,cachePolicy_UNSTABLE:i}=n,o=n.set!=null?n.set:void 0,l=new Set,h=gk(i??{equality:"reference",eviction:"keep-all"},t),d=bk(n.retainedBy_UNSTABLE),m=new Map;let y=0;function C(){return!Lt("recoil_memory_managament_2020")||y>0}function A(M){return M.getState().knownSelectors.add(t),y++,()=>{y--}}function b(){return Ak(t)!==void 0&&!C()}function I(M,se,le,he,pe){dt(se,he,pe),L(M,le)}function L(M,se){nt(M,se)&&D(M),Y(se,!0)}function O(M,se){nt(M,se)&&(Kt(B(M)).stateVersions.clear(),Y(se,!1))}function Y(M,se){const le=vd.get(M);if(le!=null){for(const he of le)L2(he,Kt(e));se&&vd.delete(M)}}function q(M,se){let le=vd.get(se);le==null&&vd.set(se,le=new Set),le.add(M)}function Z(M,se,le,he,pe,Pe){return se.then(ke=>{if(!C())throw D(M),Ju;const Te=p1(ke);return I(M,le,pe,Te,he),ke}).catch(ke=>{if(!C())throw D(M),Ju;if($t(ke))return ae(M,ke,le,he,pe,Pe);const Te=yd(ke);throw I(M,le,pe,Te,he),ke})}function ae(M,se,le,he,pe,Pe){return se.then(ke=>{if(!C())throw D(M),Ju;Pe.loadingDepKey!=null&&Pe.loadingDepPromise===se?le.atomValues.set(Pe.loadingDepKey,p1(ke)):M.getState().knownSelectors.forEach(Ke=>{le.atomValues.delete(Ke)});const Te=U(M,le);if(Te&&Te.state!=="loading"){if((nt(M,pe)||B(M)==null)&&L(M,pe),Te.state==="hasValue")return Te.contents;throw Te.contents}if(!nt(M,pe)){const Ke=P(M,le);if(Ke!=null)return Ke.loadingLoadable.contents}const[Ye,ft]=we(M,le,pe);if(Ye.state!=="loading"&&I(M,le,pe,Ye,ft),Ye.state==="hasError")throw Ye.contents;return Ye.contents}).catch(ke=>{if(ke instanceof M5)throw Ju;if(!C())throw D(M),Ju;const Te=yd(ke);throw I(M,le,pe,Te,he),ke})}function ve(M,se,le,he){var pe,Pe,ke,Te;if(nt(M,he)||se.version===((pe=M.getState())===null||pe===void 0||(Pe=pe.currentTree)===null||Pe===void 0?void 0:Pe.version)||se.version===((ke=M.getState())===null||ke===void 0||(Te=ke.nextTree)===null||Te===void 0?void 0:Te.version)){var Ye,ft,Ke;Tk(t,le,M,(Ye=(ft=M.getState())===null||ft===void 0||(Ke=ft.nextTree)===null||Ke===void 0?void 0:Ke.version)!==null&&Ye!==void 0?Ye:M.getState().currentTree.version)}for(const it of le)l.add(it)}function we(M,se,le){const he=Pk(t);let pe=!0,Pe=!0;const ke=()=>{he(),Pe=!1};let Te,Ye=!1,ft;const Ke={loadingDepKey:null,loadingDepPromise:null},it=new Map;function kt({key:nn}){const rn=_d(M,se,nn);switch(it.set(nn,rn),pe||(ve(M,se,new Set(it.keys()),le),O(M,le)),rn.state){case"hasValue":return rn.contents;case"hasError":throw rn.contents;case"loading":throw Ke.loadingDepKey=nn,Ke.loadingDepPromise=rn.contents,rn.contents}throw rt("Invalid Loadable state")}const Bn=nn=>(...rn)=>{if(Pe)throw rt("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&cc(!1),kk(M,nn,rn,{node:e})};try{Te=r({get:kt,getCallback:Bn}),Te=Ik(Te)?kt(Te):Te,vk(Te)&&(Te.state==="hasError"&&(Ye=!0),Te=Te.contents),$t(Te)?Te=Z(M,Te,se,it,le,Ke).finally(ke):ke(),Te=Te instanceof D5?Te.value:Te}catch(nn){Te=nn,$t(Te)?Te=ae(M,Te,se,it,le,Ke).finally(ke):(Ye=!0,ke())}return Ye?ft=yd(Te):$t(Te)?ft=wk(Te):ft=p1(Te),pe=!1,X(M,le,it),ve(M,se,new Set(it.keys()),le),[ft,it]}function U(M,se){let le=se.atomValues.get(t);if(le!=null)return le;const he=new Set;try{le=h.get(Pe=>(typeof Pe!="string"&&cc(!1),_d(M,se,Pe).contents),{onNodeVisit:Pe=>{Pe.type==="branch"&&Pe.nodeKey!==t&&he.add(Pe.nodeKey)}})}catch(Pe){throw rt(`Problem with cache lookup for selector "${t}": ${Pe.message}`)}if(le){var pe;se.atomValues.set(t,le),ve(M,se,he,(pe=B(M))===null||pe===void 0?void 0:pe.executionID)}return le}function x(M,se){const le=U(M,se);if(le!=null)return D(M),le;const he=P(M,se);if(he!=null){var pe;return((pe=he.loadingLoadable)===null||pe===void 0?void 0:pe.state)==="loading"&&q(M,he.executionID),he.loadingLoadable}const Pe=xk(),[ke,Te]=we(M,se,Pe);return ke.state==="loading"?(H(M,Pe,ke,Te,se),q(M,Pe)):(D(M),dt(se,ke,Te)),ke}function P(M,se){const le=s5([m.has(M)?[Kt(m.get(M))]:[],jf(u0(m,([pe])=>pe!==M),([,pe])=>pe)]);function he(pe){for(const[Pe,ke]of pe)if(!_d(M,se,Pe).is(ke))return!0;return!1}for(const pe of le){if(pe.stateVersions.get(se.version)||!he(pe.depValuesDiscoveredSoFarDuringAsyncWork))return pe.stateVersions.set(se.version,!0),pe;pe.stateVersions.set(se.version,!1)}}function B(M){return m.get(M)}function H(M,se,le,he,pe){m.set(M,{depValuesDiscoveredSoFarDuringAsyncWork:he,executionID:se,loadingLoadable:le,stateVersions:new Map([[pe.version,!0]])})}function X(M,se,le){if(nt(M,se)){const he=B(M);he!=null&&(he.depValuesDiscoveredSoFarDuringAsyncWork=le)}}function D(M){m.delete(M)}function nt(M,se){var le;return se===((le=B(M))===null||le===void 0?void 0:le.executionID)}function St(M){return Array.from(M.entries()).map(([se,le])=>[se,le.contents])}function dt(M,se,le){M.atomValues.set(t,se);try{h.set(St(le),se)}catch(he){throw rt(`Problem with setting cache for selector "${t}": ${he.message}`)}}function Ge(M){if(ec.includes(t)){const se=`Recoil selector has circular dependencies: ${ec.slice(ec.indexOf(t)).join(" → ")}`;return yd(rt(se))}ec.push(t);try{return M()}finally{ec.pop()}}function Ce(M,se){const le=se.atomValues.get(t);return le??h.get(he=>{var pe;return typeof he!="string"&&cc(!1),(pe=Ek(M,se,he))===null||pe===void 0?void 0:pe.contents})}function De(M,se){return Ge(()=>x(M,se))}function K(M){M.atomValues.delete(t)}function j(M,se){e==null&&cc(!1);for(const he of l){var le;const pe=Rk(he);(le=pe.clearCache)===null||le===void 0||le.call(pe,M,se)}l.clear(),K(se),h.clear(),L2(M,e)}return o!=null?e=N2({key:t,nodeType:"selector",peek:Ce,get:De,set:(se,le,he)=>{let pe=!1;const Pe=new Map;function ke({key:Ke}){if(pe)throw rt("Recoil: Async selector sets are not currently supported.");const it=_d(se,le,Ke);if(it.state==="hasValue")return it.contents;if(it.state==="loading"){const kt=`Getting value of asynchronous atom or selector "${Ke}" in a pending state while setting selector "${t}" is not yet supported.`;throw rt(kt)}else throw it.contents}function Te(Ke,it){if(pe)throw rt("Recoil: Async selector sets are not currently supported.");const kt=typeof it=="function"?it(ke(Ke)):it;Ck(se,le,Ke.key,kt).forEach((nn,rn)=>Pe.set(rn,nn))}function Ye(Ke){Te(Ke,Sk)}const ft=o({set:Te,get:ke,reset:Ye},he);if(ft!==void 0)throw $t(ft)?rt("Recoil: Async selector sets are not currently supported."):rt("Recoil: selector set should be a void function.");return pe=!0,Pe},init:A,invalidate:K,clearCache:j,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:n.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d}):e=N2({key:t,nodeType:"selector",peek:Ce,get:De,init:A,invalidate:K,clearCache:j,shouldDeleteConfigOnRelease:b,dangerouslyAllowMutability:n.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})}V5.value=n=>new D5(n);var $l=V5;const{isLoadable:Nk,loadableWithError:m1,loadableWithPromise:g1,loadableWithValue:wl}=Hc,{WrappedValue:F5}=N5,{peekNodeInfo:Lk}=zo,{DEFAULT_VALUE:da,DefaultValue:Co,getConfigDeletionHandler:U5,registerNode:Ok,setConfigDeletionHandler:Dk}=Gr,{isRecoilValue:Mk}=Bl,{getRecoilValueAsLoadable:Vk,markRecoilValueModified:Fk,setRecoilValue:O2,setRecoilValueLoadable:Uk}=_s,{retainedByOptionWithDefault:Bk}=ka,tc=n=>n instanceof F5?n.value:n;function zk(n){const{key:e,persistence_UNSTABLE:t}=n,r=Bk(n.retainedBy_UNSTABLE);let i=0;function o(q){return g1(q.then(Z=>(l=wl(Z),Z)).catch(Z=>{throw l=m1(Z),Z}))}let l=$t(n.default)?o(n.default):Nk(n.default)?n.default.state==="loading"?o(n.default.contents):n.default:wl(tc(n.default));l.contents;let h;const d=new Map;function m(q){return q}function y(q,Z){const ae=Z.then(ve=>{var we,U;return((U=((we=q.getState().nextTree)!==null&&we!==void 0?we:q.getState().currentTree).atomValues.get(e))===null||U===void 0?void 0:U.contents)===ae&&O2(q,Y,ve),ve}).catch(ve=>{var we,U;throw((U=((we=q.getState().nextTree)!==null&&we!==void 0?we:q.getState().currentTree).atomValues.get(e))===null||U===void 0?void 0:U.contents)===ae&&Uk(q,Y,m1(ve)),ve});return ae}function C(q,Z,ae){var ve;i++;const we=()=>{var B;i--,(B=d.get(q))===null||B===void 0||B.forEach(H=>H()),d.delete(q)};if(q.getState().knownAtoms.add(e),l.state==="loading"){const B=()=>{var H;((H=q.getState().nextTree)!==null&&H!==void 0?H:q.getState().currentTree).atomValues.has(e)||Fk(q,Y)};l.contents.finally(B)}const U=(ve=n.effects)!==null&&ve!==void 0?ve:n.effects_UNSTABLE;if(U!=null){let B=function(K){if(nt&&K.key===e){const j=D;return j instanceof Co?A(q,Z):$t(j)?g1(j.then(M=>M instanceof Co?l.toPromise():M)):wl(j)}return Vk(q,K)},H=function(K){return B(K).toPromise()},X=function(K){var j;const M=Lk(q,(j=q.getState().nextTree)!==null&&j!==void 0?j:q.getState().currentTree,K.key);return nt&&K.key===e&&!(D instanceof Co)?{...M,isSet:!0,loadable:B(K)}:M},D=da,nt=!0,St=!1,dt=null;const Ge=K=>j=>{if(nt){const M=B(Y),se=M.state==="hasValue"?M.contents:da;D=typeof j=="function"?j(se):j,$t(D)&&(D=D.then(le=>(dt={effect:K,value:le},le)))}else{if($t(j))throw rt("Setting atoms to async values is not implemented.");typeof j!="function"&&(dt={effect:K,value:tc(j)}),O2(q,Y,typeof j=="function"?M=>{const se=tc(j(M));return dt={effect:K,value:se},se}:tc(j))}},Ce=K=>()=>Ge(K)(da),De=K=>j=>{var M;const{release:se}=q.subscribeToTransactions(le=>{var he;let{currentTree:pe,previousTree:Pe}=le.getState();Pe||(Pe=pe);const ke=(he=pe.atomValues.get(e))!==null&&he!==void 0?he:l;if(ke.state==="hasValue"){var Te,Ye,ft,Ke;const it=ke.contents,kt=(Te=Pe.atomValues.get(e))!==null&&Te!==void 0?Te:l,Bn=kt.state==="hasValue"?kt.contents:da;((Ye=dt)===null||Ye===void 0?void 0:Ye.effect)!==K||((ft=dt)===null||ft===void 0?void 0:ft.value)!==it?j(it,Bn,!pe.atomValues.has(e)):((Ke=dt)===null||Ke===void 0?void 0:Ke.effect)===K&&(dt=null)}},e);d.set(q,[...(M=d.get(q))!==null&&M!==void 0?M:[],se])};for(const K of U)try{const j=K({node:Y,storeID:q.storeID,parentStoreID_UNSTABLE:q.parentStoreID,trigger:ae,setSelf:Ge(K),resetSelf:Ce(K),onSet:De(K),getPromise:H,getLoadable:B,getInfo_UNSTABLE:X});if(j!=null){var x;d.set(q,[...(x=d.get(q))!==null&&x!==void 0?x:[],j])}}catch(j){D=j,St=!0}if(nt=!1,!(D instanceof Co)){var P;const K=St?m1(D):$t(D)?g1(y(q,D)):wl(tc(D));K.contents,Z.atomValues.set(e,K),(P=q.getState().nextTree)===null||P===void 0||P.atomValues.set(e,K)}}return we}function A(q,Z){var ae,ve;return(ae=(ve=Z.atomValues.get(e))!==null&&ve!==void 0?ve:h)!==null&&ae!==void 0?ae:l}function b(q,Z){if(Z.atomValues.has(e))return Kt(Z.atomValues.get(e));if(Z.nonvalidatedAtoms.has(e)){if(h!=null)return h;if(t==null)return l;const ae=Z.nonvalidatedAtoms.get(e),ve=t.validator(ae,da);return h=ve instanceof Co?l:wl(ve),h}else return l}function I(){h=void 0}function L(q,Z,ae){if(Z.atomValues.has(e)){const ve=Kt(Z.atomValues.get(e));if(ve.state==="hasValue"&&ae===ve.contents)return new Map}else if(!Z.nonvalidatedAtoms.has(e)&&ae instanceof Co)return new Map;return h=void 0,new Map().set(e,wl(ae))}function O(){return U5(e)!==void 0&&i<=0}const Y=Ok({key:e,nodeType:"atom",peek:A,get:b,set:L,init:C,invalidate:I,shouldDeleteConfigOnRelease:O,dangerouslyAllowMutability:n.dangerouslyAllowMutability,persistence_UNSTABLE:n.persistence_UNSTABLE?{type:n.persistence_UNSTABLE.type,backButton:n.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return Y}function v0(n){const{...e}=n,t="default"in n?n.default:new Promise(()=>{});return Mk(t)?jk({...e,default:t}):zk({...e,default:t})}function jk(n){const e=v0({...n,default:da,persistence_UNSTABLE:n.persistence_UNSTABLE===void 0?void 0:{...n.persistence_UNSTABLE,validator:r=>r instanceof Co?r:Kt(n.persistence_UNSTABLE).validator(r,da)},effects:n.effects,effects_UNSTABLE:n.effects_UNSTABLE}),t=$l({key:`${n.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof Co?n.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:n.dangerouslyAllowMutability});return Dk(t.key,U5(n.key)),t}v0.value=n=>new F5(n);var B5=v0;class $k{constructor(e){var t;tt(this,"_map",void 0),tt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(t=e==null?void 0:e.mapKey)!==null&&t!==void 0?t:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Wk={MapCache:$k},Hk=Wk.MapCache,qk=Object.freeze({__proto__:null,MapCache:Hk});const{LRUCache:D2}=O5,{MapCache:Gk}=qk,wd={equality:"reference",eviction:"none",maxSize:1/0};function Kk({equality:n=wd.equality,eviction:e=wd.eviction,maxSize:t=wd.maxSize}=wd){const r=Qk(n);return Yk(e,t,r)}function Qk(n){switch(n){case"reference":return e=>e;case"value":return e=>tp(e)}throw rt(`Unrecognized equality policy ${n}`)}function Yk(n,e,t){switch(n){case"keep-all":return new Gk({mapKey:t});case"lru":return new D2({mapKey:t,maxSize:Kt(e)});case"most-recent":return new D2({mapKey:t,maxSize:1})}throw rt(`Unrecognized eviction policy ${n}`)}var z5=Kk;const{setConfigDeletionHandler:Xk}=Gr;function Zk(n){var e,t;const r=z5({equality:(e=(t=n.cachePolicyForParams_UNSTABLE)===null||t===void 0?void 0:t.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o,l;const h=r.get(i);if(h!=null)return h;const{cachePolicyForParams_UNSTABLE:d,...m}=n,y="default"in n?n.default:new Promise(()=>{}),C=B5({...m,key:`${n.key}__${(o=tp(i))!==null&&o!==void 0?o:"void"}`,default:typeof y=="function"?y(i):y,retainedBy_UNSTABLE:typeof n.retainedBy_UNSTABLE=="function"?n.retainedBy_UNSTABLE(i):n.retainedBy_UNSTABLE,effects:typeof n.effects=="function"?n.effects(i):typeof n.effects_UNSTABLE=="function"?n.effects_UNSTABLE(i):(l=n.effects)!==null&&l!==void 0?l:n.effects_UNSTABLE});return r.set(i,C),Xk(C.key,()=>{r.delete(i)}),C}}var Jk=Zk;const{setConfigDeletionHandler:eP}=Gr;let tP=0;function nP(n){var e,t;const r=z5({equality:(e=(t=n.cachePolicyForParams_UNSTABLE)===null||t===void 0?void 0:t.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var o;let l;try{l=r.get(i)}catch(A){throw rt(`Problem with cache lookup for selector ${n.key}: ${A.message}`)}if(l!=null)return l;const h=`${n.key}__selectorFamily/${(o=tp(i,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${tP++}`,d=A=>n.get(i)(A),m=n.cachePolicy_UNSTABLE,y=typeof n.retainedBy_UNSTABLE=="function"?n.retainedBy_UNSTABLE(i):n.retainedBy_UNSTABLE;let C;if(n.set!=null){const A=n.set;C=$l({key:h,get:d,set:(I,L)=>A(i)(I,L),cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:n.dangerouslyAllowMutability,retainedBy_UNSTABLE:y})}else C=$l({key:h,get:d,cachePolicy_UNSTABLE:m,dangerouslyAllowMutability:n.dangerouslyAllowMutability,retainedBy_UNSTABLE:y});return r.set(i,C),eP(C.key,()=>{r.delete(i)}),C}}var jo=nP;const rP=jo({key:"__constant",get:n=>()=>n,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function iP(n){return rP(n)}var sP=iP;const oP=jo({key:"__error",get:n=>()=>{throw rt(n)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function aP(n){return oP(n)}var lP=aP;function uP(n){return n}var cP=uP;const{loadableWithError:j5,loadableWithPromise:$5,loadableWithValue:W5}=Hc;function np(n,e){const t=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,o]of e.entries())try{t[i]=n(o)}catch(l){r[i]=l}return[t,r]}function hP(n){return n!=null&&!$t(n)}function rp(n){return Array.isArray(n)?n:Object.getOwnPropertyNames(n).map(e=>n[e])}function ag(n,e){return Array.isArray(n)?e:Object.getOwnPropertyNames(n).reduce((t,r,i)=>({...t,[r]:e[i]}),{})}function Pl(n,e,t){const r=t.map((i,o)=>i==null?W5(e[o]):$t(i)?$5(i):j5(i));return ag(n,r)}function dP(n,e){return e.map((t,r)=>t===void 0?n[r]:t)}const fP=jo({key:"__waitForNone",get:n=>({get:e})=>{const t=rp(n),[r,i]=np(e,t);return Pl(n,r,i)},dangerouslyAllowMutability:!0}),pP=jo({key:"__waitForAny",get:n=>({get:e})=>{const t=rp(n),[r,i]=np(e,t);return i.some(o=>!$t(o))?Pl(n,r,i):new Promise(o=>{for(const[l,h]of i.entries())$t(h)&&h.then(d=>{r[l]=d,i[l]=void 0,o(Pl(n,r,i))}).catch(d=>{i[l]=d,o(Pl(n,r,i))})})},dangerouslyAllowMutability:!0}),mP=jo({key:"__waitForAll",get:n=>({get:e})=>{const t=rp(n),[r,i]=np(e,t);if(i.every(l=>l==null))return ag(n,r);const o=i.find(hP);if(o!=null)throw o;return Promise.all(i).then(l=>ag(n,dP(r,l)))},dangerouslyAllowMutability:!0}),gP=jo({key:"__waitForAllSettled",get:n=>({get:e})=>{const t=rp(n),[r,i]=np(e,t);return i.every(o=>!$t(o))?Pl(n,r,i):Promise.all(i.map((o,l)=>$t(o)?o.then(h=>{r[l]=h,i[l]=void 0}).catch(h=>{r[l]=void 0,i[l]=h}):null)).then(()=>Pl(n,r,i))},dangerouslyAllowMutability:!0}),yP=jo({key:"__noWait",get:n=>({get:e})=>{try{return $l.value(W5(e(n)))}catch(t){return $l.value($t(t)?$5(t):j5(t))}},dangerouslyAllowMutability:!0});var _P={waitForNone:fP,waitForAny:pP,waitForAll:mP,waitForAllSettled:gP,noWait:yP};const{RecoilLoadable:vP}=Hc,{DefaultValue:wP}=Gr,{RecoilRoot:EP,useRecoilStoreID:CP}=Zs,{isRecoilValue:TP}=Bl,{retentionZone:SP}=Wf,{freshSnapshot:AP}=Yf,{useRecoilState:RP,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:IP,useRecoilStateLoadable:bP,useRecoilValue:kP,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:PP,useRecoilValueLoadable:xP,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:NP,useResetRecoilState:LP,useSetRecoilState:OP}=WI,{useGotoRecoilSnapshot:DP,useRecoilSnapshot:MP,useRecoilTransactionObserver:VP}=I5,{useRecoilCallback:FP}=x5,{noWait:UP,waitForAll:BP,waitForAllSettled:zP,waitForAny:jP,waitForNone:$P}=_P;var Xc={DefaultValue:wP,isRecoilValue:TP,RecoilLoadable:vP,RecoilEnv:iu,RecoilRoot:EP,useRecoilStoreID:CP,useRecoilBridgeAcrossReactRoots_UNSTABLE:yb,atom:B5,selector:$l,atomFamily:Jk,selectorFamily:jo,constSelector:sP,errorSelector:lP,readOnlySelector:cP,noWait:UP,waitForNone:$P,waitForAny:jP,waitForAll:BP,waitForAllSettled:zP,useRecoilValue:kP,useRecoilValueLoadable:xP,useRecoilState:RP,useRecoilStateLoadable:bP,useSetRecoilState:OP,useResetRecoilState:LP,useGetRecoilValueInfo_UNSTABLE:hb,useRecoilRefresher_UNSTABLE:qb,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:NP,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:PP,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:IP,useRecoilCallback:FP,useRecoilTransaction_UNSTABLE:Xb,useGotoRecoilSnapshot:DP,useRecoilSnapshot:MP,useRecoilTransactionObserver_UNSTABLE:VP,snapshot_UNSTABLE:AP,useRetain:p0,retentionZone:SP},WP=Xc.RecoilRoot,ou=Xc.atom,w0=Xc.useRecoilValue,Zc=Xc.useRecoilState,ip=Xc.useSetRecoilState,nc={},M2;function HP(){if(M2)return nc;M2=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.recoilPersist=void 0;const n=(e={})=>{if(typeof window>"u")return{persistAtom:()=>{}};const{key:t="recoil-persist",storage:r=localStorage,converter:i=JSON}=e,o=({onSet:y,node:C,trigger:A,setSelf:b})=>{if(A==="get"){const I=h();typeof I.then=="function"&&I.then(L=>{L.hasOwnProperty(C.key)&&b(L[C.key])}),I.hasOwnProperty(C.key)&&b(I[C.key])}y(async(I,L,O)=>{const Y=h();typeof Y.then=="function"?Y.then(q=>l(I,q,C.key,O)):l(I,Y,C.key,O)})},l=(y,C,A,b)=>{b?delete C[A]:C[A]=y,m(C)},h=()=>{const y=r.getItem(t);return y==null?{}:typeof y=="string"?d(y):typeof y.then=="function"?y.then(d):{}},d=y=>{if(y===void 0)return{};try{return i.parse(y)}catch(C){return console.error(C),{}}},m=y=>{try{typeof r.mergeItem=="function"?r.mergeItem(t,i.stringify(y)):r.setItem(t,i.stringify(y))}catch(C){console.error(C)}};return{persistAtom:o}};return nc.recoilPersist=n,nc}var qP=HP();const GP="/assets/10-CJkNpnv_.jpg",KP="/assets/3-VwLwkZvJ.jpg",QP="/assets/4-DuCtTWs-.jpg",YP="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSEhUSEhIWFRUWGBMVFRYVFRcVFhYWGBIXFxYYFRcZHCggGBolHRgVITEhJSkrLi4uFx8zODMsNygtLisBCgoKDg0OGBAQGCsdHx8tLS0rLSstLSstLS0tLSs3LS0tLSstNy0tLSstKys3Ny03Nzc3Ky0tKysrLSsrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAAAgEDBAYHBQj/xABBEAACAQIDBQMJBAgGAwAAAAAAAQIDEQQhMQUGEkFRB2FxEyIyUmKBkaHwQrHB0RQzcpKisuHxI1RzgrPCFRdT/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAeEQEBAAICAwEBAAAAAAAAAAAAAQIREiEDMVFBYf/aAAwDAQACEQMRAD8A7iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGegEgUAFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIy0ArcFkGeTXFfABpkAAAAAAAAAAAAAAAAAAAApcCoAAAAAUlK2bKmJtWjx0asPWp1I/GDQDDbUo1MqdanPujOMn8mZZ8bbJxcoVKbUmrTho7aSVz7Hpu6T7kayx0kqRGehIjPQxVWgAYdV8AHRyAAAAAAAAAAAAAAAjKSSu3ZdWBW5h47atGim6tWELK74pJO3hqcr383+m8RKhhK6UKVuKVN5yk1nn0WmRr2w9qUKedWUnOo3KrWlFVajSeVOldNRv6z6nWeK2bYufem+4/ft1p8GGuoq8nJZycVlpbm3ovisyWz94cR6Tk1nFcLXlLLm5WaXi7pKzzbyNT2hi8DioqUJQoV5N8KUZKFkslWbSSk/WStnmeFWxvGmqzzi7tRf62Wi85ZRil09x04TWk27lsHb8MReLSjNXyveM4p246b+1H5rme0fMdbenF05xdKSioSjKKjZRhwppRhFcnd363zud73J3np7Qw6rRXDOL4asPUna9vBqzT6M4546blbBKVszkm9PbEqVWVLCQjNRdnUndpta8KTWXeXu13flUqcsJQmuKSarST0XqJ9XzPn2tWbYk13TbuuyO2d3tXowkutNuLXuldP4o2F9rGBnGStUUnF2TjF3bWWakfMqmZODqPivfQsmNTt6GG2TN1YU1nKU4xXC75uSy+Z9f0IWjFdEl8EfK26m1vI42hUdnGNWLknms5JX8UvuPqyLyHk/DFUjPQkRnocq0tAAw6r4AOjkAAAAAAAAAAAAW8RWjCLnNqMYpuTeSSWrYE2cV7Ud8Z4nymFwztTi+GUuJx8o07O7X2F0526F3fztNq1ISo4KLpxk5RlXbz4bfZVvNvmc0ws5LJu65PPJ55Nt3ejO2GH1zyy+MWhgnDOMrvnlr1T521+Rcq1ZWyur9eoxdaakrQ4r5Wjrct1cZwvhzjJap2fzWTOvUY7RljalO3Go36J5rxMatjXO6vbuLVWcVnln7/7B0k19XM7rUixTd5WTf5Hv7E3hxeCcnh60oqatNK2a8HzzdnqeXG0Uu7Qtzqt+Hf+RNddtG1sTKq3PVPXqnzv+Z5jZ6MX/fn7/wAkUnQhLVWfWOa98fyMZY2rHnXM3Z0c2yv/AI7P9bD+K/wsZVoxjwxz9aTyv4IY43ZahTeaPrHc/aP6RgsPW5ypxv8AtJcMvmmfJsHmfSPYxUb2ZTTfozrJeHG3+PzGfojeiM9CRSSONaWQV4X0BjVb2vAA6MAAAAAAAAAB5229tUcJT8rXmoR0XNyfSK1bAy8XioUoSqVJKMYq8pN2SRxTtL7SXiG8Hgr+Ty8tVcXefPginourZg7+b+1MbUVOEODCxeTb86pLlKSWiXTvNPxk+aaVtb6WO+Hj/a53JP8ASFKN+vxTMaOKjJuL1jya0XXw7y1TlL2HppL5+JceIVuFRaus0leU7dWtV3HXbEidTGqzUXw9ZLV91+ngec2pZNLus7kpYeLXm5eAVOMVkknn4tvxfcS7akW6dBJ3+F87eF9BJ9CtSXIt35InSoSXfe5ba+uf9S82W2ZVFfX1yKplGrd5Ti+vrQguKo/rP3ope5G5VFFykjtvYNtW6r4Zv1asf5Z/9TiUToPYxiHHaVNcpRqRf7jf4ImU6I+igAcGwAAAAAAAAAAAW69eMIuU5KMVq5NJL3s53vf2k04RdPCSvLO9W3mrL7CfpO3PTxNY43L0lumz7z734fBK03xVGsqcc5eMvVXicI3w29WxdeVWrJxT/VJ+dTprnG3K/UtYvG8cnJtuTcrtu8pPm2zDnX/serHxTGf1zuW2Kqs0/Og/2oXnF/DQuylBrzv695YnTj9lW7k2k/dcxqsGruOvNcn/AFLdxNL1elCyjFKKWcVHL3t6t+JhPDSbs5Oy5q1/DPR94pQnrdJNrLWS+WRflIx1WkW0sr9X15lmbuSl9P8AMh46loi2RkXGiLILSK2JOIaIqBFxM/ZuzK2Jn5OhSlUl0itF1k9F7zZ6fZjj2ruNKPc6mfyTRLYNJiiaNkxW4W0Kazw7kl6koyfwvc8mexsRF8MsPWT6eTn+Q3BiI3jsiT/8jSkldQU5S7lwNX+Zjbv9neLxDTqR8hT5yn6Vu6Gvxsde3a3coYGnwUY5v05yznN976dyyM5VZG+ReQZjbOleCv3oyZHFpDjKFABeAAAXIzlZXeXic23r7TFDip4NKTWXlJej/sXPxZrHG5ekt06HjcbTox46s4wiucmor5mgbw9qVKF4YWPlH/8ASV1BZN5LWWS7tTlG09sVq8uOtVlUl1bvbzG8los38jClPl4/8WX4nfHwye2Lm9jbO8GIxUuKtVlLmo3tFf4beUVks2eTV559f+NFpy+d/nT/AKFOK/v/ABp/0OvU9Mo1lr/u/liy3UbV+6/J8rW+8uXv77fOn/TqQbXx/GH5oCxKp+PydiKqouVLP6vrH46otzpvW3fn7nrqRVJVlrf61LTyu+pN03+H13ZkLfh/L0ZlVM+hEm455/XiRvkBC/eLhilTlJqMU5Sk7JJNtt6JJGRFvmbpuVuDUxdq2IvSwyzu8p1F7F9I+18D3d2dxqWEgsZtOUVw2caLzSfLjt6cukEYu9m+dTFXp006VDTh+1Ne3bSPsr3mMs/jUjJ2pvhTw0f0bZdKEIRyda1037C+3+28uiZPcOptCviVVnXqSoq/lOP0JXTsoq1r3toXtzdy1UjGviF5rs4U+q5OXd3HRacYU42VoRiu5JJHNpcsV4TRto9oF3KOEp8UY5cck/O74rp3sv7A3rrVJqNeEY30smnl79CK3NIs18bCE4Qk/Onokru3XwJwndXPNxUJeW4lH7KXG9Evq4G70LcKtp3E5Hmbu1YyoqUZcSblZ9c7XXVZanpyIi0AALwAA0nta2w6GBlTg2p1rQVuUbrju+V1l7z5+eLadpHe+1TZMqtKFWCvwcUZL2ZWz+K+Zw7adGUYuFvNvez1i+sea70dMM+LNm2N+lJ65k4VF93Pore/I8rhsSjJo782NPUi1l7ufTT7yqilbutz6aHmqqyaxDLyNM9W6LK3jl/ccSMDy5TyzLyNM6Ui3KRiOqyDqE5GmU5Is1Hn8O/k17ix5TPUz8FsbE12lRw9Wo+XDTlb961jNyXTE4/r3LQhJ8+hvWyOyvG1GnXdPDxyvxS458vsQy+LR0DYfZ/gcNaXB5eos+Ormk/ZhovmYucWRyXdfcvFY6V4Q8nSvnWmmo29hazfhl3m+05bP2MnGiv0jFWzk2m0/alpTXcszolVXi1orNZZWVrZW0OA78YWOCryoUp8WSld5uN75S6v8znlltrS/t3btXEz460729GKyhBdIr8dWePKseFUqSerZDjl1ZnavoLcreiliaMad1GrCKThpdJW4o9V9x720KXlKc4esmn7+p80YLE1VJOPFxJ3Tim2n3WN5w2822aqSp06rtbOOHs3bq5KwG6Ut3qydo8EV11MqGHwmC/xMTXhxe01fwjFZvwSNRpbF3gxWU3KlF+vUjT+UFc9PZ/YzVm+LFYrN6qnFtvxlLMDI2j2pYWGVGE6r5X8yPzz+R5mE21j9pS4IxcKTeagrJr2pvNm/bE7MMDh7NUuOXWfnG44XZ8KatCKilySsQYuwMHKnShB/ZSXwPVkEhIC0AALwAAhVpqScZK6as09Gjlu/G4zXFUow4oatJXlHxXNd51GrV4UarvFtyUU+HIDieycTDC1GqtCnXoyfn05wi2n1g36L7tDf9m7vbHxsOOlQj7UYznCce6UeLI1LeKtCq+Kcc73usn77amqvEypTU6c5QktJRbjJe9ci7o6zPsw2c9FWj4Vb/emY9Tsmwb9GvXj48D/AOprGxO1GvTtHERjWXrZQn8UuGXwRuWA7RsFUXnynSftxuv3o3ReVNR5z7IsN/m637sCcOyPCLXE134KmvwNswu38LUV4YilK/SaM6OJg9Jx/eRedTUanS7LdnR9Ly8/Gpb+VI9DDbhbMhphIy/1Jzn97Pe8quq+KIyxEVrKK96HKrqI4TZ2Hoq1LDUaf7NOK+djLdRvmeRit4MLT9PEU1/uTfwRr21O03A0dJTqPRcMeFfGVsibG6kK1WMVxSkopatuy+LOcT32x+K83A4N56S4XU/iaUF8y7g+zraeMfHj8QoL1bupJLoo5QiTY9Lb+/VKCcMN/jVNE16EX3v7XgjndLczGYyo6kou825SlLVt8zuO7+4eEwi82HFLnOfnSf5e42SnhorRIg4psnsgTs60m+5ZG4bM7NcHTs/JRk+slf7zf1BFbAeLg936NP0acV4RSPRp4RLkZQAtKiiagiQApYqAADAAjwFCYAAAC1WpXPC2nsPyiaNiAHJ9r9ns534GaljuzPGfZipe+x9CWFgPmOt2a7R5Ye/hJFj/ANa7T/ysv3or8T6jsLAfM2G7MNraKgl41IHoUeyfa8sm6MF/qu/8MT6KAHDcJ2O7Q+3jKMfCNSb+9Hq0OxVv9dtCo+6nTUf5pSOugDnmA7H8BC3HKvV/aqcN/dBI2PZ25WAoZ08JST9Zx4pfGV2bAAIU6SirRSS6JWJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKOS6lSlgKca6okUsVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z",XP="/assets/img2-vhJBc6Sm.jpg",ZP="/assets/img3-03Gu9Bso.jpg",JP="/assets/img4-BiClbRoS.jpg",ex="/assets/img5-B3m9ZwDj.jpg",tx="/assets/img6-CjGd8aIo.png",E0=[{id:"1",title:"High-Performance Sports Shoes",price:250,features:["Durable and lightweight","Enhanced grip for better control","Available in multiple sizes"],color:"#2196f3",image:YP},{id:"2",title:"Premium Sportswear Set",price:850,features:["Breathable fabric for comfort","Includes jersey, shorts, and socks","Moisture-wicking technology"],color:"#3498db",image:XP},{id:"3",title:"Professional Training Kit",price:4e3,features:["Full set of training cones, hurdles, and resistance bands","Ideal for speed and agility training","Used by professional athletes"],color:"#1f4568",image:ZP},{id:"4",title:"Sports Hydration Pack",price:850,features:["BPA-free durable water bottle","Includes energy drink sachets","Compact and easy to carry"],color:"#2196f3",image:JP},{id:"5",title:"Advanced Protective Gear Set",price:4e3,features:["Includes shin guards, gloves, and ankle supports","Lightweight and impact-resistant","Designed for maximum protection"],color:"#3498db",image:ex},{id:"6",title:"Elite Football Kit Bundle",price:1e4,features:["Complete set: boots, jersey, gloves, and accessories","Customizable with name and number","Designed for professional performance"],color:"#1f4568",image:tx}],nx=[{id:1,question:"What types of sports accessories do you offer?",answer:"We offer a wide range of sports accessories, including football boots, jerseys, gloves, shin guards, training equipment, and more. Our collection covers various sports, ensuring you find what you need."},{id:2,question:"How can I place an order?",answer:"Placing an order is simple! Browse our catalog, add your desired items to the cart, and proceed to checkout. We offer secure payment options for a seamless shopping experience."},{id:3,question:"Do you offer international shipping?",answer:"Yes, we ship worldwide! Shipping rates and delivery times vary depending on your location. You can check estimated delivery details at checkout."},{id:4,question:"Can I return or exchange a product?",answer:"Yes! We have a hassle-free return and exchange policy. If you're not satisfied with your purchase, you can return it within 14 days, provided it is unused and in its original packaging."},{id:5,question:"Do you offer discounts or promotions?",answer:"Absolutely! We frequently run promotions and discounts. Sign up for our newsletter or follow us on social media to stay updated on the latest deals."},{id:6,question:"How can I track my order?",answer:"Once your order is shipped, you will receive a tracking number via email. You can use it to track your package on our website or the courier's tracking page."},{id:7,question:"What payment methods do you accept?",answer:"We accept various payment methods, including credit/debit cards, PayPal, and mobile payment options, ensuring a secure and convenient checkout process."}],rx=[{emoji:"🛍️",title:"Wide Selection"},{emoji:"🚚",title:"Fast Shipping"},{emoji:"💳",title:"Secure Payments"},{emoji:"🔄",title:"Easy Returns"}],y1=[{id:1,img:GP,title:"Shop Premium Football Boots and Gear",link:"/store"},{id:2,img:KP,title:"Get the Latest Jerseys and Sportswear",link:"/store"},{id:3,img:QP,title:"Upgrade Your Game with Pro Training Equipment",link:"/store"}],ix=[{id:1,name:"James Smith",title:"Football Enthusiast",description:"I bought a pair of football boots, and they exceeded my expectations. Great quality and fast delivery!"},{id:2,name:"Tommy Lee",title:"Athlete",description:"The training gear I purchased is top-notch. It has really improved my performance on the field!"},{id:3,name:"Alicia Brown",title:"Fitness Coach",description:"The sports accessories here are high quality and durable. Highly recommend this store!"},{id:4,name:"Mark Johnson",title:"Casual Player",description:"Bought a jersey, and I love it! The fabric is breathable and comfortable."},{id:5,name:"Sarah Jane",title:"Sports Lover",description:"Amazing customer service! They helped me choose the right gear, and I couldn’t be happier with my purchase."}],{persistAtom:sp}=qP.recoilPersist(),au=ou({key:"userState",default:null,effects_UNSTABLE:[sp]});ou({key:"postsState",default:null,effects_UNSTABLE:[sp]});ou({key:"themeState",default:"light"});const lu=ou({key:"notificationState",default:{isVisible:!1,type:null,message:null}}),sx=ou({key:"dataState",default:E0[0],effects_UNSTABLE:[sp]});ou({key:"planState",default:{type:"1X2",timeSlot:"Morning (12AM-6AM)",price:5},effects_UNSTABLE:[sp]});var V2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=function(n,e){if(!n)throw uu(e)},uu=function(n){return new Error("Firebase Database ("+H5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ox=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,h=l?n[i+1]:0,d=i+2<n.length,m=d?n[i+2]:0,y=o>>2,C=(o&3)<<4|h>>4;let A=(h&15)<<2|m>>6,b=m&63;d||(b=64,l||(A=64)),r.push(t[y],t[C],t[A],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ox(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const C=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||m==null||C==null)throw new ax;const A=o<<2|h>>4;if(r.push(A),m!==64){const b=h<<4&240|m>>2;if(r.push(b),C!==64){const I=m<<6&192|C;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G5=function(n){const e=q5(n);return C0.encodeByteArray(e,!0)},tf=function(n){return G5(n).replace(/\./g,"")},nf=function(n){try{return C0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){return K5(void 0,n)}function K5(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!ux(t)||(n[t]=K5(n[t],e[t]));return n}function ux(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=()=>cx().__FIREBASE_DEFAULTS__,dx=()=>{if(typeof process>"u"||typeof V2>"u")return;const n=V2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nf(n[1]);return e&&JSON.parse(e)},op=()=>{try{return hx()||dx()||fx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q5=n=>{var e,t;return(t=(e=op())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Y5=n=>{const e=Q5(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},X5=()=>{var n;return(n=op())===null||n===void 0?void 0:n.config},Z5=n=>{var e;return(e=op())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tf(JSON.stringify(t)),tf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function px(){var n;const e=(n=op())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yx(){const n=pr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _x(){return H5.NODE_ADMIN===!0}function vx(){return!px()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ex(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="FirebaseError";class ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Cx,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Tx(o,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new ws(i,h,r)}}function Tx(n,e){return n.replace(Sx,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Sx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){return JSON.parse(n)}function Jn(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=Pc(nf(o[0])||""),t=Pc(nf(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},Ax=function(n){const e=tw(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Rx=function(n){const e=tw(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Wl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function lg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rf(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function sf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(F2(o)&&F2(l)){if(!sf(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function F2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function dc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let C=0;C<16;C++)r[C]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let C=0;C<16;C++)r[C]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let C=16;C<80;C++){const A=r[C-3]^r[C-8]^r[C-14]^r[C-16];r[C]=(A<<1|A>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,y;for(let C=0;C<80;C++){C<40?C<20?(m=h^o&(l^h),y=1518500249):(m=o^l^h,y=1859775393):C<60?(m=o&l|h&(o|l),y=2400959708):(m=o^l^h,y=3395469782);const A=(i<<5|i>>>27)+m+d+y+r[C]&4294967295;d=h,h=l,l=(o<<30|o>>>2)&4294967295,o=i,i=A}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let l=this.inbuf_;for(;i<t;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(o[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}else for(;i<t;)if(o[l]=e[i],++l,++i,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function bx(n,e){const t=new kx(n,e);return t.subscribe.bind(t)}class kx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Px(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_1),i.error===void 0&&(i.error=_1),i.complete===void 0&&(i.complete=_1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Px(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _1(){}function xx(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,be(r<n.length,"Surrogate pair missing trail surrogate.");const l=n.charCodeAt(r)-56320;i=65536+(o<<10)+l}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ap=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n){return n&&n._delegate?n._delegate:n}class Gs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new T0;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dx(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(n){return n===ca?void 0:n}function Dx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const Vx={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Fx=at.INFO,Ux={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Bx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Ux[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=Fx,this._logHandler=Bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const zx=(n,e)=>e.some(t=>n instanceof t);let U2,B2;function jx(){return U2||(U2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $x(){return B2||(B2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nw=new WeakMap,ug=new WeakMap,rw=new WeakMap,v1=new WeakMap,A0=new WeakMap;function Wx(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(bo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&nw.set(t,n)}).catch(()=>{}),A0.set(e,n),e}function Hx(n){if(ug.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ug.set(n,e)}let cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||rw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qx(n){cg=n(cg)}function Gx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(w1(this),e,...t);return rw.set(r,e.sort?e.sort():[e]),bo(r)}:$x().includes(n)?function(...e){return n.apply(w1(this),e),bo(nw.get(this))}:function(...e){return bo(n.apply(w1(this),e))}}function Kx(n){return typeof n=="function"?Gx(n):(n instanceof IDBTransaction&&Hx(n),zx(n,jx())?new Proxy(n,cg):n)}function bo(n){if(n instanceof IDBRequest)return Wx(n);if(v1.has(n))return v1.get(n);const e=Kx(n);return e!==n&&(v1.set(n,e),A0.set(e,n)),e}const w1=n=>A0.get(n);function Qx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),h=bo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(bo(l.result),d.oldVersion,d.newVersion,bo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Yx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],E1=new Map;function z2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(E1.get(e))return E1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Xx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yx.includes(t)))return;const o=async function(l,...h){const d=this.transaction(l,i?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),i&&d.done]))[0]};return E1.set(e,o),o}qx(n=>({...n,get:(e,t,r)=>z2(e,t)||n.get(e,t,r),has:(e,t)=>!!z2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Jx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",j2="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new lp("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",rN="@firebase/app-check-compat",iN="@firebase/app-check",sN="@firebase/auth",oN="@firebase/auth-compat",aN="@firebase/database",lN="@firebase/data-connect",uN="@firebase/database-compat",cN="@firebase/functions",hN="@firebase/functions-compat",dN="@firebase/installations",fN="@firebase/installations-compat",pN="@firebase/messaging",mN="@firebase/messaging-compat",gN="@firebase/performance",yN="@firebase/performance-compat",_N="@firebase/remote-config",vN="@firebase/remote-config-compat",wN="@firebase/storage",EN="@firebase/storage-compat",CN="@firebase/firestore",TN="@firebase/vertexai",SN="@firebase/firestore-compat",AN="firebase",RN="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",IN={[hg]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[iN]:"fire-app-check",[rN]:"fire-app-check-compat",[sN]:"fire-auth",[oN]:"fire-auth-compat",[aN]:"fire-rtdb",[lN]:"fire-data-connect",[uN]:"fire-rtdb-compat",[cN]:"fire-fn",[hN]:"fire-fn-compat",[dN]:"fire-iid",[fN]:"fire-iid-compat",[pN]:"fire-fcm",[mN]:"fire-fcm-compat",[gN]:"fire-perf",[yN]:"fire-perf-compat",[_N]:"fire-rc",[vN]:"fire-rc-compat",[wN]:"fire-gcs",[EN]:"fire-gcs-compat",[CN]:"fire-fst",[SN]:"fire-fst-compat",[TN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,bN=new Map,fg=new Map;function $2(n,e){try{n.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(fg.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,n);for(const t of of.values())$2(t,n);for(const t of bN.values())$2(t,n);return!0}function up(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ss(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new Jc("app","Firebase",kN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=RN;function iw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(t||(t=X5()),!t)throw ko.create("no-options");const o=of.get(i);if(o){if(sf(t,o.options)&&sf(r,o.config))return o;throw ko.create("duplicate-app",{appName:i})}const l=new Mx(i);for(const d of fg.values())l.addComponent(d);const h=new PN(t,r,l);return of.set(i,h),h}function R0(n=dg){const e=of.get(n);if(!e&&n===dg&&X5())return iw();if(!e)throw ko.create("no-app",{appName:n});return e}function Ti(n,e,t){var r;let i=(r=IN[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(h.join(" "));return}Oo(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebase-heartbeat-database",NN=1,xc="firebase-heartbeat-store";let C1=null;function sw(){return C1||(C1=Qx(xN,NN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ko.create("idb-open",{originalErrorMessage:n.message})})),C1}async function LN(n){try{const t=(await sw()).transaction(xc),r=await t.objectStore(xc).get(ow(n));return await t.done,r}catch(e){if(e instanceof ws)Ks.warn(e.message);else{const t=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(t.message)}}}async function W2(n,e){try{const r=(await sw()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,ow(n)),await r.done}catch(t){if(t instanceof ws)Ks.warn(t.message);else{const r=ko.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ks.warn(r.message)}}}function ow(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1024,DN=30*24*60*60*1e3;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=H2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const h=new Date(l.date).valueOf();return Date.now()-h<=DN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H2(),{heartbeatsToSend:r,unsentEntries:i}=VN(this._heartbeatsCache.heartbeats),o=tf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ks.warn(t),""}}}function H2(){return new Date().toISOString().substring(0,10)}function VN(n,e=ON){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),q2(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class FN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wx()?Ex().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q2(n){return tf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){Oo(new Gs("platform-logger",e=>new Zx(e),"PRIVATE")),Oo(new Gs("heartbeat",e=>new MN(e),"PRIVATE")),Ti(hg,j2,n),Ti(hg,j2,"esm2017"),Ti("fire-js","")}UN("");function I0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=aw,lw=new Jc("auth","Firebase",aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new lp("@firebase/auth");function zN(n,...e){af.logLevel<=at.WARN&&af.warn(`Auth (${$o}): ${n}`,...e)}function Fd(n,...e){af.logLevel<=at.ERROR&&af.error(`Auth (${$o}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(n,...e){throw b0(n,...e)}function us(n,...e){return b0(n,...e)}function uw(n,e,t){const r=Object.assign(Object.assign({},BN()),{[e]:t});return new Jc("auth","Firebase",r).create(e,{appName:n.name})}function Hs(n){return uw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lw.create(n,...e)}function qe(n,e,...t){if(!n)throw b0(e,...t)}function Bs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fd(e),new Error(e)}function Qs(n,e){n||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jN(){return G2()==="http:"||G2()==="https:"}function G2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||gx()||"connection"in navigator)?navigator.onLine:!0}function WN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qs(t>e,"Short delay should be less than long delay!"),this.isMobile=S0()||ew()}get(){return $N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e){Qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new eh(3e4,6e4);function Wo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ho(n,e,t,r,i={}){return hw(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const h=cu(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:d},o);return mx()||(m.referrerPolicy="no-referrer"),cw.fetch()(dw(n,n.config.apiHost,t,h),m)})}async function hw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HN),e);try{const i=new KN(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ed(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ed(n,"user-disabled",l);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw uw(n,y,m);qi(n,y)}}catch(i){if(i instanceof ws)throw i;qi(n,"network-request-failed",{message:String(i)})}}async function th(n,e,t,r,i={}){const o=await Ho(n,e,t,r,i);return"mfaPendingCredential"in o&&qi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function dw(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?k0(n.config,i):`${n.config.apiScheme}://${i}`}function GN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(us(this.auth,"network-request-failed")),qN.get())})}}function Ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=us(n,e,r);return i.customData._tokenResponse=t,i}function K2(n){return n!==void 0&&n.enterprise!==void 0}class QN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YN(n,e){return Ho(n,"GET","/v2/recaptchaConfig",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,e){return Ho(n,"POST","/v1/accounts:delete",e)}async function fw(n,e){return Ho(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZN(n,e=!1){const t=mr(n),r=await t.getIdToken(e),i=P0(r);qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wc(T1(i.auth_time)),issuedAtTime:wc(T1(i.iat)),expirationTime:wc(T1(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function T1(n){return Number(n)*1e3}function P0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=nf(t);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q2(n){const e=P0(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ws&&JN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function JN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Nc(n,fw(t,{idToken:r}));qe(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pw(o.providerUserInfo):[],h=nL(n.providerData,l),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=d?m:!1,C={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,C)}async function tL(n){const e=mr(n);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pw(n){return n.map(e=>{var{providerId:t}=e,r=I0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(n,e){const t=await hw(n,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=dw(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",cw.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iL(n,e){return Ho(n,"POST","/v2/accounts:revokeToken",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Q2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await rL(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new xl;return r&&(qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=I0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZN(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Nc(this,XN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,h,d,m,y;const C=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(i=t.email)!==null&&i!==void 0?i:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,Y=(m=t.createdAt)!==null&&m!==void 0?m:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:ae,isAnonymous:ve,providerData:we,stsTokenManager:U}=t;qe(Z&&U,e,"internal-error");const x=xl.fromJSON(this.name,U);qe(typeof Z=="string",e,"internal-error"),Eo(C,e.name),Eo(A,e.name),qe(typeof ae=="boolean",e,"internal-error"),qe(typeof ve=="boolean",e,"internal-error"),Eo(b,e.name),Eo(I,e.name),Eo(L,e.name),Eo(O,e.name),Eo(Y,e.name),Eo(q,e.name);const P=new zs({uid:Z,auth:e,email:A,emailVerified:ae,displayName:C,isAnonymous:ve,photoURL:I,phoneNumber:b,tenantId:L,stsTokenManager:x,createdAt:Y,lastLoginAt:q});return we&&Array.isArray(we)&&(P.providerData=we.map(B=>Object.assign({},B))),O&&(P._redirectEventId=O),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new xl;i.updateFromServerResponse(t);const o=new zs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pw(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new xl;h.updateFromIdToken(r);const d=new zs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Map;function js(n){Qs(n instanceof Function,"Expected a class definition");let e=Y2.get(n);return e?(Qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mw.type="NONE";const X2=mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n,e,t){return`firebase:${n}:${e}:${t}`}class Nl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ud("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Nl(js(X2),e,r);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||js(X2);const l=Ud(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(l);if(y){const C=zs._fromJSON(e,y);m!==o&&(h=C),o=m;break}}catch{}const d=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Nl(o,e,r):(o=d[0],h&&await o._set(l,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new Nl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ew(e))return"Blackberry";if(Cw(e))return"Webos";if(yw(e))return"Safari";if((e.includes("chrome/")||_w(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gw(n=pr()){return/firefox\//i.test(n)}function yw(n=pr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _w(n=pr()){return/crios\//i.test(n)}function vw(n=pr()){return/iemobile/i.test(n)}function ww(n=pr()){return/android/i.test(n)}function Ew(n=pr()){return/blackberry/i.test(n)}function Cw(n=pr()){return/webos/i.test(n)}function x0(n=pr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sL(n=pr()){var e;return x0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oL(){return yx()&&document.documentMode===10}function Tw(n=pr()){return x0(n)||ww(n)||Cw(n)||Ew(n)||/windows phone/i.test(n)||vw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e=[]){let t;switch(n){case"Browser":t=Z2(pr());break;case"Worker":t=`${Z2(pr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,h)=>{try{const d=e(o);l(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(n,e={}){return Ho(n,"GET","/v2/passwordPolicy",Wo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=6;class cL{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:uL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J2(this),this.idTokenSubscription=new J2(this),this.beforeStateQueue=new aL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=js(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fw(this,{idToken:e}),r=await zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ss(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(Hs(this));const t=e?mr(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lL(this),t=new cL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await iL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&js(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pa(n){return mr(n)}class J2{constructor(e){this.auth=e,this.observer=null,this.addObserver=bx(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(n){cp=n}function Aw(n){return cp.loadJS(n)}function fL(){return cp.recaptchaEnterpriseScript}function pL(){return cp.gapiScript}function mL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new yL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _L="recaptcha-enterprise",Rw="NO_RECAPTCHA";class vL{constructor(e){this.type=_L,this.auth=Pa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,h)=>{YN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new QN(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(d=>{h(d)})})}function i(o,l,h){const d=window.grecaptcha;K2(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{l(m)}).catch(()=>{l(Rw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(h=>{if(!t&&K2(window.grecaptcha))i(h,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fL();d.length!==0&&(d+=h),Aw(d).then(()=>{i(h,o,l)}).catch(m=>{l(m)})}}).catch(h=>{l(h)})})}}async function e4(n,e,t,r=!1,i=!1){const o=new vL(n);let l;if(i)l=Rw;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function gg(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await e4(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await e4(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n,e){const t=up(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(sf(o,e??{}))return i;qi(i,"already-initialized")}return t.initialize({options:e})}function EL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(js);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CL(n,e,t){const r=Pa(n);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Iw(e),{host:l,port:h}=TL(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),SL()}function Iw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TL(n){const e=Iw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:t4(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:t4(l)}}}function t4(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,t){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function AL(n,e){return Ho(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e){return th(n,"POST","/v1/accounts:signInWithPassword",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(n,e){return th(n,"POST","/v1/accounts:signInWithEmailLink",Wo(n,e))}async function bL(n,e){return th(n,"POST","/v1/accounts:signInWithEmailLink",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends N0{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Lc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Lc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,t,"signInWithPassword",RL);case"emailLink":return IL(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",AL);case"emailLink":return bL(e,{idToken:t,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n,e){return th(n,"POST","/v1/accounts:signInWithIdp",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="http://localhost";class va extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=I0(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new va(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}buildRequest(){const e={requestUri:kL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xL(n){const e=hc(dc(n)).link,t=e?hc(dc(e)).deep_link_id:null,r=hc(dc(n)).deep_link_id;return(r?hc(dc(r)).link:null)||r||t||e||n}class L0{constructor(e){var t,r,i,o,l,h;const d=hc(dc(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(r=d.oobCode)!==null&&r!==void 0?r:null,C=PL((i=d.mode)!==null&&i!==void 0?i:null);qe(m&&y&&C,"argument-error"),this.apiKey=m,this.operation=C,this.code=y,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=xL(e);try{return new L0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,t){return Lc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=L0.parseLink(t);return qe(r,"argument-error"),Lc._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends nh{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return So.credential(t,r)}catch{return null}}}So.GOOGLE_SIGN_IN_METHOD="google.com";So.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends nh{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends nh{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ro.credential(t,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(n,e){return th(n,"POST","/v1/accounts:signUp",Wo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await zs._fromIdTokenResponse(e,r,i),l=n4(r);return new wa({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=n4(r);return new wa({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function n4(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ws{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new uf(e,t,r,i)}}function kw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(n,o,e,r):o})}async function LL(n,e,t=!1){const r=await Nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(n,e,t=!1){const{auth:r}=n;if(ss(r.app))return Promise.reject(Hs(r));const i="reauthenticate";try{const o=await Nc(n,kw(r,i,e,n),t);qe(o.idToken,r,"internal-error");const l=P0(o.idToken);qe(l,r,"internal-error");const{sub:h}=l;return qe(n.uid===h,r,"user-mismatch"),wa._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(n,e,t=!1){if(ss(n.app))return Promise.reject(Hs(n));const r="signIn",i=await kw(n,r,e),o=await wa._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function DL(n,e){return Pw(Pa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(n){const e=Pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ML(n,e,t){if(ss(n.app))return Promise.reject(Hs(n));const r=Pa(n),l=await gg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xw(n),d}),h=await wa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function VL(n,e,t){return ss(n.app)?Promise.reject(Hs(n)):DL(mr(n),hu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xw(n),r})}function FL(n,e,t,r){return mr(n).onIdTokenChanged(e,t,r)}function UL(n,e,t){return mr(n).beforeAuthStateChanged(e,t)}function BL(n,e,t,r){return mr(n).onAuthStateChanged(e,t,r)}function zL(n){return mr(n).signOut()}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=1e3,$L=10;class Lw extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);oL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$L):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lw.type="LOCAL";const WL=Lw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ow.type="SESSION";const Dw=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async m=>m(t.origin,o)),d=await HL(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((h,d)=>{const m=O0("",20);i.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(C){const A=C;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(A.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function GL(n){cs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function KL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YL(){return Mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebaseLocalStorageDb",XL=1,hf="firebaseLocalStorage",Fw="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dp(n,e){return n.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function ZL(){const n=indexedDB.deleteDatabase(Vw);return new rh(n).toPromise()}function yg(){const n=indexedDB.open(Vw,XL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hf,{keyPath:Fw})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await ZL(),e(await yg()))})})}async function r4(n,e,t){const r=dp(n,!0).put({[Fw]:e,value:t});return new rh(r).toPromise()}async function JL(n,e){const t=dp(n,!1).get(e),r=await new rh(t).toPromise();return r===void 0?null:r.value}function i4(n,e){const t=dp(n,!0).delete(e);return new rh(t).toPromise()}const eO=800,tO=3;class Uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hp._getInstance(YL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KL(),!this.activeServiceWorker)return;this.sender=new qL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await r4(e,cf,"1"),await i4(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>r4(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>i4(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=dp(i,!1).getAll();return new rh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uw.type="LOCAL";const nO=Uw;new eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e){return e?js(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iO(n){return Pw(n.auth,new D0(n),n.bypassAuthState)}function sO(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),OL(t,new D0(n),n.bypassAuthState)}async function oO(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),LL(t,new D0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return oO;case"reauthViaPopup":case"reauthViaRedirect":return sO;default:qi(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new eh(2e3,1e4);class Il extends Bw{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=O0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aO.get())};e()}}Il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="pendingRedirect",Bd=new Map;class uO extends Bw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await cO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cO(n,e){const t=fO(e),r=dO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function hO(n,e){Bd.set(n._key(),e)}function dO(n){return js(n._redirectPersistence)}function fO(n){return Ud(lO,n.config.apiKey,n.name)}async function pO(n,e,t=!1){if(ss(n.app))return Promise.reject(Hs(n));const r=Pa(n),i=rO(r,e),l=await new uO(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class gO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(us(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(s4(e))}saveEventToCache(e){this.cachedEventUids.add(s4(e)),this.lastProcessedEventTime=Date.now()}}function s4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(n,e={}){return Ho(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wO=/^https?/;async function EO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _O(n);for(const t of e)try{if(CO(t))return}catch{}qi(n,"unauthorized-domain")}function CO(n){const e=pg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!wO.test(t))return!1;if(vO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new eh(3e4,6e4);function o4(){const n=cs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SO(n){return new Promise((e,t)=>{var r,i,o;function l(){o4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o4(),t(us(n,"network-request-failed"))},timeout:TO.get()})}if(!((i=(r=cs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cs().gapi)===null||o===void 0)&&o.load)l();else{const h=mL("iframefcb");return cs()[h]=()=>{gapi.load?l():t(us(n,"network-request-failed"))},Aw(`${pL()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw zd=null,e})}let zd=null;function AO(n){return zd=zd||SO(n),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new eh(5e3,15e3),IO="__/auth/iframe",bO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?k0(e,bO):`https://${n.config.authDomain}/${IO}`,r={apiKey:e.apiKey,appName:n.name,v:$o},i=PO.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cu(r).slice(1)}`}async function NO(n){const e=await AO(n),t=cs().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:xO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=us(n,"network-request-failed"),h=cs().setTimeout(()=>{o(l)},RO.get());function d(){cs().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OO=500,DO=600,MO="_blank",VO="http://localhost";class a4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FO(n,e,t,r=OO,i=DO){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},LO),{width:r.toString(),height:i.toString(),top:o,left:l}),m=pr().toLowerCase();t&&(h=_w(m)?MO:t),gw(m)&&(e=e||VO,d.scrollbars="yes");const y=Object.entries(d).reduce((A,[b,I])=>`${A}${b}=${I},`,"");if(sL(m)&&h!=="_self")return UO(e||"",h),new a4(null);const C=window.open(e||"",h,y);qe(C,n,"popup-blocked");try{C.focus()}catch{}return new a4(C)}function UO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="__/auth/handler",zO="emulator/auth/handler",jO=encodeURIComponent("fac");async function l4(n,e,t,r,i,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:$o,eventId:i};if(e instanceof bw){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",lg(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,C]of Object.entries({}))l[y]=C}if(e instanceof nh){const y=e.getScopes().filter(C=>C!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${jO}=${encodeURIComponent(d)}`:"";return`${$O(n)}?${cu(h).slice(1)}${m}`}function $O({config:n}){return n.emulator?k0(n,zO):`https://${n.authDomain}/${BO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=pO,this._overrideRedirectResult=hO}async _openPopup(e,t,r,i){var o;Qs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await l4(e,t,r,pg(),i);return FO(e,l,O0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await l4(e,t,r,pg(),i);return GL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Qs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await NO(e),r=new gO(e);return t.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(S1,{type:S1},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[S1];l!==void 0&&t(!!l),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tw()||yw()||x0()}}const HO=WO;var u4="@firebase/auth",c4="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KO(n){Oo(new Gs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(n)},m=new hL(r,i,o,d);return EL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oo(new Gs("auth-internal",e=>{const t=Pa(e.getProvider("auth").getImmediate());return(r=>new qO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(u4,c4,GO(n)),Ti(u4,c4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=5*60,YO=Z5("authIdTokenMaxAge")||QO;let h4=null;const XO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YO)return;const i=t==null?void 0:t.token;h4!==i&&(h4=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZO(n=R0()){const e=up(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wL(n,{popupRedirectResolver:HO,persistence:[nO,WL,Dw]}),r=Z5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=XO(o.toString());UL(t,l,()=>l(t.currentUser)),FL(t,h=>l(h))}}const i=Q5("auth");return i&&CL(t,`http://${i}`),t}function JO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=us("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",JO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KO("Browser");var eD="firebase",tD="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(eD,tD,"app");var d4={};const f4="@firebase/database",p4="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jw="";function nD(n){jw=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Pc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Js(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rD(e)}}catch{}return new iD},fa=$w("localStorage"),sD=$w("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new lp("@firebase/database"),oD=function(){let n=1;return function(){return n++}}(),Ww=function(n){const e=Nx(n),t=new Ix;t.update(e);const r=t.digest();return C0.encodeByteArray(r)},ih=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ih.apply(null,r):typeof r=="object"?e+=Jn(r):e+=r,e+=" "}return e};let Ec=null,m4=!0;const aD=function(n,e){be(!0,"Can't turn on custom loggers persistently."),Ol.logLevel=at.VERBOSE,Ec=Ol.log.bind(Ol)},cr=function(...n){if(m4===!0&&(m4=!1,Ec===null&&sD.get("logging_enabled")===!0&&aD()),Ec){const e=ih.apply(null,n);Ec(e)}},sh=function(n){return function(...e){cr(n,...e)}},_g=function(...n){const e="FIREBASE INTERNAL ERROR: "+ih(...n);Ol.error(e)},Ea=function(...n){const e=`FIREBASE FATAL ERROR: ${ih(...n)}`;throw Ol.error(e),new Error(e)},ti=function(...n){const e="FIREBASE WARNING: "+ih(...n);Ol.warn(e)},lD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hw=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},uD=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Hl="[MIN_NAME]",Ca="[MAX_NAME]",du=function(n,e){if(n===e)return 0;if(n===Hl||e===Ca)return-1;if(e===Hl||n===Ca)return 1;{const t=g4(n),r=g4(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},cD=function(n,e){return n===e?0:n<e?-1:1},rc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Jn(e))},M0=function(n){if(typeof n!="object"||n===null)return Jn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Jn(e[r]),t+=":",t+=M0(n[e[r]]);return t+="}",t},qw=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Si(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Gw=function(n){be(!Hw(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,o,l,h,d;n===0?(o=0,l=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=h+r,l=Math.round(n*Math.pow(2,t-h)-Math.pow(2,t))):(o=0,l=Math.round(n/Math.pow(2,1-r-t))));const m=[];for(d=t;d;d-=1)m.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(i?1:0),m.reverse();const y=m.join("");let C="";for(d=0;d<64;d+=8){let A=parseInt(y.substr(d,8),2).toString(16);A.length===1&&(A="0"+A),C=C+A}return C.toLowerCase()},hD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},fD=new RegExp("^-?(0*)\\d{1,10}$"),pD=-2147483648,mD=2147483647,g4=function(n){if(fD.test(n)){const e=Number(n);if(e>=pD&&e<=mD)return e}return null},oh=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ti("Exception was thrown by user callback.",t),e},Math.floor(0))}},gD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cc=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ti(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="5",Kw="v",Qw="s",Yw="r",Xw="f",Zw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jw="ls",eE="p",vg="ac",tE="websocket",nE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,r,i,o=!1,l="",h=!1,d=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function wD(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function rE(n,e,t){be(typeof e=="string","typeof type must == string"),be(typeof t=="object","typeof params must == object");let r;if(e===tE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===nE)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wD(n)&&(t.ns=n.namespace);const i=[];return Si(t,(o,l)=>{i.push(o+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.counters_={}}incrementCounter(e,t=1){Js(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return lx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={},R1={};function F0(n){const e=n.toString();return A1[e]||(A1[e]=new ED),A1[e]}function CD(n,e){const t=n.toString();return R1[t]||(R1[t]=e()),R1[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&oh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="start",SD="close",AD="pLPCommand",RD="pRTLPCB",iE="id",sE="pw",oE="ser",ID="cb",bD="seg",kD="ts",PD="d",xD="dframe",aE=1870,lE=30,ND=aE-lE,LD=25e3,OD=3e4;class bl{constructor(e,t,r,i,o,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sh(e),this.stats_=F0(t),this.urlFn=d=>(this.appCheckToken&&(d[vg]=this.appCheckToken),rE(t,nE,d))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new TD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OD)),uD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new U0((...o)=>{const[l,h,d,m,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===y4)this.id=h,this.password=d;else if(l===SD)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[y4]="t",r[oE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ID]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Kw]=V0,this.transportSessionId&&(r[Qw]=this.transportSessionId),this.lastSessionId&&(r[Jw]=this.lastSessionId),this.applicationId&&(r[eE]=this.applicationId),this.appCheckToken&&(r[vg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zw.test(location.hostname)&&(r[Yw]=Xw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bl.forceAllow_=!0}static forceDisallow(){bl.forceDisallow_=!0}static isAvailable(){return bl.forceAllow_?!0:!bl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hD()&&!dD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Jn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=G5(t),i=qw(r,ND);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[xD]="t",r[iE]=e,r[sE]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Jn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class U0{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oD(),window[AD+this.uniqueCallbackIdentifier]=e,window[RD+this.uniqueCallbackIdentifier]=t,this.myIFrame=U0.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){cr("frame writing exception"),h.stack&&cr(h.stack),cr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||cr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iE]=this.myID,e[sE]=this.myPW,e[oE]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lE+r.length<=aE;){const l=this.pendingSegs.shift();r=r+"&"+bD+i+"="+l.seg+"&"+kD+i+"="+l.ts+"&"+PD+i+"="+l.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(LD)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{cr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=16384,MD=45e3;let df=null;typeof MozWebSocket<"u"?df=MozWebSocket:typeof WebSocket<"u"&&(df=WebSocket);class os{constructor(e,t,r,i,o,l,h){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sh(this.connId),this.stats_=F0(t),this.connURL=os.connectionURL_(t,l,h,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,o){const l={};return l[Kw]=V0,typeof location<"u"&&location.hostname&&Zw.test(location.hostname)&&(l[Yw]=Xw),t&&(l[Qw]=t),r&&(l[Jw]=r),i&&(l[vg]=i),o&&(l[eE]=o),rE(e,tE,l)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fa.set("previous_websocket_failure",!0);try{let r;_x(),this.mySock=new df(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){os.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&df!==null&&!os.forceDisallow_}static previouslyFailed(){return fa.isInMemoryStorage||fa.get("previous_websocket_failure")===!0}markConnectionHealthy(){fa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Pc(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(be(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=Jn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=qw(t,DD);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MD))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}os.responsesRequiredToBeHealthy=2;os.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static get ALL_TRANSPORTS(){return[bl,os]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=os.isAvailable();let r=t&&!os.previouslyFailed();if(e.webSocketOnly&&(t||ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[os];else{const i=this.transports_=[];for(const o of Oc.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Oc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=6e4,FD=5e3,UD=10*1024,BD=100*1024,I1="t",_4="d",zD="s",v4="r",jD="e",w4="o",E4="a",C4="n",T4="p",$D="h";class WD{constructor(e,t,r,i,o,l,h,d,m,y){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sh("c:"+this.id+":"),this.transportManager_=new Oc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(I1 in e){const t=e[I1];t===E4?this.upgradeIfSecondaryHealthy_():t===v4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===w4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=rc("t",e),r=rc("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=rc("t",e),r=rc("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=rc(I1,e);if(_4 in e){const r=e[_4];if(t===$D){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===C4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===zD?this.onConnectionShutdown_(r):t===v4?this.onReset_(r):t===jD?_g("Server Error: "+r):t===w4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_g("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),V0!==r&&ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Cc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(FD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.allowedEvents_=e,this.listeners_={},be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){be(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends cE{static getInstance(){return new ff}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!S0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return be(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=32,A4=768;class Wt{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Nt(){return new Wt("")}function yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Do(n){return n.pieces_.length-n.pieceNum_}function jt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Wt(n.pieces_,e)}function hE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function HD(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function dE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function fE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Wt(e,0)}function Un(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Wt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Wt(t,0)}function ht(n){return n.pieceNum_>=n.pieces_.length}function Ci(n,e){const t=yt(n),r=yt(e);if(t===null)return e;if(t===r)return Ci(jt(n),jt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function pE(n,e){if(Do(n)!==Do(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Bi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Do(n)>Do(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class qD{constructor(e,t){this.errorPrefix_=t,this.parts_=dE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ap(this.parts_[r]);mE(this)}}function GD(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=ap(e),mE(n)}function KD(n){const e=n.parts_.pop();n.byteLength_-=ap(e),n.parts_.length>0&&(n.byteLength_-=1)}function mE(n){if(n.byteLength_>A4)throw new Error(n.errorPrefix_+"has a key path longer than "+A4+" bytes ("+n.byteLength_+").");if(n.parts_.length>S4)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S4+") or object contains a cycle "+ha(n))}function ha(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends cE{static getInstance(){return new B0}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return be(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=1e3,QD=60*5*1e3,R4=30*1e3,YD=1.3,XD=3e4,ZD="server_kill",I4=3;class qs extends uE{constructor(e,t,r,i,o,l,h,d){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=qs.nextPersistentConnectionId_++,this.log_=sh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ic,this.maxReconnectDelay_=QD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ff.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,o={r:i,a:e,b:t};this.log_(Jn(o)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new T0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const h=l.d;l.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,r,i){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const h={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(l).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},l="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,h=>{const d=h.d,m=h.s;qs.warnOnListenWarnings_(d,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(m,d))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Js(e,"w")){const r=Wl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Rx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=R4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Ax(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const o=i.s,l=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const o={p:e},l="n";i&&(o.q=r,o.t=i),this.sendRequest(l,o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,o){this.initConnection_();const l={p:t,d:r};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Jn(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):_g("Unrecognized action received from server: "+Jn(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XD&&(this.reconnectDelay_=ic),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+qs.nextConnectionId_++,o=this.lastSessionId;let l=!1,h=null;const d=function(){h?h.close():(l=!0,r())},m=function(C){be(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(C)};this.realtime_={close:d,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,A]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);l?cr("getToken() completed but was canceled"):(cr("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=A&&A.token,h=new WD(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,b=>{ti(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZD)},o))}catch(C){this.log_("Failed to get token: "+C),l||(this.repoInfo_.nodeAdmin&&ti(C),d())}}}interrupt(e){cr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){cr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lg(this.interruptReasons_)&&(this.reconnectDelay_=ic,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(o=>M0(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new Wt(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(t),o.delete(t),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){cr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I4&&(this.reconnectDelay_=R4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){cr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+jw.replace(/\./g,"-")]=1,S0()?e["framework.cordova"]=1:ew()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ff.getInstance().currentlyOnline();return lg(this.interruptReasons_)&&e}}qs.nextPersistentConnectionId_=0;qs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new _t(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new _t(Hl,e),i=new _t(Hl,t);return this.compare(r,i)!==0}minPost(){return _t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;class gE extends fp{static get __EMPTY_NODE(){return Cd}static set __EMPTY_NODE(e){Cd=e}compare(e,t){return du(e.name,t.name)}isDefinedOn(e){throw uu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Ca,Cd)}makePost(e,t){return be(typeof e=="string","KeyIndex indexValue must always be a string."),new _t(e,Cd)}toString(){return".key"}}const Dl=new gE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=class{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?r(e.key,t):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ei=class fc{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??fc.RED,this.left=i??as.EMPTY_NODE,this.right=o??as.EMPTY_NODE}copy(e,t,r,i,o){return new fc(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return as.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return as.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ei.RED=!0;ei.BLACK=!1;class JD{copy(e,t,r,i,o){return this}insert(e,t,r){return new ei(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let as=class jd{constructor(e,t=jd.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new jd(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ei.BLACK,null,null))}remove(e){return new jd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ei.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Td(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Td(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Td(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Td(this.root_,null,this.comparator_,!0,e)}};as.EMPTY_NODE=new JD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n,e){return du(n.name,e.name)}function z0(n,e){return du(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg;function tM(n){wg=n}const yE=function(n){return typeof n=="number"?"number:"+Gw(n):"string:"+n},_E=function(n){if(n.isLeafNode()){const e=n.val();be(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Js(e,".sv"),"Priority must be a string or number.")}else be(n===wg||n.isEmpty(),"priority of unexpected type.");be(n===wg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b4;class Vn{static set __childrenNodeConstructor(e){b4=e}static get __childrenNodeConstructor(){return b4}constructor(e,t=Vn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,be(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_E(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Vn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ht(e)?this:yt(e)===".priority"?this.priorityNode_:Vn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Vn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=yt(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(be(r!==".priority"||Do(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vn.__childrenNodeConstructor.EMPTY_NODE.updateChild(jt(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=Gw(this.value_):e+=this.value_,this.lazyHash_=Ww(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Vn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Vn.__childrenNodeConstructor?-1:(be(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Vn.VALUE_TYPE_ORDER.indexOf(t),o=Vn.VALUE_TYPE_ORDER.indexOf(r);return be(i>=0,"Unknown leaf type: "+t),be(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Vn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE,wE;function nM(n){vE=n}function rM(n){wE=n}class iM extends fp{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?du(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Ca,new Vn("[PRIORITY-POST]",wE))}makePost(e,t){const r=vE(e);return new _t(t,new Vn("[PRIORITY-POST]",r))}toString(){return".priority"}}const fr=new iM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=Math.log(2);class oM{constructor(e){const t=o=>parseInt(Math.log(o)/sM,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const pf=function(n,e,t,r){n.sort(e);const i=function(d,m){const y=m-d;let C,A;if(y===0)return null;if(y===1)return C=n[d],A=t?t(C):C,new ei(A,C.node,ei.BLACK,null,null);{const b=parseInt(y/2,10)+d,I=i(d,b),L=i(b+1,m);return C=n[b],A=t?t(C):C,new ei(A,C.node,ei.BLACK,I,L)}},o=function(d){let m=null,y=null,C=n.length;const A=function(I,L){const O=C-I,Y=C;C-=I;const q=i(O+1,Y),Z=n[O],ae=t?t(Z):Z;b(new ei(ae,Z.node,L,null,q))},b=function(I){m?(m.left=I,m=I):(y=I,m=I)};for(let I=0;I<d.count;++I){const L=d.nextBitIsOne(),O=Math.pow(2,d.count-(I+1));L?A(O,ei.BLACK):(A(O,ei.BLACK),A(O,ei.RED))}return y},l=new oM(n.length),h=o(l);return new as(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1;const sc={};class $s{static get Default(){return be(fr,"ChildrenNode.ts has not been loaded"),b1=b1||new $s({".priority":sc},{".priority":fr}),b1}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Wl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof as?t:null}hasIndex(e){return Js(this.indexSet_,e.toString())}addIndex(e,t){be(e!==Dl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(_t.Wrap);let l=o.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=o.getNext();let h;i?h=pf(r,e.getCompare()):h=sc;const d=e.toString(),m=Object.assign({},this.indexSet_);m[d]=e;const y=Object.assign({},this.indexes_);return y[d]=h,new $s(y,m)}addToIndexes(e,t){const r=rf(this.indexes_,(i,o)=>{const l=Wl(this.indexSet_,o);if(be(l,"Missing index implementation for "+o),i===sc)if(l.isDefinedOn(e.node)){const h=[],d=t.getIterator(_t.Wrap);let m=d.getNext();for(;m;)m.name!==e.name&&h.push(m),m=d.getNext();return h.push(e),pf(h,l.getCompare())}else return sc;else{const h=t.get(e.name);let d=i;return h&&(d=d.remove(new _t(e.name,h))),d.insert(e,e.node)}});return new $s(r,this.indexSet_)}removeFromIndexes(e,t){const r=rf(this.indexes_,i=>{if(i===sc)return i;{const o=t.get(e.name);return o?i.remove(new _t(e.name,o)):i}});return new $s(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;class At{static get EMPTY_NODE(){return oc||(oc=new At(new as(z0),null,$s.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_E(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oc}updatePriority(e){return this.children_.isEmpty()?this:new At(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?oc:t}}getChild(e){const t=yt(e);return t===null?this:this.getImmediateChild(t).getChild(jt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(be(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new _t(e,t);let i,o;t.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?oc:this.priorityNode_;return new At(i,l,o)}}updateChild(e,t){const r=yt(e);if(r===null)return t;{be(yt(e)!==".priority"||Do(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(jt(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,o=!0;if(this.forEachChild(fr,(l,h)=>{t[l]=h.val(e),r++,o&&At.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):o=!1}),!e&&o&&i<2*r){const l=[];for(const h in t)l[h]=t[h];return l}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+yE(this.getPriority().val())+":"),this.forEachChild(fr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":Ww(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new _t(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new _t(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new _t(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,_t.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let o=i.peek();for(;o!=null&&t.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ah?-1:0}withIndex(e){if(e===Dl||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new At(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Dl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(fr),i=t.getIterator(fr);let o=r.getNext(),l=i.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=r.getNext(),l=i.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Dl?null:this.indexMap_.get(e.toString())}}At.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aM extends At{constructor(){super(new as(z0),At.EMPTY_NODE,$s.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return At.EMPTY_NODE}isEmpty(){return!1}}const ah=new aM;Object.defineProperties(_t,{MIN:{value:new _t(Hl,At.EMPTY_NODE)},MAX:{value:new _t(Ca,ah)}});gE.__EMPTY_NODE=At.EMPTY_NODE;Vn.__childrenNodeConstructor=At;tM(ah);rM(ah);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=!0;function hr(n,e=null){if(n===null)return At.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),be(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Vn(t,hr(e))}if(!(n instanceof Array)&&lM){const t=[];let r=!1;if(Si(n,(l,h)=>{if(l.substring(0,1)!=="."){const d=hr(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),t.push(new _t(l,d)))}}),t.length===0)return At.EMPTY_NODE;const o=pf(t,eM,l=>l.name,z0);if(r){const l=pf(t,fr.getCompare());return new At(o,hr(e),new $s({".priority":l},{".priority":fr}))}else return new At(o,hr(e),$s.Default)}else{let t=At.EMPTY_NODE;return Si(n,(r,i)=>{if(Js(n,r)&&r.substring(0,1)!=="."){const o=hr(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(hr(e))}}nM(hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends fp{constructor(e){super(),this.indexPath_=e,be(!ht(e)&&yt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?du(e.name,t.name):o}makePost(e,t){const r=hr(e),i=At.EMPTY_NODE.updateChild(this.indexPath_,r);return new _t(t,i)}maxPost(){const e=At.EMPTY_NODE.updateChild(this.indexPath_,ah);return new _t(Ca,e)}toString(){return dE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM extends fp{compare(e,t){const r=e.node.compareTo(t.node);return r===0?du(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(e,t){const r=hr(e);return new _t(t,r)}toString(){return".value"}}const hM=new cM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){return{type:"value",snapshotNode:n}}function fM(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function pM(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function k4(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function mM(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hl}hasEnd(){return this.endSet_}getIndexEndValue(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ca}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fr}copy(){const e=new j0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===fr?t="$priority":n.index_===hM?t="$value":n.index_===Dl?t="$key":(be(n.index_ instanceof uM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Jn(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Jn(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Jn(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Jn(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Jn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function x4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==fr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends uE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=sh("p:rest:"),this.listens_={}}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=mf.getListenId_(e,r),h={};this.listens_[l]=h;const d=P4(e._queryParams);this.restRequest_(o+".json",d,(m,y)=>{let C=y;if(m===404&&(C=null,m=null),m===null&&this.onDataUpdate_(o,C,!1,r),Wl(this.listens_,l)===h){let A;m?m===401?A="permission_denied":A="rest_error:"+m:A="ok",i(A,null)}})}unlisten(e,t){const r=mf.getListenId_(e,t);delete this.listens_[r]}get(e){const t=P4(e._queryParams),r=e._path.toString(),i=new T0;return this.restRequest_(r+".json",t,(o,l)=>{let h=l;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cu(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Pc(h.responseText)}catch{ti("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&ti("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){return{value:null,children:new Map}}function EE(n,e,t){if(ht(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=yt(e);n.children.has(r)||n.children.set(r,gf());const i=n.children.get(r);e=jt(e),EE(i,e,t)}}function Eg(n,e,t){n.value!==null?t(e,n.value):yM(n,(r,i)=>{const o=new Wt(e.toString()+"/"+r);Eg(i,o,t)})}function yM(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Si(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=10*1e3,vM=30*1e3,wM=5*60*1e3;class EM{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new _M(e);const r=N4+(vM-N4)*Math.random();Cc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Si(e,(i,o)=>{o>0&&Js(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Cc(this.reportStats_.bind(this),Math.floor(Math.random()*2*wM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ls||(ls={}));function CE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function TE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function SE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ls.ACK_USER_WRITE,this.source=CE()}operationForChild(e){if(ht(this.path)){if(this.affectedTree.value!=null)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wt(e));return new yf(Nt(),t,this.revert)}}else return be(yt(this.path)===e,"operationForChild called for unrelated child."),new yf(jt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ls.OVERWRITE}operationForChild(e){return ht(this.path)?new Ta(this.source,Nt(),this.snap.getImmediateChild(e)):new Ta(this.source,jt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ls.MERGE}operationForChild(e){if(ht(this.path)){const t=this.children.subtree(new Wt(e));return t.isEmpty()?null:t.value?new Ta(this.source,Nt(),t.value):new Dc(this.source,Nt(),t)}else return be(yt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dc(this.source,jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=yt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function CM(n,e,t,r){const i=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(mM(l.childName,l.snapshotNode))}),ac(n,i,"child_removed",e,r,t),ac(n,i,"child_added",e,r,t),ac(n,i,"child_moved",o,r,t),ac(n,i,"child_changed",e,r,t),ac(n,i,"value",e,r,t),i}function ac(n,e,t,r,i,o){const l=r.filter(h=>h.type===t);l.sort((h,d)=>SM(n,h,d)),l.forEach(h=>{const d=TM(n,h,o);i.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(d,n.query_))})})}function TM(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function SM(n,e,t){if(e.childName==null||t.childName==null)throw uu("Should only compare child_ events.");const r=new _t(e.childName,e.snapshotNode),i=new _t(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e){return{eventCache:n,serverCache:e}}function Tc(n,e,t,r){return AE(new $0(e,t,r),n.serverCache)}function RE(n,e,t,r){return AE(n.eventCache,new $0(e,t,r))}function Cg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sa(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1;const AM=()=>(k1||(k1=new as(cD)),k1);class zt{static fromObject(e){let t=new zt(null);return Si(e,(r,i)=>{t=t.set(new Wt(r),i)}),t}constructor(e,t=AM()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Nt(),value:this.value};if(ht(e))return null;{const r=yt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(jt(e),t);return o!=null?{path:Un(new Wt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ht(e))return this;{const t=yt(e),r=this.children.get(t);return r!==null?r.subtree(jt(e)):new zt(null)}}set(e,t){if(ht(e))return new zt(t,this.children);{const r=yt(e),o=(this.children.get(r)||new zt(null)).set(jt(e),t),l=this.children.insert(r,o);return new zt(this.value,l)}}remove(e){if(ht(e))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const t=yt(e),r=this.children.get(t);if(r){const i=r.remove(jt(e));let o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new zt(null):new zt(this.value,o)}else return this}}get(e){if(ht(e))return this.value;{const t=yt(e),r=this.children.get(t);return r?r.get(jt(e)):null}}setTree(e,t){if(ht(e))return t;{const r=yt(e),o=(this.children.get(r)||new zt(null)).setTree(jt(e),t);let l;return o.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,o),new zt(this.value,l)}}fold(e){return this.fold_(Nt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Un(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Nt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(ht(e))return null;{const o=yt(e),l=this.children.get(o);return l?l.findOnPath_(jt(e),Un(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Nt(),t)}foreachOnPath_(e,t,r){if(ht(e))return this;{this.value&&r(t,this.value);const i=yt(e),o=this.children.get(i);return o?o.foreachOnPath_(jt(e),Un(t,i),r):new zt(null)}}foreach(e){this.foreach_(Nt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Un(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.writeTree_=e}static empty(){return new Wi(new zt(null))}}function Sc(n,e,t){if(ht(e))return new Wi(new zt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const l=Ci(i,e);return o=o.updateChild(l,t),new Wi(n.writeTree_.set(i,o))}else{const i=new zt(t),o=n.writeTree_.setTree(e,i);return new Wi(o)}}}function L4(n,e,t){let r=n;return Si(t,(i,o)=>{r=Sc(r,Un(e,i),o)}),r}function O4(n,e){if(ht(e))return Wi.empty();{const t=n.writeTree_.setTree(e,new zt(null));return new Wi(t)}}function Tg(n,e){return xa(n,e)!=null}function xa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ci(t.path,e)):null}function D4(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(fr,(r,i)=>{e.push(new _t(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new _t(r,i.value))}),e}function Po(n,e){if(ht(e))return n;{const t=xa(n,e);return t!=null?new Wi(new zt(t)):new Wi(n.writeTree_.subtree(e))}}function Sg(n){return n.writeTree_.isEmpty()}function ql(n,e){return IE(Nt(),n.writeTree_,e)}function IE(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(be(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=IE(Un(n,i),o,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Un(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n,e){return LE(e,n)}function RM(n,e,t,r,i){be(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Sc(n.visibleWrites,e,t)),n.lastWriteId=r}function IM(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function bM(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);be(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&kM(h,r.path)?i=!1:Bi(r.path,h.path)&&(o=!0)),l--}if(i){if(o)return PM(n),!0;if(r.snap)n.visibleWrites=O4(n.visibleWrites,r.path);else{const h=r.children;Si(h,d=>{n.visibleWrites=O4(n.visibleWrites,Un(r.path,d))})}return!0}else return!1}function kM(n,e){if(n.snap)return Bi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Bi(Un(n.path,t),e))return!0;return!1}function PM(n){n.visibleWrites=kE(n.allWrites,xM,Nt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function xM(n){return n.visible}function kE(n,e,t){let r=Wi.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const l=o.path;let h;if(o.snap)Bi(t,l)?(h=Ci(t,l),r=Sc(r,h,o.snap)):Bi(l,t)&&(h=Ci(l,t),r=Sc(r,Nt(),o.snap.getChild(h)));else if(o.children){if(Bi(t,l))h=Ci(t,l),r=L4(r,h,o.children);else if(Bi(l,t))if(h=Ci(l,t),ht(h))r=L4(r,Nt(),o.children);else{const d=Wl(o.children,yt(h));if(d){const m=d.getChild(jt(h));r=Sc(r,Nt(),m)}}}else throw uu("WriteRecord should have .snap or .children")}}return r}function PE(n,e,t,r,i){if(!r&&!i){const o=xa(n.visibleWrites,e);if(o!=null)return o;{const l=Po(n.visibleWrites,e);if(Sg(l))return t;if(t==null&&!Tg(l,Nt()))return null;{const h=t||At.EMPTY_NODE;return ql(l,h)}}}else{const o=Po(n.visibleWrites,e);if(!i&&Sg(o))return t;if(!i&&t==null&&!Tg(o,Nt()))return null;{const l=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Bi(m.path,e)||Bi(e,m.path))},h=kE(n.allWrites,l,e),d=t||At.EMPTY_NODE;return ql(h,d)}}}function NM(n,e,t){let r=At.EMPTY_NODE;const i=xa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fr,(o,l)=>{r=r.updateImmediateChild(o,l)}),r;if(t){const o=Po(n.visibleWrites,e);return t.forEachChild(fr,(l,h)=>{const d=ql(Po(o,new Wt(l)),h);r=r.updateImmediateChild(l,d)}),D4(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const o=Po(n.visibleWrites,e);return D4(o).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function LM(n,e,t,r,i){be(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Un(e,t);if(Tg(n.visibleWrites,o))return null;{const l=Po(n.visibleWrites,o);return Sg(l)?i.getChild(t):ql(l,i.getChild(t))}}function OM(n,e,t,r){const i=Un(e,t),o=xa(n.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){const l=Po(n.visibleWrites,i);return ql(l,r.getNode().getImmediateChild(t))}else return null}function DM(n,e){return xa(n.visibleWrites,e)}function MM(n,e,t,r,i,o,l){let h;const d=Po(n.visibleWrites,e),m=xa(d,Nt());if(m!=null)h=m;else if(t!=null)h=ql(d,t);else return[];if(h=h.withIndex(l),!h.isEmpty()&&!h.isLeafNode()){const y=[],C=l.getCompare(),A=o?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let b=A.getNext();for(;b&&y.length<i;)C(b,r)!==0&&y.push(b),b=A.getNext();return y}else return[]}function VM(){return{visibleWrites:Wi.empty(),allWrites:[],lastWriteId:-1}}function Ag(n,e,t,r){return PE(n.writeTree,n.treePath,e,t,r)}function xE(n,e){return NM(n.writeTree,n.treePath,e)}function M4(n,e,t,r){return LM(n.writeTree,n.treePath,e,t,r)}function _f(n,e){return DM(n.writeTree,Un(n.treePath,e))}function FM(n,e,t,r,i,o){return MM(n.writeTree,n.treePath,e,t,r,i,o)}function W0(n,e,t){return OM(n.writeTree,n.treePath,e,t)}function NE(n,e){return LE(Un(n.treePath,e),n.writeTree)}function LE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;be(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),be(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,k4(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,pM(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,fM(r,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,k4(r,e.snapshotNode,i.oldSnap));else throw uu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const OE=new BM;class H0{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W0(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sa(this.viewCache_),o=FM(this.writes_,i,t,1,r,e);return o.length===0?null:o[0]}}function zM(n,e){be(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),be(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function jM(n,e,t,r,i){const o=new UM;let l,h;if(t.type===ls.OVERWRITE){const m=t;m.source.fromUser?l=Rg(n,e,m.path,m.snap,r,i,o):(be(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!ht(m.path),l=vf(n,e,m.path,m.snap,r,i,h,o))}else if(t.type===ls.MERGE){const m=t;m.source.fromUser?l=WM(n,e,m.path,m.children,r,i,o):(be(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),l=Ig(n,e,m.path,m.children,r,i,h,o))}else if(t.type===ls.ACK_USER_WRITE){const m=t;m.revert?l=GM(n,e,m.path,r,i,o):l=HM(n,e,m.path,m.affectedTree,r,i,o)}else if(t.type===ls.LISTEN_COMPLETE)l=qM(n,e,t.path,r,o);else throw uu("Unknown operation type: "+t.type);const d=o.getChanges();return $M(e,l,d),{viewCache:l,changes:d}}function $M(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Cg(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(dM(Cg(e)))}}function DE(n,e,t,r,i,o){const l=e.eventCache;if(_f(r,t)!=null)return e;{let h,d;if(ht(t))if(be(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Sa(e),y=m instanceof At?m:At.EMPTY_NODE,C=xE(r,y);h=n.filter.updateFullNode(e.eventCache.getNode(),C,o)}else{const m=Ag(r,Sa(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const m=yt(t);if(m===".priority"){be(Do(t)===1,"Can't have a priority with additional path components");const y=l.getNode();d=e.serverCache.getNode();const C=M4(r,t,y,d);C!=null?h=n.filter.updatePriority(y,C):h=l.getNode()}else{const y=jt(t);let C;if(l.isCompleteForChild(m)){d=e.serverCache.getNode();const A=M4(r,t,l.getNode(),d);A!=null?C=l.getNode().getImmediateChild(m).updateChild(y,A):C=l.getNode().getImmediateChild(m)}else C=W0(r,m,e.serverCache);C!=null?h=n.filter.updateChild(l.getNode(),m,C,y,i,o):h=l.getNode()}}return Tc(e,h,l.isFullyInitialized()||ht(t),n.filter.filtersNodes())}}function vf(n,e,t,r,i,o,l,h){const d=e.serverCache;let m;const y=l?n.filter:n.filter.getIndexedFilter();if(ht(t))m=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(t,r);m=y.updateFullNode(d.getNode(),b,null)}else{const b=yt(t);if(!d.isCompleteForPath(t)&&Do(t)>1)return e;const I=jt(t),O=d.getNode().getImmediateChild(b).updateChild(I,r);b===".priority"?m=y.updatePriority(d.getNode(),O):m=y.updateChild(d.getNode(),b,O,I,OE,null)}const C=RE(e,m,d.isFullyInitialized()||ht(t),y.filtersNodes()),A=new H0(i,C,o);return DE(n,C,t,i,A,h)}function Rg(n,e,t,r,i,o,l){const h=e.eventCache;let d,m;const y=new H0(i,e,o);if(ht(t))m=n.filter.updateFullNode(e.eventCache.getNode(),r,l),d=Tc(e,m,!0,n.filter.filtersNodes());else{const C=yt(t);if(C===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),r),d=Tc(e,m,h.isFullyInitialized(),h.isFiltered());else{const A=jt(t),b=h.getNode().getImmediateChild(C);let I;if(ht(A))I=r;else{const L=y.getCompleteChild(C);L!=null?hE(A)===".priority"&&L.getChild(fE(A)).isEmpty()?I=L:I=L.updateChild(A,r):I=At.EMPTY_NODE}if(b.equals(I))d=e;else{const L=n.filter.updateChild(h.getNode(),C,I,A,y,l);d=Tc(e,L,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function V4(n,e){return n.eventCache.isCompleteForChild(e)}function WM(n,e,t,r,i,o,l){let h=e;return r.foreach((d,m)=>{const y=Un(t,d);V4(e,yt(y))&&(h=Rg(n,h,y,m,i,o,l))}),r.foreach((d,m)=>{const y=Un(t,d);V4(e,yt(y))||(h=Rg(n,h,y,m,i,o,l))}),h}function F4(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ig(n,e,t,r,i,o,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,m;ht(t)?m=r:m=new zt(null).setTree(t,r);const y=e.serverCache.getNode();return m.children.inorderTraversal((C,A)=>{if(y.hasChild(C)){const b=e.serverCache.getNode().getImmediateChild(C),I=F4(n,b,A);d=vf(n,d,new Wt(C),I,i,o,l,h)}}),m.children.inorderTraversal((C,A)=>{const b=!e.serverCache.isCompleteForChild(C)&&A.value===null;if(!y.hasChild(C)&&!b){const I=e.serverCache.getNode().getImmediateChild(C),L=F4(n,I,A);d=vf(n,d,new Wt(C),L,i,o,l,h)}}),d}function HM(n,e,t,r,i,o,l){if(_f(i,t)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(ht(t)&&d.isFullyInitialized()||d.isCompleteForPath(t))return vf(n,e,t,d.getNode().getChild(t),i,o,h,l);if(ht(t)){let m=new zt(null);return d.getNode().forEachChild(Dl,(y,C)=>{m=m.set(new Wt(y),C)}),Ig(n,e,t,m,i,o,h,l)}else return e}else{let m=new zt(null);return r.foreach((y,C)=>{const A=Un(t,y);d.isCompleteForPath(A)&&(m=m.set(y,d.getNode().getChild(A)))}),Ig(n,e,t,m,i,o,h,l)}}function qM(n,e,t,r,i){const o=e.serverCache,l=RE(e,o.getNode(),o.isFullyInitialized()||ht(t),o.isFiltered());return DE(n,l,t,r,OE,i)}function GM(n,e,t,r,i,o){let l;if(_f(r,t)!=null)return e;{const h=new H0(r,e,i),d=e.eventCache.getNode();let m;if(ht(t)||yt(t)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Ag(r,Sa(e));else{const C=e.serverCache.getNode();be(C instanceof At,"serverChildren would be complete if leaf node"),y=xE(r,C)}y=y,m=n.filter.updateFullNode(d,y,o)}else{const y=yt(t);let C=W0(r,y,e.serverCache);C==null&&e.serverCache.isCompleteForChild(y)&&(C=d.getImmediateChild(y)),C!=null?m=n.filter.updateChild(d,y,C,jt(t),h,o):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(d,y,At.EMPTY_NODE,jt(t),h,o):m=d,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Ag(r,Sa(e)),l.isLeafNode()&&(m=n.filter.updateFullNode(m,l,o)))}return l=e.serverCache.isFullyInitialized()||_f(r,Nt())!=null,Tc(e,m,l,n.filter.filtersNodes())}}function KM(n,e){const t=Sa(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ht(e)&&!t.getImmediateChild(yt(e)).isEmpty())?t.getChild(e):null}function U4(n,e,t,r){e.type===ls.MERGE&&e.source.queryId!==null&&(be(Sa(n.viewCache_),"We should always have a full cache before handling merges"),be(Cg(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=jM(n.processor_,i,e,t,r);return zM(n.processor_,o.viewCache),be(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,QM(n,o.changes,o.viewCache.eventCache.getNode())}function QM(n,e,t,r){const i=n.eventRegistrations_;return CM(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4;function YM(n){be(!B4,"__referenceConstructor has already been defined"),B4=n}function q0(n,e,t,r){const i=e.source.queryId;if(i!==null){const o=n.views.get(i);return be(o!=null,"SyncTree gave us an op for an invalid query."),U4(o,e,t,r)}else{let o=[];for(const l of n.views.values())o=o.concat(U4(l,e,t,r));return o}}function G0(n,e){let t=null;for(const r of n.views.values())t=t||KM(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z4;function XM(n){be(!z4,"__referenceConstructor has already been defined"),z4=n}class j4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_=VM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ZM(n,e,t,r,i){return RM(n.pendingWriteTree_,e,t,r,i),i?mp(n,new Ta(CE(),e,t)):[]}function kl(n,e,t=!1){const r=IM(n.pendingWriteTree_,e);if(bM(n.pendingWriteTree_,e)){let o=new zt(null);return r.snap!=null?o=o.set(Nt(),!0):Si(r.children,l=>{o=o.set(new Wt(l),!0)}),mp(n,new yf(r.path,o,t))}else return[]}function pp(n,e,t){return mp(n,new Ta(TE(),e,t))}function JM(n,e,t){const r=zt.fromObject(t);return mp(n,new Dc(TE(),e,r))}function eV(n,e,t,r){const i=UE(n,r);if(i!=null){const o=BE(i),l=o.path,h=o.queryId,d=Ci(l,e),m=new Ta(SE(h),d,t);return zE(n,l,m)}else return[]}function tV(n,e,t,r){const i=UE(n,r);if(i){const o=BE(i),l=o.path,h=o.queryId,d=Ci(l,e),m=zt.fromObject(t),y=new Dc(SE(h),d,m);return zE(n,l,y)}else return[]}function ME(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,h)=>{const d=Ci(l,e),m=G0(h,d);if(m)return m});return PE(i,e,o,t,!0)}function mp(n,e){return VE(e,n.syncPointTree_,null,bE(n.pendingWriteTree_,Nt()))}function VE(n,e,t,r){if(ht(n.path))return FE(n,e,t,r);{const i=e.get(Nt());t==null&&i!=null&&(t=G0(i,Nt()));let o=[];const l=yt(n.path),h=n.operationForChild(l),d=e.children.get(l);if(d&&h){const m=t?t.getImmediateChild(l):null,y=NE(r,l);o=o.concat(VE(h,d,m,y))}return i&&(o=o.concat(q0(i,n,r,t))),o}}function FE(n,e,t,r){const i=e.get(Nt());t==null&&i!=null&&(t=G0(i,Nt()));let o=[];return e.children.inorderTraversal((l,h)=>{const d=t?t.getImmediateChild(l):null,m=NE(r,l),y=n.operationForChild(l);y&&(o=o.concat(FE(y,h,d,m)))}),i&&(o=o.concat(q0(i,n,r,t))),o}function UE(n,e){return n.tagToQueryMap.get(e)}function BE(n){const e=n.indexOf("$");return be(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Wt(n.substr(0,e))}}function zE(n,e,t){const r=n.syncPointTree_.get(e);be(r,"Missing sync point for query tag that we're tracking");const i=bE(n.pendingWriteTree_,e);return q0(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new K0(t)}node(){return this.node_}}class Q0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Un(this.path_,e);return new Q0(this.syncTree_,t)}node(){return ME(this.syncTree_,this.path_)}}const nV=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},$4=function(n,e,t){if(!n||typeof n!="object")return n;if(be(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return rV(n[".sv"],e,t);if(typeof n[".sv"]=="object")return iV(n[".sv"],e);be(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},rV=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:be(!1,"Unexpected server value: "+n)}},iV=function(n,e,t){n.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&be(!1,"Unexpected increment value: "+r);const i=e.node();if(be(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},sV=function(n,e,t,r){return Y0(e,new Q0(t,n),r)},oV=function(n,e,t){return Y0(n,new K0(e),t)};function Y0(n,e,t){const r=n.getPriority().val(),i=$4(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,h=$4(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Vn(h,hr(i)):n}else{const l=n;return o=l,i!==l.getPriority().val()&&(o=o.updatePriority(new Vn(i))),l.forEachChild(fr,(h,d)=>{const m=Y0(d,e.getImmediateChild(h),t);m!==d&&(o=o.updateImmediateChild(h,m))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Z0(n,e){let t=e instanceof Wt?e:new Wt(e),r=n,i=yt(t);for(;i!==null;){const o=Wl(r.node.children,i)||{children:{},childCount:0};r=new X0(i,r,o),t=jt(t),i=yt(t)}return r}function fu(n){return n.node.value}function jE(n,e){n.node.value=e,bg(n)}function $E(n){return n.node.childCount>0}function aV(n){return fu(n)===void 0&&!$E(n)}function gp(n,e){Si(n.node.children,(t,r)=>{e(new X0(t,n,r))})}function WE(n,e,t,r){t&&e(n),gp(n,i=>{WE(i,e,!0)})}function lV(n,e,t){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function lh(n){return new Wt(n.parent===null?n.name:lh(n.parent)+"/"+n.name)}function bg(n){n.parent!==null&&uV(n.parent,n.name,n)}function uV(n,e,t){const r=aV(t),i=Js(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,bg(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,bg(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/[\[\].#$\/\u0000-\u001F\u007F]/,hV=/[\[\].#$\u0000-\u001F\u007F]/,P1=10*1024*1024,HE=function(n){return typeof n=="string"&&n.length!==0&&!cV.test(n)},dV=function(n){return typeof n=="string"&&n.length!==0&&!hV.test(n)},fV=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dV(n)},qE=function(n,e,t){const r=t instanceof Wt?new qD(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ha(r));if(typeof e=="function")throw new Error(n+"contains a function "+ha(r)+" with contents = "+e.toString());if(Hw(e))throw new Error(n+"contains "+e.toString()+" "+ha(r));if(typeof e=="string"&&e.length>P1/3&&ap(e)>P1)throw new Error(n+"contains a string greater than "+P1+" utf8 bytes "+ha(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Si(e,(l,h)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!HE(l)))throw new Error(n+" contains an invalid key ("+l+") "+ha(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GD(r,l),qE(n,h,r),KD(r)}),i&&o)throw new Error(n+' contains ".value" child '+ha(r)+" in addition to actual children.")}},pV=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!HE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!fV(t))throw new Error(xx(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gV(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();t!==null&&!pE(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function Na(n,e,t){gV(n,t),yV(n,r=>Bi(r,e)||Bi(e,r))}function yV(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const o=i.path;e(o)?(_V(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function _V(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Ec&&cr("event: "+t.toString()),oh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="repo_interrupt",wV=25;class EV{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gf(),this.transactionQueueTree_=new X0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CV(n,e,t){if(n.stats_=F0(n.repoInfo_),n.forceRestClient_||gD())n.server_=new mf(n.repoInfo_,(r,i,o,l)=>{W4(n,r,i,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>H4(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new qs(n.repoInfo_,e,(r,i,o,l)=>{W4(n,r,i,o,l)},r=>{H4(n,r)},r=>{SV(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=CD(n.repoInfo_,()=>new EM(n.stats_,n.server_)),n.infoData_=new gM,n.infoSyncTree_=new j4({startListening:(r,i,o,l)=>{let h=[];const d=n.infoData_.getNode(r._path);return d.isEmpty()||(h=pp(n.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),J0(n,"connected",!1),n.serverSyncTree_=new j4({startListening:(r,i,o,l)=>(n.server_.listen(r,o,i,(h,d)=>{const m=l(h,d);Na(n.eventQueue_,r._path,m)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function TV(n){const t=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function GE(n){return nV({timestamp:TV(n)})}function W4(n,e,t,r,i){n.dataUpdateCount++;const o=new Wt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const d=rf(t,m=>hr(m));l=tV(n.serverSyncTree_,o,d,i)}else{const d=hr(t);l=eV(n.serverSyncTree_,o,d,i)}else if(r){const d=rf(t,m=>hr(m));l=JM(n.serverSyncTree_,o,d)}else{const d=hr(t);l=pp(n.serverSyncTree_,o,d)}let h=o;l.length>0&&(h=ty(n,o)),Na(n.eventQueue_,h,l)}function H4(n,e){J0(n,"connected",e),e===!1&&RV(n)}function SV(n,e){Si(e,(t,r)=>{J0(n,t,r)})}function J0(n,e,t){const r=new Wt("/.info/"+e),i=hr(t);n.infoData_.updateSnapshot(r,i);const o=pp(n.infoSyncTree_,r,i);Na(n.eventQueue_,r,o)}function AV(n){return n.nextWriteId_++}function RV(n){KE(n,"onDisconnectEvents");const e=GE(n),t=gf();Eg(n.onDisconnect_,Nt(),(i,o)=>{const l=sV(i,o,n.serverSyncTree_,e);EE(t,i,l)});let r=[];Eg(t,Nt(),(i,o)=>{r=r.concat(pp(n.serverSyncTree_,i,o));const l=PV(n,i);ty(n,l)}),n.onDisconnect_=gf(),Na(n.eventQueue_,Nt(),r)}function IV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(vV)}function KE(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),cr(t,...e)}function QE(n,e,t){return ME(n.serverSyncTree_,e,t)||At.EMPTY_NODE}function ey(n,e=n.transactionQueueTree_){if(e||yp(n,e),fu(e)){const t=XE(n,e);be(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&bV(n,lh(e),t)}else $E(e)&&gp(e,t=>{ey(n,t)})}function bV(n,e,t){const r=t.map(m=>m.currentWriteId),i=QE(n,e,r);let o=i;const l=i.hash();for(let m=0;m<t.length;m++){const y=t[m];be(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const C=Ci(e,y.path);o=o.updateChild(C,y.currentOutputSnapshotRaw)}const h=o.val(!0),d=e;n.server_.put(d.toString(),h,m=>{KE(n,"transaction put response",{path:d.toString(),status:m});let y=[];if(m==="ok"){const C=[];for(let A=0;A<t.length;A++)t[A].status=2,y=y.concat(kl(n.serverSyncTree_,t[A].currentWriteId)),t[A].onComplete&&C.push(()=>t[A].onComplete(null,!0,t[A].currentOutputSnapshotResolved)),t[A].unwatcher();yp(n,Z0(n.transactionQueueTree_,e)),ey(n,n.transactionQueueTree_),Na(n.eventQueue_,e,y);for(let A=0;A<C.length;A++)oh(C[A])}else{if(m==="datastale")for(let C=0;C<t.length;C++)t[C].status===3?t[C].status=4:t[C].status=0;else{ti("transaction at "+d.toString()+" failed: "+m);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=m}ty(n,e)}},l)}function ty(n,e){const t=YE(n,e),r=lh(t),i=XE(n,t);return kV(n,i,r),r}function kV(n,e,t){if(e.length===0)return;const r=[];let i=[];const l=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],m=Ci(t,d.path);let y=!1,C;if(be(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,C=d.abortReason,i=i.concat(kl(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=wV)y=!0,C="maxretry",i=i.concat(kl(n.serverSyncTree_,d.currentWriteId,!0));else{const A=QE(n,d.path,l);d.currentInputSnapshot=A;const b=e[h].update(A.val());if(b!==void 0){qE("transaction failed: Data returned ",b,d.path);let I=hr(b);typeof b=="object"&&b!=null&&Js(b,".priority")||(I=I.updatePriority(A.getPriority()));const O=d.currentWriteId,Y=GE(n),q=oV(I,A,Y);d.currentOutputSnapshotRaw=I,d.currentOutputSnapshotResolved=q,d.currentWriteId=AV(n),l.splice(l.indexOf(O),1),i=i.concat(ZM(n.serverSyncTree_,d.path,q,d.currentWriteId,d.applyLocally)),i=i.concat(kl(n.serverSyncTree_,O,!0))}else y=!0,C="nodata",i=i.concat(kl(n.serverSyncTree_,d.currentWriteId,!0))}Na(n.eventQueue_,t,i),i=[],y&&(e[h].status=2,function(A){setTimeout(A,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(C==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(C),!1,null))))}yp(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)oh(r[h]);ey(n,n.transactionQueueTree_)}function YE(n,e){let t,r=n.transactionQueueTree_;for(t=yt(e);t!==null&&fu(r)===void 0;)r=Z0(r,t),e=jt(e),t=yt(e);return r}function XE(n,e){const t=[];return ZE(n,e,t),t.sort((r,i)=>r.order-i.order),t}function ZE(n,e,t){const r=fu(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);gp(e,i=>{ZE(n,i,t)})}function yp(n,e){const t=fu(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,jE(e,t.length>0?t:void 0)}gp(e,r=>{yp(n,r)})}function PV(n,e){const t=lh(YE(n,e)),r=Z0(n.transactionQueueTree_,e);return lV(r,i=>{x1(n,i)}),x1(n,r),WE(r,i=>{x1(n,i)}),t}function x1(n,e){const t=fu(e);if(t){const r=[];let i=[],o=-1;for(let l=0;l<t.length;l++)t[l].status===3||(t[l].status===1?(be(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):(be(t[l].status===0,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(kl(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?jE(e,void 0):t.length=o+1,Na(n.eventQueue_,lh(e),i);for(let l=0;l<r.length;l++)oh(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function NV(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ti(`Invalid query segment '${t}' in query '${n}'`)}return e}const q4=function(n,e){const t=LV(n),r=t.namespace;t.domain==="firebase.com"&&Ea(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&Ea("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||lD();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new vD(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new Wt(t.pathString)}},LV=function(n){let e="",t="",r="",i="",o="",l=!0,h="https",d=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let C=n.indexOf("?");C===-1&&(C=n.length),e=n.substring(0,Math.min(y,C)),y<C&&(i=xV(n.substring(y,C)));const A=NV(n.substring(Math.min(n.length,C)));m=e.indexOf(":"),m>=0?(l=h==="https"||h==="wss",d=parseInt(e.substring(m+1),10)):m=e.length;const b=e.slice(0,m);if(b.toLowerCase()==="localhost")t="localhost";else if(b.split(".").length<=2)t=b;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),t=e.substring(I+1),o=r}"ns"in A&&(o=A.ns)}return{host:e,port:d,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ht(this._path)?null:hE(this._path)}get ref(){return new pu(this._repo,this._path)}get _queryIdentifier(){const e=x4(this._queryParams),t=M0(e);return t==="{}"?"default":t}get _queryObject(){return x4(this._queryParams)}isEqual(e){if(e=mr(e),!(e instanceof ny))return!1;const t=this._repo===e._repo,r=pE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+HD(this._path)}}class pu extends ny{constructor(e,t){super(e,t,new j0,!1)}get parent(){const e=fE(this._path);return e===null?null:new pu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}YM(pu);XM(pu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="FIREBASE_DATABASE_EMULATOR_HOST",kg={};let DV=!1;function MV(n,e,t,r,i){let o=r||n.options.databaseURL;o===void 0&&(n.options.projectId||Ea("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=q4(o,i),h=l.repoInfo,d;typeof process<"u"&&d4&&(d=d4[OV]),d?(o=`http://${d}?ns=${h.namespace}`,l=q4(o,i),h=l.repoInfo):l.repoInfo.secure;const m=new _D(n.name,n.options,e);pV("Invalid Firebase Database URL",l),ht(l.path)||Ea("Database URL must point to the root of a Firebase Database (not including a child path).");const y=FV(h,n,m,new yD(n.name,t));return new UV(y,n)}function VV(n,e){const t=kg[e];(!t||t[n.key]!==n)&&Ea(`Database ${e}(${n.repoInfo_}) has already been deleted.`),IV(n),delete t[n.key]}function FV(n,e,t,r){let i=kg[e.name];i||(i={},kg[e.name]=i);let o=i[n.toURLString()];return o&&Ea("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new EV(n,DV,t,r),i[n.toURLString()]=o,o}class UV{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pu(this._repo,Nt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ea("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){nD($o),Oo(new Gs("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return MV(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),Ti(f4,p4,n),Ti(f4,p4,"esm2017")}qs.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qs.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};BV();var G4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,JE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,x){function P(){}P.prototype=x.prototype,U.D=x.prototype,U.prototype=new P,U.prototype.constructor=U,U.C=function(B,H,X){for(var D=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)D[nt-2]=arguments[nt];return x.prototype[H].apply(B,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,x,P){P||(P=0);var B=Array(16);if(typeof x=="string")for(var H=0;16>H;++H)B[H]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(H=0;16>H;++H)B[H]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=U.g[0],P=U.g[1],H=U.g[2];var X=U.g[3],D=x+(X^P&(H^X))+B[0]+3614090360&4294967295;x=P+(D<<7&4294967295|D>>>25),D=X+(H^x&(P^H))+B[1]+3905402710&4294967295,X=x+(D<<12&4294967295|D>>>20),D=H+(P^X&(x^P))+B[2]+606105819&4294967295,H=X+(D<<17&4294967295|D>>>15),D=P+(x^H&(X^x))+B[3]+3250441966&4294967295,P=H+(D<<22&4294967295|D>>>10),D=x+(X^P&(H^X))+B[4]+4118548399&4294967295,x=P+(D<<7&4294967295|D>>>25),D=X+(H^x&(P^H))+B[5]+1200080426&4294967295,X=x+(D<<12&4294967295|D>>>20),D=H+(P^X&(x^P))+B[6]+2821735955&4294967295,H=X+(D<<17&4294967295|D>>>15),D=P+(x^H&(X^x))+B[7]+4249261313&4294967295,P=H+(D<<22&4294967295|D>>>10),D=x+(X^P&(H^X))+B[8]+1770035416&4294967295,x=P+(D<<7&4294967295|D>>>25),D=X+(H^x&(P^H))+B[9]+2336552879&4294967295,X=x+(D<<12&4294967295|D>>>20),D=H+(P^X&(x^P))+B[10]+4294925233&4294967295,H=X+(D<<17&4294967295|D>>>15),D=P+(x^H&(X^x))+B[11]+2304563134&4294967295,P=H+(D<<22&4294967295|D>>>10),D=x+(X^P&(H^X))+B[12]+1804603682&4294967295,x=P+(D<<7&4294967295|D>>>25),D=X+(H^x&(P^H))+B[13]+4254626195&4294967295,X=x+(D<<12&4294967295|D>>>20),D=H+(P^X&(x^P))+B[14]+2792965006&4294967295,H=X+(D<<17&4294967295|D>>>15),D=P+(x^H&(X^x))+B[15]+1236535329&4294967295,P=H+(D<<22&4294967295|D>>>10),D=x+(H^X&(P^H))+B[1]+4129170786&4294967295,x=P+(D<<5&4294967295|D>>>27),D=X+(P^H&(x^P))+B[6]+3225465664&4294967295,X=x+(D<<9&4294967295|D>>>23),D=H+(x^P&(X^x))+B[11]+643717713&4294967295,H=X+(D<<14&4294967295|D>>>18),D=P+(X^x&(H^X))+B[0]+3921069994&4294967295,P=H+(D<<20&4294967295|D>>>12),D=x+(H^X&(P^H))+B[5]+3593408605&4294967295,x=P+(D<<5&4294967295|D>>>27),D=X+(P^H&(x^P))+B[10]+38016083&4294967295,X=x+(D<<9&4294967295|D>>>23),D=H+(x^P&(X^x))+B[15]+3634488961&4294967295,H=X+(D<<14&4294967295|D>>>18),D=P+(X^x&(H^X))+B[4]+3889429448&4294967295,P=H+(D<<20&4294967295|D>>>12),D=x+(H^X&(P^H))+B[9]+568446438&4294967295,x=P+(D<<5&4294967295|D>>>27),D=X+(P^H&(x^P))+B[14]+3275163606&4294967295,X=x+(D<<9&4294967295|D>>>23),D=H+(x^P&(X^x))+B[3]+4107603335&4294967295,H=X+(D<<14&4294967295|D>>>18),D=P+(X^x&(H^X))+B[8]+1163531501&4294967295,P=H+(D<<20&4294967295|D>>>12),D=x+(H^X&(P^H))+B[13]+2850285829&4294967295,x=P+(D<<5&4294967295|D>>>27),D=X+(P^H&(x^P))+B[2]+4243563512&4294967295,X=x+(D<<9&4294967295|D>>>23),D=H+(x^P&(X^x))+B[7]+1735328473&4294967295,H=X+(D<<14&4294967295|D>>>18),D=P+(X^x&(H^X))+B[12]+2368359562&4294967295,P=H+(D<<20&4294967295|D>>>12),D=x+(P^H^X)+B[5]+4294588738&4294967295,x=P+(D<<4&4294967295|D>>>28),D=X+(x^P^H)+B[8]+2272392833&4294967295,X=x+(D<<11&4294967295|D>>>21),D=H+(X^x^P)+B[11]+1839030562&4294967295,H=X+(D<<16&4294967295|D>>>16),D=P+(H^X^x)+B[14]+4259657740&4294967295,P=H+(D<<23&4294967295|D>>>9),D=x+(P^H^X)+B[1]+2763975236&4294967295,x=P+(D<<4&4294967295|D>>>28),D=X+(x^P^H)+B[4]+1272893353&4294967295,X=x+(D<<11&4294967295|D>>>21),D=H+(X^x^P)+B[7]+4139469664&4294967295,H=X+(D<<16&4294967295|D>>>16),D=P+(H^X^x)+B[10]+3200236656&4294967295,P=H+(D<<23&4294967295|D>>>9),D=x+(P^H^X)+B[13]+681279174&4294967295,x=P+(D<<4&4294967295|D>>>28),D=X+(x^P^H)+B[0]+3936430074&4294967295,X=x+(D<<11&4294967295|D>>>21),D=H+(X^x^P)+B[3]+3572445317&4294967295,H=X+(D<<16&4294967295|D>>>16),D=P+(H^X^x)+B[6]+76029189&4294967295,P=H+(D<<23&4294967295|D>>>9),D=x+(P^H^X)+B[9]+3654602809&4294967295,x=P+(D<<4&4294967295|D>>>28),D=X+(x^P^H)+B[12]+3873151461&4294967295,X=x+(D<<11&4294967295|D>>>21),D=H+(X^x^P)+B[15]+530742520&4294967295,H=X+(D<<16&4294967295|D>>>16),D=P+(H^X^x)+B[2]+3299628645&4294967295,P=H+(D<<23&4294967295|D>>>9),D=x+(H^(P|~X))+B[0]+4096336452&4294967295,x=P+(D<<6&4294967295|D>>>26),D=X+(P^(x|~H))+B[7]+1126891415&4294967295,X=x+(D<<10&4294967295|D>>>22),D=H+(x^(X|~P))+B[14]+2878612391&4294967295,H=X+(D<<15&4294967295|D>>>17),D=P+(X^(H|~x))+B[5]+4237533241&4294967295,P=H+(D<<21&4294967295|D>>>11),D=x+(H^(P|~X))+B[12]+1700485571&4294967295,x=P+(D<<6&4294967295|D>>>26),D=X+(P^(x|~H))+B[3]+2399980690&4294967295,X=x+(D<<10&4294967295|D>>>22),D=H+(x^(X|~P))+B[10]+4293915773&4294967295,H=X+(D<<15&4294967295|D>>>17),D=P+(X^(H|~x))+B[1]+2240044497&4294967295,P=H+(D<<21&4294967295|D>>>11),D=x+(H^(P|~X))+B[8]+1873313359&4294967295,x=P+(D<<6&4294967295|D>>>26),D=X+(P^(x|~H))+B[15]+4264355552&4294967295,X=x+(D<<10&4294967295|D>>>22),D=H+(x^(X|~P))+B[6]+2734768916&4294967295,H=X+(D<<15&4294967295|D>>>17),D=P+(X^(H|~x))+B[13]+1309151649&4294967295,P=H+(D<<21&4294967295|D>>>11),D=x+(H^(P|~X))+B[4]+4149444226&4294967295,x=P+(D<<6&4294967295|D>>>26),D=X+(P^(x|~H))+B[11]+3174756917&4294967295,X=x+(D<<10&4294967295|D>>>22),D=H+(x^(X|~P))+B[2]+718787259&4294967295,H=X+(D<<15&4294967295|D>>>17),D=P+(X^(H|~x))+B[9]+3951481745&4294967295,U.g[0]=U.g[0]+x&4294967295,U.g[1]=U.g[1]+(H+(D<<21&4294967295|D>>>11))&4294967295,U.g[2]=U.g[2]+H&4294967295,U.g[3]=U.g[3]+X&4294967295}r.prototype.u=function(U,x){x===void 0&&(x=U.length);for(var P=x-this.blockSize,B=this.B,H=this.h,X=0;X<x;){if(H==0)for(;X<=P;)i(this,U,X),X+=this.blockSize;if(typeof U=="string"){for(;X<x;)if(B[H++]=U.charCodeAt(X++),H==this.blockSize){i(this,B),H=0;break}}else for(;X<x;)if(B[H++]=U[X++],H==this.blockSize){i(this,B),H=0;break}}this.h=H,this.o+=x},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var x=1;x<U.length-8;++x)U[x]=0;var P=8*this.o;for(x=U.length-8;x<U.length;++x)U[x]=P&255,P/=256;for(this.u(U),U=Array(16),x=P=0;4>x;++x)for(var B=0;32>B;B+=8)U[P++]=this.g[x]>>>B&255;return U};function o(U,x){var P=h;return Object.prototype.hasOwnProperty.call(P,U)?P[U]:P[U]=x(U)}function l(U,x){this.h=x;for(var P=[],B=!0,H=U.length-1;0<=H;H--){var X=U[H]|0;B&&X==x||(P[H]=X,B=!1)}this.g=P}var h={};function d(U){return-128<=U&&128>U?o(U,function(x){return new l([x|0],0>x?-1:0)}):new l([U|0],0>U?-1:0)}function m(U){if(isNaN(U)||!isFinite(U))return C;if(0>U)return O(m(-U));for(var x=[],P=1,B=0;U>=P;B++)x[B]=U/P|0,P*=4294967296;return new l(x,0)}function y(U,x){if(U.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U.charAt(0)=="-")return O(y(U.substring(1),x));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(x,8)),B=C,H=0;H<U.length;H+=8){var X=Math.min(8,U.length-H),D=parseInt(U.substring(H,H+X),x);8>X?(X=m(Math.pow(x,X)),B=B.j(X).add(m(D))):(B=B.j(P),B=B.add(m(D)))}return B}var C=d(0),A=d(1),b=d(16777216);n=l.prototype,n.m=function(){if(L(this))return-O(this).m();for(var U=0,x=1,P=0;P<this.g.length;P++){var B=this.i(P);U+=(0<=B?B:4294967296+B)*x,x*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(I(this))return"0";if(L(this))return"-"+O(this).toString(U);for(var x=m(Math.pow(U,6)),P=this,B="";;){var H=ae(P,x).g;P=Y(P,H.j(x));var X=((0<P.g.length?P.g[0]:P.h)>>>0).toString(U);if(P=H,I(P))return X+B;for(;6>X.length;)X="0"+X;B=X+B}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function I(U){if(U.h!=0)return!1;for(var x=0;x<U.g.length;x++)if(U.g[x]!=0)return!1;return!0}function L(U){return U.h==-1}n.l=function(U){return U=Y(this,U),L(U)?-1:I(U)?0:1};function O(U){for(var x=U.g.length,P=[],B=0;B<x;B++)P[B]=~U.g[B];return new l(P,~U.h).add(A)}n.abs=function(){return L(this)?O(this):this},n.add=function(U){for(var x=Math.max(this.g.length,U.g.length),P=[],B=0,H=0;H<=x;H++){var X=B+(this.i(H)&65535)+(U.i(H)&65535),D=(X>>>16)+(this.i(H)>>>16)+(U.i(H)>>>16);B=D>>>16,X&=65535,D&=65535,P[H]=D<<16|X}return new l(P,P[P.length-1]&-2147483648?-1:0)};function Y(U,x){return U.add(O(x))}n.j=function(U){if(I(this)||I(U))return C;if(L(this))return L(U)?O(this).j(O(U)):O(O(this).j(U));if(L(U))return O(this.j(O(U)));if(0>this.l(b)&&0>U.l(b))return m(this.m()*U.m());for(var x=this.g.length+U.g.length,P=[],B=0;B<2*x;B++)P[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<U.g.length;H++){var X=this.i(B)>>>16,D=this.i(B)&65535,nt=U.i(H)>>>16,St=U.i(H)&65535;P[2*B+2*H]+=D*St,q(P,2*B+2*H),P[2*B+2*H+1]+=X*St,q(P,2*B+2*H+1),P[2*B+2*H+1]+=D*nt,q(P,2*B+2*H+1),P[2*B+2*H+2]+=X*nt,q(P,2*B+2*H+2)}for(B=0;B<x;B++)P[B]=P[2*B+1]<<16|P[2*B];for(B=x;B<2*x;B++)P[B]=0;return new l(P,0)};function q(U,x){for(;(U[x]&65535)!=U[x];)U[x+1]+=U[x]>>>16,U[x]&=65535,x++}function Z(U,x){this.g=U,this.h=x}function ae(U,x){if(I(x))throw Error("division by zero");if(I(U))return new Z(C,C);if(L(U))return x=ae(O(U),x),new Z(O(x.g),O(x.h));if(L(x))return x=ae(U,O(x)),new Z(O(x.g),x.h);if(30<U.g.length){if(L(U)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var P=A,B=x;0>=B.l(U);)P=ve(P),B=ve(B);var H=we(P,1),X=we(B,1);for(B=we(B,2),P=we(P,2);!I(B);){var D=X.add(B);0>=D.l(U)&&(H=H.add(P),X=D),B=we(B,1),P=we(P,1)}return x=Y(U,H.j(x)),new Z(H,x)}for(H=C;0<=U.l(x);){for(P=Math.max(1,Math.floor(U.m()/x.m())),B=Math.ceil(Math.log(P)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),X=m(P),D=X.j(x);L(D)||0<D.l(U);)P-=B,X=m(P),D=X.j(x);I(X)&&(X=A),H=H.add(X),U=Y(U,D)}return new Z(H,U)}n.A=function(U){return ae(this,U).h},n.and=function(U){for(var x=Math.max(this.g.length,U.g.length),P=[],B=0;B<x;B++)P[B]=this.i(B)&U.i(B);return new l(P,this.h&U.h)},n.or=function(U){for(var x=Math.max(this.g.length,U.g.length),P=[],B=0;B<x;B++)P[B]=this.i(B)|U.i(B);return new l(P,this.h|U.h)},n.xor=function(U){for(var x=Math.max(this.g.length,U.g.length),P=[],B=0;B<x;B++)P[B]=this.i(B)^U.i(B);return new l(P,this.h^U.h)};function ve(U){for(var x=U.g.length+1,P=[],B=0;B<x;B++)P[B]=U.i(B)<<1|U.i(B-1)>>>31;return new l(P,U.h)}function we(U,x){var P=x>>5;x%=32;for(var B=U.g.length-P,H=[],X=0;X<B;X++)H[X]=0<x?U.i(X+P)>>>x|U.i(X+P+1)<<32-x:U.i(X+P);return new l(H,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,ga=l}).apply(typeof G4<"u"?G4:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e8,pc,t8,$d,Pg,n8,r8,i8;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(f,w){if(w)e:{var T=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var J=f[k];if(!(J in T))break e;T=T[J]}f=f[f.length-1],k=T[f],w=w(k),w!=k&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var T=0,k=!1,J={next:function(){if(!k&&T<f.length){var oe=T++;return{value:w(oe,f[oe]),done:!1}}return k=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function m(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function y(f,w,T){return f.call.apply(f.bind,arguments)}function C(f,w,T){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,k),f.apply(w,J)}}return function(){return f.apply(w,arguments)}}function A(f,w,T){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:C,A.apply(null,arguments)}function b(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function I(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(k,J,oe){for(var Re=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Re[bt-2]=arguments[bt];return w.prototype[J].apply(k,Re)}}function L(f){const w=f.length;if(0<w){const T=Array(w);for(let k=0;k<w;k++)T[k]=f[k];return T}return[]}function O(f,w){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(d(k)){const J=f.length||0,oe=k.length||0;f.length=J+oe;for(let Re=0;Re<oe;Re++)f[J+Re]=k[Re]}else f.push(k)}}class Y{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function q(f){return/^[\s\xa0]*$/.test(f)}function Z(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ae(f){return ae[" "](f),f}ae[" "]=function(){};var ve=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function we(f,w,T){for(const k in f)w.call(T,f[k],k,f)}function U(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function x(f){const w={};for(const T in f)w[T]=f[T];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,w){let T,k;for(let J=1;J<arguments.length;J++){k=arguments[J];for(T in k)f[T]=k[T];for(let oe=0;oe<P.length;oe++)T=P[oe],Object.prototype.hasOwnProperty.call(k,T)&&(f[T]=k[T])}}function H(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function X(f){h.setTimeout(()=>{throw f},0)}function D(){var f=De;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class nt{constructor(){this.h=this.g=null}add(w,T){const k=St.get();k.set(w,T),this.h?this.h.next=k:this.g=k,this.h=k}}var St=new Y(()=>new dt,f=>f.reset());class dt{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Ce=!1,De=new nt,K=()=>{const f=h.Promise.resolve(void 0);Ge=()=>{f.then(j)}};var j=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(T){X(T)}var w=St;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}Ce=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,w),h.removeEventListener("test",T,w)}catch{}return f}();function he(f,w){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(ve){e:{try{ae(w.nodeName);var J=!0;break e}catch{}J=!1}J||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}I(he,se);var pe={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Te(f,w,T,k,J){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!k,this.ha=J,this.key=++ke,this.da=this.fa=!1}function Ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ft(f){this.src=f,this.g={},this.h=0}ft.prototype.add=function(f,w,T,k,J){var oe=f.toString();f=this.g[oe],f||(f=this.g[oe]=[],this.h++);var Re=it(f,w,k,J);return-1<Re?(w=f[Re],T||(w.fa=!1)):(w=new Te(w,this.src,oe,!!k,J),w.fa=T,f.push(w)),w};function Ke(f,w){var T=w.type;if(T in f.g){var k=f.g[T],J=Array.prototype.indexOf.call(k,w,void 0),oe;(oe=0<=J)&&Array.prototype.splice.call(k,J,1),oe&&(Ye(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function it(f,w,T,k){for(var J=0;J<f.length;++J){var oe=f[J];if(!oe.da&&oe.listener==w&&oe.capture==!!T&&oe.ha==k)return J}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Bn={};function nn(f,w,T,k,J){if(Array.isArray(w)){for(var oe=0;oe<w.length;oe++)nn(f,w[oe],T,k,J);return null}return T=Pr(T),f&&f[Pe]?f.K(w,T,m(k)?!!k.capture:!1,J):rn(f,w,T,!1,k,J)}function rn(f,w,T,k,J,oe){if(!w)throw Error("Invalid event type");var Re=m(J)?!!J.capture:!!J,bt=_r(f);if(bt||(f[kt]=bt=new ft(f)),T=bt.add(w,T,k,Re,oe),T.proxy)return T;if(k=Ai(),T.proxy=k,k.src=f,k.listener=T,f.addEventListener)le||(J=Re),J===void 0&&(J=!1),f.addEventListener(w.toString(),k,J);else if(f.attachEvent)f.attachEvent(br(w.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ai(){function f(T){return w.call(f.src,f.listener,T)}const w=yr;return f}function zn(f,w,T,k,J){if(Array.isArray(w))for(var oe=0;oe<w.length;oe++)zn(f,w[oe],T,k,J);else k=m(k)?!!k.capture:!!k,T=Pr(T),f&&f[Pe]?(f=f.i,w=String(w).toString(),w in f.g&&(oe=f.g[w],T=it(oe,T,k,J),-1<T&&(Ye(oe[T]),Array.prototype.splice.call(oe,T,1),oe.length==0&&(delete f.g[w],f.h--)))):f&&(f=_r(f))&&(w=f.g[w.toString()],f=-1,w&&(f=it(w,T,k,J)),(T=-1<f?w[f]:null)&&jn(T))}function jn(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Pe])Ke(w.i,f);else{var T=f.type,k=f.proxy;w.removeEventListener?w.removeEventListener(T,k,f.capture):w.detachEvent?w.detachEvent(br(T),k):w.addListener&&w.removeListener&&w.removeListener(k),(T=_r(w))?(Ke(T,f),T.h==0&&(T.src=null,w[kt]=null)):Ye(f)}}}function br(f){return f in Bn?Bn[f]:Bn[f]="on"+f}function yr(f,w){if(f.da)f=!0;else{w=new he(w,this);var T=f.listener,k=f.ha||f.src;f.fa&&jn(f),f=T.call(k,w)}return f}function _r(f){return f=f[kt],f instanceof ft?f:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pr(f){return typeof f=="function"?f:(f[kr]||(f[kr]=function(w){return f.handleEvent(w)}),f[kr])}function Pt(){M.call(this),this.i=new ft(this),this.M=this,this.F=null}I(Pt,M),Pt.prototype[Pe]=!0,Pt.prototype.removeEventListener=function(f,w,T,k){zn(this,f,w,T,k)};function Yt(f,w){var T,k=f.F;if(k)for(T=[];k;k=k.F)T.push(k);if(f=f.M,k=w.type||w,typeof w=="string")w=new se(w,f);else if(w instanceof se)w.target=w.target||f;else{var J=w;w=new se(k,f),B(w,J)}if(J=!0,T)for(var oe=T.length-1;0<=oe;oe--){var Re=w.g=T[oe];J=kn(Re,k,!0,w)&&J}if(Re=w.g=f,J=kn(Re,k,!0,w)&&J,J=kn(Re,k,!1,w)&&J,T)for(oe=0;oe<T.length;oe++)Re=w.g=T[oe],J=kn(Re,k,!1,w)&&J}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],k=0;k<T.length;k++)Ye(T[k]);delete f.g[w],f.h--}}this.F=null},Pt.prototype.K=function(f,w,T,k){return this.i.add(String(f),w,!1,T,k)},Pt.prototype.L=function(f,w,T,k){return this.i.add(String(f),w,!0,T,k)};function kn(f,w,T,k){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,oe=0;oe<w.length;++oe){var Re=w[oe];if(Re&&!Re.da&&Re.capture==T){var bt=Re.listener,Tn=Re.ha||Re.src;Re.fa&&Ke(f.i,Re),J=bt.call(Tn,k)!==!1&&J}}return J&&!k.defaultPrevented}function Cs(f,w,T){if(typeof f=="function")T&&(f=A(f,T));else if(f&&typeof f.handleEvent=="function")f=A(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:h.setTimeout(f,w||0)}function $n(f){f.g=Cs(()=>{f.g=null,f.i&&(f.i=!1,$n(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ri extends M{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(f){M.call(this),this.h=f,this.g={}}I(Wn,M);var Ts=[];function xr(f){we(f.g,function(w,T){this.g.hasOwnProperty(T)&&jn(w)},f),f.g={}}Wn.prototype.N=function(){Wn.aa.N.call(this),xr(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=h.JSON.stringify,Q=h.JSON.parse,ue=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Se(){}Se.prototype.h=null;function Ae(f){return f.h||(f.h=f.i())}function Ie(){}var Ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){se.call(this,"d")}I(Ne,se);function ze(){se.call(this,"c")}I(ze,se);var Be={},wt=null;function Ct(){return wt=wt||new Pt}Be.La="serverreachability";function Ot(f){se.call(this,Be.La,f)}I(Ot,se);function Tt(f){const w=Ct();Yt(w,new Ot(w))}Be.STAT_EVENT="statevent";function _n(f,w){se.call(this,Be.STAT_EVENT,f),this.stat=w}I(_n,se);function ot(f){const w=Ct();Yt(w,new _n(w,f))}Be.Ma="timingevent";function Kr(f,w){se.call(this,Be.Ma,f),this.size=w}I(Kr,se);function Dt(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},w)}function vr(){this.g=!0}vr.prototype.xa=function(){this.g=!1};function nr(f,w,T,k,J,oe){f.info(function(){if(f.g)if(oe)for(var Re="",bt=oe.split("&"),Tn=0;Tn<bt.length;Tn++){var mt=bt[Tn].split("=");if(1<mt.length){var Ln=mt[0];mt=mt[1];var mn=Ln.split("_");Re=2<=mn.length&&mn[1]=="type"?Re+(Ln+"="+mt+"&"):Re+(Ln+"=redacted&")}}else Re=null;else Re=oe;return"XMLHTTP REQ ("+k+") [attempt "+J+"]: "+w+`
`+T+`
`+Re})}function to(f,w,T,k,J,oe,Re){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+J+"]: "+w+`
`+T+`
`+oe+" "+Re})}function cn(f,w,T,k){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+si(f,T)+(k?" "+k:"")})}function qo(f,w){f.info(function(){return"TIMEOUT: "+w})}vr.prototype.info=function(){};function si(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var k=T[f];if(!(2>k.length)){var J=k[1];if(Array.isArray(J)&&!(1>J.length)){var oe=J[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var Re=1;Re<J.length;Re++)J[Re]=""}}}}return te(T)}catch{return w}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ua={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hn;function Ss(){}I(Ss,Se),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},hn=new Ss;function dn(f,w,T,k){this.j=f,this.i=w,this.l=T,this.R=k||1,this.U=new Wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var Nr={},no={};function Ii(f,w,T){f.L=1,f.v=Sr(fn(w)),f.m=T,f.P=!0,oi(f,null)}function oi(f,w){f.F=Date.now(),xt(f),f.A=fn(f.v);var T=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),wn(T.i,"t",k),f.C=0,T=f.j.J,f.h=new Ba,f.g=vh(f.j,T?w:null,!f.m),0<f.O&&(f.M=new Ri(A(f.Y,f,f.g),f.O)),w=f.U,T=f.g,k=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(Ts[0]=J.toString()),J=Ts);for(var oe=0;oe<J.length;oe++){var Re=nn(T,J[oe],k||w.handleEvent,!1,w.h||w);if(!Re)break;w.g[Re.key]=Re}w=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Tt(),nr(f.i,f.u,f.A,f.l,f.R,f.m)}dn.prototype.ca=function(f){f=f.target;const w=this.M;w&&Dr(f)==3?w.j():this.Y(f)},dn.prototype.Y=function(f){try{if(f==this.g)e:{const mn=Dr(this.g);var w=this.g.Ba();const fi=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||mn!=4||w==7||(w==8||0>=fi?Tt(3):Tt(2)),Hn(this);var T=this.g.Z();this.X=T;t:if(za(this)){var k=Eu(this.g);f="";var J=k.length,oe=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),li(this);var Re="";break t}this.h.i=new h.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,f+=this.h.i.decode(k[w],{stream:!(oe&&w==J-1)});k.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=T==200,to(this.i,this.u,this.A,this.l,this.R,mn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Tn=this.g;if((bt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(bt)){var mt=bt;break t}}mt=null}if(T=mt)cn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ui(this,T);else{this.o=!1,this.s=3,ot(12),Lr(this),li(this);break e}}if(this.P){T=!0;let Yr;for(;!this.J&&this.C<Re.length;)if(Yr=ai(this,Re),Yr==no){mn==4&&(this.s=4,ot(14),T=!1),cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Yr==Nr){this.s=4,ot(15),cn(this.i,this.l,Re,"[Invalid Chunk]"),T=!1;break}else cn(this.i,this.l,Yr,null),ui(this,Yr);if(za(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||Re.length!=0||this.h.h||(this.s=1,ot(16),T=!1),this.o=this.o&&T,!T)cn(this.i,this.l,Re,"[Invalid Chunked Response]"),Lr(this),li(this);else if(0<Re.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Tu(Ln),Ln.M=!0,ot(11))}}else cn(this.i,this.l,Re,null),ui(this,Re);mn==4&&Lr(this),this.o&&!this.J&&(mn==4?Xa(this.j,this):(this.o=!1,xt(this)))}else qa(this.g),T==400&&0<Re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Lr(this),li(this)}}}catch{}finally{}};function za(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ai(f,w){var T=f.C,k=w.indexOf(`
`,T);return k==-1?no:(T=Number(w.substring(T,k)),isNaN(T)?Nr:(k+=1,k+T>w.length?no:(w=w.slice(k,k+T),f.C=k+T,w)))}dn.prototype.cancel=function(){this.J=!0,Lr(this)};function xt(f){f.S=Date.now()+f.I,wr(f,f.I)}function wr(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Dt(A(f.ba,f),w)}function Hn(f){f.B&&(h.clearTimeout(f.B),f.B=null)}dn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(qo(this.i,this.A),this.L!=2&&(Tt(),ot(17)),Lr(this),this.s=2,li(this)):wr(this,this.S-f)};function li(f){f.j.G==0||f.J||Xa(f.j,f)}function Lr(f){Hn(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,xr(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function ui(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||qn(T.h,f))){if(!f.K&&qn(T.h,f)&&T.G==3){try{var k=T.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var J=k;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Ya(T),Ni(T);else break e;Qa(T),ot(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=Dt(A(T.Za,T),6e3));if(1>=bi(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ks(T,11)}else if((f.K||T.g==f)&&Ya(T),!q(w))for(J=T.Da.g.parse(w),w=0;w<J.length;w++){let mt=J[w];if(T.T=mt[0],mt=mt[1],T.G==2)if(mt[0]=="c"){T.K=mt[1],T.ia=mt[2];const Ln=mt[3];Ln!=null&&(T.la=Ln,T.j.info("VER="+T.la));const mn=mt[4];mn!=null&&(T.Aa=mn,T.j.info("SVER="+T.Aa));const fi=mt[5];fi!=null&&typeof fi=="number"&&0<fi&&(k=1.5*fi,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Yr=f.g;if(Yr){const Yo=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var oe=k.h;oe.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(ci(oe,oe.h),oe.h=null))}if(k.D){const Ja=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(k.ya=Ja,pt(k.I,k.D,Ja))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var Re=f;if(k.qa=_h(k,k.J?k.ia:null,k.W),Re.K){Yi(k.h,Re);var bt=Re,Tn=k.L;Tn&&(bt.I=Tn),bt.B&&(Hn(bt),xt(bt)),k.g=Re}else Qo(k);0<T.i.length&&Ji(T)}else mt[0]!="stop"&&mt[0]!="close"||ks(T,7);else T.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ks(T,7):Qn(T):mt[0]!="noop"&&T.l&&T.l.ta(mt),T.v=0)}}Tt(4)}catch{}}var ja=class{constructor(f,w){this.g=f,this.map=w}};function Or(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Er(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bi(f){return f.h?1:f.g?f.g.size:0}function qn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function ci(f,w){f.g?f.g.add(w):f.h=w}function Yi(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Or.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $a(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return L(f.i)}function Cr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],T=f.length,k=0;k<T;k++)w.push(f[k]);return w}w=[],T=0;for(k in f)w[T++]=f[k];return w}function ro(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const k in f)w[T++]=k;return w}}}function hi(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=ro(f),k=Cr(f),J=k.length,oe=0;oe<J;oe++)w.call(void 0,k[oe],T&&T[oe],f)}var rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var k=f[T].indexOf("="),J=null;if(0<=k){var oe=f[T].substring(0,k);J=f[T].substring(k+1)}else oe=f[T];w(oe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function di(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof di){this.h=f.h,Xi(this,f.j),this.o=f.o,this.g=f.g,Tr(this,f.s),this.l=f.l;var w=f.i,T=new It;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),ki(this,T),this.m=f.m}else f&&(w=String(f).match(rr))?(this.h=!1,Xi(this,w[1]||"",!0),this.o=u(w[2]||""),this.g=u(w[3]||"",!0),Tr(this,w[4]),this.l=u(w[5]||"",!0),ki(this,w[6]||"",!0),this.m=u(w[7]||"")):(this.h=!1,this.i=new It(null,this.h))}di.prototype.toString=function(){var f=[],w=this.j;w&&f.push(_(w,N,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(_(w,N,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(_(T,T.charAt(0)=="/"?me:$,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",_(T,vn)),f.join("")};function fn(f){return new di(f)}function Xi(f,w,T){f.j=T?u(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Tr(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function ki(f,w,T){w instanceof It?(f.i=w,Gn(f.i,f.h)):(T||(w=_(w,Ft)),f.i=new It(w,f.h))}function pt(f,w,T){f.i.set(w,T)}function Sr(f){return pt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function u(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,S),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function S(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var N=/[#\/\?@]/g,$=/[#\?:]/g,me=/[#\?]/g,Ft=/[#\?@]/g,vn=/#/g;function It(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function lt(f){f.g||(f.g=new Map,f.h=0,f.i&&As(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}n=It.prototype,n.add=function(f,w){lt(this),this.i=null,f=En(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function pn(f,w){lt(f),w=En(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Mt(f,w){return lt(f),w=En(f,w),f.g.has(w)}n.forEach=function(f,w){lt(this),this.g.forEach(function(T,k){T.forEach(function(J){f.call(w,J,k,this)},this)},this)},n.na=function(){lt(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let k=0;k<w.length;k++){const J=f[k];for(let oe=0;oe<J.length;oe++)T.push(w[k])}return T},n.V=function(f){lt(this);let w=[];if(typeof f=="string")Mt(this,f)&&(w=w.concat(this.g.get(En(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},n.set=function(f,w){return lt(this),this.i=null,f=En(this,f),Mt(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function wn(f,w,T){pn(f,w),0<T.length&&(f.i=null,f.g.set(En(f,w),L(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var k=w[T];const oe=encodeURIComponent(String(k)),Re=this.V(k);for(k=0;k<Re.length;k++){var J=oe;Re[k]!==""&&(J+="="+encodeURIComponent(String(Re[k]))),f.push(J)}}return this.i=f.join("&")};function En(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Gn(f,w){w&&!f.j&&(lt(f),f.i=null,f.g.forEach(function(T,k){var J=k.toLowerCase();k!=J&&(pn(this,k),wn(this,J,T))},f)),f.j=w}function Pn(f,w){const T=new vr;if(h.Image){const k=new Image;k.onload=b(xn,T,"TestLoadImage: loaded",!0,w,k),k.onerror=b(xn,T,"TestLoadImage: error",!1,w,k),k.onabort=b(xn,T,"TestLoadImage: abort",!1,w,k),k.ontimeout=b(xn,T,"TestLoadImage: timeout",!1,w,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else w(!1)}function Cn(f,w){const T=new vr,k=new AbortController,J=setTimeout(()=>{k.abort(),xn(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:k.signal}).then(oe=>{clearTimeout(J),oe.ok?xn(T,"TestPingServer: ok",!0,w):xn(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),xn(T,"TestPingServer: error",!1,w)})}function xn(f,w,T,k,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),k(T)}catch{}}function Kn(){this.g=new ue}function Nn(f,w,T){const k=T||"";try{hi(f,function(J,oe){let Re=J;m(J)&&(Re=te(J)),w.push(k+oe+"="+encodeURIComponent(Re))})}catch(J){throw w.push(k+"type="+encodeURIComponent("_badmap")),J}}function Rs(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Rs,Se),Rs.prototype.g=function(){return new Go(this.l,this.j)},Rs.prototype.i=function(f){return function(){return f}}({});function Go(f,w){Pt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Go,Pt),n=Go.prototype,n.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,xi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||h).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ph(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ph(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Pi(this):xi(this),this.readyState==3&&ph(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Pi(this))},n.Qa=function(f){this.g&&(this.response=f,Pi(this))},n.ga=function(){this.g&&Pi(this)};function Pi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,xi(f)}n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function xi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Is(f){let w="";return we(f,function(T,k){w+=k,w+=":",w+=T,w+=`\r
`}),w}function io(f,w,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Is(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):pt(f,w,T))}function Ht(f){Pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ht,Pt);var Op=/^https?$/i,vu=["POST","PUT"];n=Ht.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,w,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hn.g(),this.v=this.o?Ae(this.o):Ae(hn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(oe){Ko(this,oe);return}if(f=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var J in k)T.set(J,k[J]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const oe of k.keys())T.set(oe,k.get(oe));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(oe=>oe.toLowerCase()=="content-type"),J=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(vu,w,void 0))||k||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Re]of T)this.g.setRequestHeader(oe,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(f),this.u=!1}catch(oe){Ko(this,oe)}};function Ko(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Wa(f),Qr(f)}function Wa(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yt(this,"complete"),Yt(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},n.bb=function(){wu(this)};function wu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Dr(f)!=4||f.Z()!=2)){if(f.u&&Dr(f)==4)Cs(f.Ea,0,f);else if(Yt(f,"readystatechange"),Dr(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var k;if(k=Re===0){var J=String(f.D).match(rr)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),k=!Op.test(J?J.toLowerCase():"")}T=k}if(T)Yt(f,"complete"),Yt(f,"success");else{f.m=6;try{var oe=2<Dr(f)?f.g.statusText:""}catch{oe=""}f.l=oe+" ["+f.Z()+"]",Wa(f)}}finally{Qr(f)}}}}function Qr(f,w){if(f.g){Ha(f);const T=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Yt(f,"ready");try{T.onreadystatechange=k}catch{}}}function Ha(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Dr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Q(w)}};function Eu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(f){const w={};f=(f.g&&2<=Dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(q(f[k]))continue;var T=H(f[k]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const oe=w[J]||[];w[J]=oe,oe.push(T)}U(w,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function Cu(f){this.Aa=0,this.i=[],this.j=new vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zi("baseRetryDelayMs",5e3,f),this.cb=Zi("retryDelaySeedMs",1e4,f),this.Wa=Zi("forwardChannelMaxRetries",2,f),this.wa=Zi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Or(f&&f.concurrentRequestLimit),this.Da=new Kn,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Cu.prototype,n.la=8,n.G=1,n.connect=function(f,w,T,k){ot(0),this.W=f,this.H=w||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=_h(this,null,this.W),Ji(this)};function Qn(f){if(Ga(f),f.G==3){var w=f.U++,T=fn(f.I);if(pt(T,"SID",f.K),pt(T,"RID",w),pt(T,"TYPE","terminate"),bs(f,T),w=new dn(f,f.j,w),w.L=2,w.v=Sr(fn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=w.v,T=!0),T||(w.g=vh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xt(w)}yh(f)}function Ni(f){f.g&&(Tu(f),f.g.cancel(),f.g=null)}function Ga(f){Ni(f),f.u&&(h.clearTimeout(f.u),f.u=null),Ya(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ji(f){if(!Er(f.h)&&!f.s){f.s=!0;var w=f.Ga;Ge||K(),Ce||(Ge(),Ce=!0),De.add(w,f),f.B=0}}function Dp(f,w){return bi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Dt(A(f.Ga,f,w),gh(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new dn(this,this.j,f);let oe=this.o;if(this.S&&(oe?(oe=x(oe),B(oe,this.S)):oe=this.S),this.m!==null||this.O||(J.H=oe,oe=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=so(this,J,w),T=fn(this.I),pt(T,"RID",f),pt(T,"CVER",22),this.D&&pt(T,"X-HTTP-Session-Id",this.D),bs(this,T),oe&&(this.O?w="headers="+encodeURIComponent(String(Is(oe)))+"&"+w:this.m&&io(T,this.m,oe)),ci(this.h,J),this.Ua&&pt(T,"TYPE","init"),this.P?(pt(T,"$req",w),pt(T,"SID","null"),J.T=!0,Ii(J,T,null)):Ii(J,T,w),this.G=2}}else this.G==3&&(f?Ka(this,f):this.i.length==0||Er(this.h)||Ka(this))};function Ka(f,w){var T;w?T=w.l:T=f.U++;const k=fn(f.I);pt(k,"SID",f.K),pt(k,"RID",T),pt(k,"AID",f.T),bs(f,k),f.m&&f.o&&io(k,f.m,f.o),T=new dn(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=so(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ci(f.h,T),Ii(T,k,w)}function bs(f,w){f.H&&we(f.H,function(T,k){pt(w,k,T)}),f.l&&hi({},function(T,k){pt(w,k,T)})}function so(f,w,T){T=Math.min(f.i.length,T);var k=f.l?A(f.l.Na,f.l,f):null;e:{var J=f.i;let oe=-1;for(;;){const Re=["count="+T];oe==-1?0<T?(oe=J[0].g,Re.push("ofs="+oe)):oe=0:Re.push("ofs="+oe);let bt=!0;for(let Tn=0;Tn<T;Tn++){let mt=J[Tn].g;const Ln=J[Tn].map;if(mt-=oe,0>mt)oe=Math.max(0,J[Tn].g-100),bt=!1;else try{Nn(Ln,Re,"req"+mt+"_")}catch{k&&k(Ln)}}if(bt){k=Re.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,k}function Qo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Ge||K(),Ce||(Ge(),Ce=!0),De.add(w,f),f.v=0}}function Qa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Dt(A(f.Fa,f),gh(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Dt(A(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ni(this),mh(this))};function Tu(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function mh(f){f.g=new dn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=fn(f.qa);pt(w,"RID","rpc"),pt(w,"SID",f.K),pt(w,"AID",f.T),pt(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&pt(w,"TO",f.ja),pt(w,"TYPE","xmlhttp"),bs(f,w),f.m&&f.o&&io(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Sr(fn(w)),T.m=null,T.P=!0,oi(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Ni(this),Qa(this),ot(19))};function Ya(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Xa(f,w){var T=null;if(f.g==w){Ya(f),Tu(f),f.g=null;var k=2}else if(qn(f.h,w))T=w.D,Yi(f.h,w),k=1;else return;if(f.G!=0){if(w.o)if(k==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var J=f.B;k=Ct(),Yt(k,new Kr(k,T)),Ji(f)}else Qo(f);else if(J=w.s,J==3||J==0&&0<w.X||!(k==1&&Dp(f,w)||k==2&&Qa(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),J){case 1:ks(f,5);break;case 4:ks(f,10);break;case 3:ks(f,6);break;default:ks(f,2)}}}function gh(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function ks(f,w){if(f.j.info("Error code "+w),w==2){var T=A(f.fb,f),k=f.Xa;const J=!k;k=new di(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Xi(k,"https"),Sr(k),J?Pn(k.toString(),T):Cn(k.toString(),T)}else ot(2);f.G=0,f.l&&f.l.sa(w),yh(f),Ga(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function yh(f){if(f.G=0,f.ka=[],f.l){const w=$a(f.h);(w.length!=0||f.i.length!=0)&&(O(f.ka,w),O(f.ka,f.i),f.h.i.length=0,L(f.i),f.i.length=0),f.l.ra()}}function _h(f,w,T){var k=T instanceof di?fn(T):new di(T);if(k.g!="")w&&(k.g=w+"."+k.g),Tr(k,k.s);else{var J=h.location;k=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var oe=new di(null);k&&Xi(oe,k),w&&(oe.g=w),J&&Tr(oe,J),T&&(oe.l=T),k=oe}return T=f.D,w=f.ya,T&&w&&pt(k,T,w),pt(k,"VER",f.la),bs(f,k),k}function vh(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Ht(new Rs({eb:T})):new Ht(f.pa),w.Ha(f.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}n=Su.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Za(){}Za.prototype.g=function(f,w){return new Ar(f,w)};function Ar(f,w){Pt.call(this),this.g=new Cu(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!q(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!q(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new es(this)}I(Ar,Pt),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Qn(this.g)},Ar.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=te(f),f=T);w.i.push(new ja(w.Ya++,f)),w.G==3&&Ji(w)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Qn(this.g),delete this.g,Ar.aa.N.call(this)};function wh(f){Ne.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}I(wh,Ne);function Eh(){ze.call(this),this.status=1}I(Eh,ze);function es(f){this.g=f}I(es,Su),es.prototype.ua=function(){Yt(this.g,"a")},es.prototype.ta=function(f){Yt(this.g,new wh(f))},es.prototype.sa=function(f){Yt(this.g,new Eh)},es.prototype.ra=function(){Yt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,i8=function(){return new Za},r8=function(){return Ct()},n8=Be,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,$d=Qi,Ua.COMPLETE="complete",t8=Ua,Ie.EventType=Ve,Ve.OPEN="a",Ve.CLOSE="b",Ve.ERROR="c",Ve.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,pc=Ie,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,e8=Ht}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const K4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new lp("@firebase/firestore");function Cl(){return Aa.logLevel}function Le(n,...e){if(Aa.logLevel<=at.DEBUG){const t=e.map(ry);Aa.debug(`Firestore (${mu}): ${n}`,...t)}}function Ys(n,...e){if(Aa.logLevel<=at.ERROR){const t=e.map(ry);Aa.error(`Firestore (${mu}): ${n}`,...t)}}function Gl(n,...e){if(Aa.logLevel<=at.WARN){const t=e.map(ry);Aa.warn(`Firestore (${mu}): ${n}`,...t)}}function ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+n;throw Ys(e),new Error(e)}function Rt(n,e){n||Xe()}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ur.UNAUTHENTICATED))}shutdown(){}}class jV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $V{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new s8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new ur(e)}}class WV{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HV{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WV(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Rt(this.o===void 0);const r=o=>{o.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt(typeof t.token=="string"),this.R=t.token,new qV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function ct(n,e){return n<e?-1:n>e?1:0}function Kl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new In(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new In(0,0))}static max(){return new Ze(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends Mc{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Mc{construct(e,t,r){return new er(e,t,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new je(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new je(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new je(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(o(),i++)}if(o(),l)throw new je(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(t)}static emptyPath(){return new er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Gt.fromString(e))}static fromName(e){return new He(Gt.fromString(e).popFirst(5))}static empty(){return new He(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Gt(e.slice()))}}function YV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new In(t+1,0):new In(t,r));return new Mo(i,He.empty(),e)}function XV(n){return new Mo(n.readTime,n.key,-1)}class Mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mo(Ze.min(),He.empty(),-1)}static max(){return new Mo(Ze.max(),He.empty(),-1)}}function ZV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==JV)throw n;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,o=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next(y=>{l[m]=y,++h,h===o&&r(l)},y=>i(y))}})}static doWhile(e,t){return new ce((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function tF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_p.oe=-1;function vp(n){return n==null}function wf(n){return n===0&&1/n==-1/0}function nF(n){return typeof n=="number"&&Number.isInteger(n)&&!wf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q4(e)),e=iF(n.get(t),e);return Q4(e)}function iF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Q4(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function La(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t){this.comparator=e,this.root=t||Zn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=o??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Zn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X4(this.data.getIterator())}getIteratorFrom(e){return new X4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class X4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new zi([])}unionWith(e){let t=new bn(er.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new l8("Invalid base64 string: "+o):o}}(e);return new tr(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const sF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(n){if(Rt(!!n),typeof n=="string"){let e=0;const t=sF.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(n.seconds),nanos:un(n.nanos)}}function un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fo(n){return typeof n=="string"?tr.fromBase64String(n):tr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function wp(n){const e=n.mapValue.fields.__previous_value__;return iy(e)?wp(e):e}function Vc(n){const e=Vo(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,t,r,i,o,l,h,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}class Fc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:lF(n)?9007199254740991:aF(n)?10:11:Xe()}function ps(n,e){if(n===e)return!0;const t=Uo(n);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vc(n).isEqual(Vc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Vo(i.timestampValue),h=Vo(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Fo(i.bytesValue).isEqual(Fo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return un(i.geoPointValue.latitude)===un(o.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return un(i.integerValue)===un(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=un(i.doubleValue),h=un(o.doubleValue);return l===h?wf(l)===wf(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Kl(n.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},h=o.mapValue.fields||{};if(Y4(l)!==Y4(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!ps(l[d],h[d])))return!1;return!0}(n,e);default:return Xe()}}function Uc(n,e){return(n.values||[]).find(t=>ps(t,e))!==void 0}function Ql(n,e){if(n===e)return 0;const t=Uo(n),r=Uo(e);if(t!==r)return ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=un(o.integerValue||o.doubleValue),d=un(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return Z4(n.timestampValue,e.timestampValue);case 4:return Z4(Vc(n),Vc(e));case 5:return ct(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Fo(o),d=Fo(l);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),d=l.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=ct(h[m],d[m]);if(y!==0)return y}return ct(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=ct(un(o.latitude),un(l.latitude));return h!==0?h:ct(un(o.longitude),un(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J4(n.arrayValue,e.arrayValue);case 10:return function(o,l){var h,d,m,y;const C=o.fields||{},A=l.fields||{},b=(h=C.value)===null||h===void 0?void 0:h.arrayValue,I=(d=A.value)===null||d===void 0?void 0:d.arrayValue,L=ct(((m=b==null?void 0:b.values)===null||m===void 0?void 0:m.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:J4(b,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Rd.mapValue&&l===Rd.mapValue)return 0;if(o===Rd.mapValue)return 1;if(l===Rd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const A=ct(d[C],y[C]);if(A!==0)return A;const b=Ql(h[d[C]],m[y[C]]);if(b!==0)return b}return ct(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function Z4(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=Vo(n),r=Vo(e),i=ct(t.seconds,r.seconds);return i!==0?i:ct(t.nanos,r.nanos)}function J4(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ql(t[i],r[i]);if(o)return o}return ct(t.length,r.length)}function Yl(n){return xg(n)}function xg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Vo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=xg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${xg(t.fields[l])}`;return i+"}"}(n.mapValue):Xe()}function Wd(n){switch(Uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wp(n);return e?16+Wd(e):16;case 5:return 2*n.stringValue.length;case 6:return Fo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Wd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return La(r.fields,(o,l)=>{i+=o.length+Wd(l)}),i}(n.mapValue);default:throw Xe()}}function Ng(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function e3(n){return!!n&&"nullValue"in n}function t3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hd(n){return!!n&&"mapValue"in n}function aF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ac(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return La(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ac(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=er.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=Ac(l):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){La(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ei(Ac(this.value))}}function u8(n){const e=[];return La(n.fields,(t,r)=>{const i=new er([t]);if(Hd(r)){const o=u8(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,r,i,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new dr(e,0,Ze.min(),Ze.min(),Ze.min(),Ei.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Ze.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Ze.min(),Ze.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Ze.min(),Ze.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function n3(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),t.key):r=Ql(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function r3(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ps(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function uF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{}class Rn extends c8{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hF(e,t,r):t==="array-contains"?new pF(e,r):t==="in"?new mF(e,r):t==="not-in"?new gF(e,r):t==="array-contains-any"?new yF(e,r):new Rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dF(e,r):new fF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ql(t,this.value)):t!==null&&Uo(this.value)===Uo(t)&&this.matchesComparison(Ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends c8{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ms(e,t)}matches(e){return h8(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h8(n){return n.op==="and"}function d8(n){return cF(n)&&h8(n)}function cF(n){for(const e of n.filters)if(e instanceof ms)return!1;return!0}function Lg(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+Yl(n.value);if(d8(n))return n.filters.map(e=>Lg(e)).join(",");{const e=n.filters.map(t=>Lg(t)).join(",");return`${n.op}(${e})`}}function f8(n,e){return n instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.field.isEqual(i.field)&&ps(r.value,i.value)}(n,e):n instanceof ms?function(r,i){return i instanceof ms&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,h)=>o&&f8(l,i.filters[h]),!0):!1}(n,e):void Xe()}function p8(n){return n instanceof Rn?function(t){return`${t.field.canonicalString()} ${t.op} ${Yl(t.value)}`}(n):n instanceof ms?function(t){return t.op.toString()+" {"+t.getFilters().map(p8).join(" ,")+"}"}(n):"Filter"}class hF extends Rn{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class dF extends Rn{constructor(e,t){super(e,"in",t),this.keys=m8("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fF extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=m8("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class pF extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sy(t)&&Uc(t.arrayValue,this.value)}}class mF extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uc(this.value.arrayValue,t)}}class gF extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Uc(this.value.arrayValue,t)}}class yF extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,t=null,r=[],i=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=h,this.ue=null}}function i3(n,e=null,t=[],r=[],i=null,o=null,l=null){return new _F(n,e,t,r,i,o,l)}function oy(n){const e=Je(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),vp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yl(r)).join(",")),e.ue=t}return e.ue}function ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r3(n.startAt,e.startAt)&&r3(n.endAt,e.endAt)}function Og(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t=null,r=[],i=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vF(n,e,t,r,i,o,l,h){return new Ep(n,e,t,r,i,o,l,h)}function ly(n){return new Ep(n)}function s3(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wF(n){return n.collectionGroup!==null}function Rc(n){const e=Je(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new bn(er.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Cf(o,r))}),t.has(er.keyField().canonicalString())||e.ce.push(new Cf(er.keyField(),r))}return e.ce}function hs(n){const e=Je(n);return e.le||(e.le=EF(e,Rc(n))),e.le}function EF(n,e){if(n.limitType==="F")return i3(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Cf(i.field,o)});const t=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return i3(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Dg(n,e,t){return new Ep(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cp(n,e){return ay(hs(n),hs(e))&&n.limitType===e.limitType}function g8(n){return`${oy(hs(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>p8(i)).join(", ")}]`),vp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Yl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Yl(i)).join(",")),`Target(${r})`}(hs(n))}; limitType=${n.limitType})`}function Tp(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,h,d){const m=n3(l,h,d);return l.inclusive?m<=0:m<0}(r.startAt,Rc(r),i)||r.endAt&&!function(l,h,d){const m=n3(l,h,d);return l.inclusive?m>=0:m>0}(r.endAt,Rc(r),i))}(n,e)}function CF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function y8(n){return(e,t)=>{let r=!1;for(const i of Rc(n)){const o=TF(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function TF(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,h){const d=l.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Ql(d,m):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return a8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new tn(He.comparator);function Xs(){return SF}const _8=new tn(He.comparator);function mc(...n){let e=_8;for(const t of n)e=e.insert(t.key,t);return e}function v8(n){let e=_8;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return Ic()}function w8(){return Ic()}function Ic(){return new Oa(n=>n.toString(),(n,e)=>n.isEqual(e))}const AF=new tn(He.comparator),RF=new bn(He.comparator);function ut(...n){let e=RF;for(const t of n)e=e.add(t);return e}const IF=new bn(ct);function bF(){return IF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function E8(n){return{integerValue:""+n}}function kF(n,e){return nF(e)?E8(e):uy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this._=void 0}}function PF(n,e,t){return n instanceof Tf?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iy(o)&&(o=wp(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Bc?T8(n,e):n instanceof zc?S8(n,e):function(i,o){const l=C8(i,o),h=o3(l)+o3(i.Pe);return Ng(l)&&Ng(i.Pe)?E8(h):uy(i.serializer,h)}(n,e)}function xF(n,e,t){return n instanceof Bc?T8(n,e):n instanceof zc?S8(n,e):t}function C8(n,e){return n instanceof Sf?function(r){return Ng(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Tf extends Sp{}class Bc extends Sp{constructor(e){super(),this.elements=e}}function T8(n,e){const t=A8(e);for(const r of n.elements)t.some(i=>ps(i,r))||t.push(r);return{arrayValue:{values:t}}}class zc extends Sp{constructor(e){super(),this.elements=e}}function S8(n,e){let t=A8(e);for(const r of n.elements)t=t.filter(i=>!ps(i,r));return{arrayValue:{values:t}}}class Sf extends Sp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function o3(n){return un(n.integerValue||n.doubleValue)}function A8(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Bc&&i instanceof Bc||r instanceof zc&&i instanceof zc?Kl(r.elements,i.elements,ps):r instanceof Sf&&i instanceof Sf?ps(r.Pe,i.Pe):r instanceof Tf&&i instanceof Tf}(n.transform,e.transform)}class LF{constructor(e,t){this.version=e,this.transformResults=t}}class ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ap{}function R8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new b8(n.key,ds.none()):new uh(n.key,n.data,ds.none());{const t=n.data,r=Ei.empty();let i=new bn(er.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Da(n.key,r,new zi(i.toArray()),ds.none())}}function OF(n,e,t){n instanceof uh?function(i,o,l){const h=i.value.clone(),d=l3(i.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Da?function(i,o,l){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const h=l3(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(I8(i)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function bc(n,e,t,r){return n instanceof uh?function(o,l,h,d){if(!qd(o.precondition,l))return h;const m=o.value.clone(),y=u3(o.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Da?function(o,l,h,d){if(!qd(o.precondition,l))return h;const m=u3(o.fieldTransforms,d,l),y=l.data;return y.setAll(I8(o)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(C=>C.field))}(n,e,t,r):function(o,l,h){return qd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(n,e,t)}function DF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=C8(r.transform,i||null);o!=null&&(t===null&&(t=Ei.empty()),t.set(r.field,o))}return t||null}function a3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kl(r,i,(o,l)=>NF(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uh extends Ap{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Da extends Ap{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function I8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function l3(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,h=e.data.field(o.field);r.set(o.field,xF(l,h,t[i]))}return r}function u3(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,PF(o,l,e))}return r}class b8 extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MF extends Ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&OF(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=w8();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=t.has(i.key)?null:h;const d=R8(l,h);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(t,r)=>a3(t,r))&&Kl(this.baseMutations,e.baseMutations,(t,r)=>a3(t,r))}}class cy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=function(){return AF}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new cy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,gt;function BF(n){switch(n){default:return Xe();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function k8(n){if(n===void 0)return Ys("GRPC error has no .code"),ye.UNKNOWN;switch(n){case yn.OK:return ye.OK;case yn.CANCELLED:return ye.CANCELLED;case yn.UNKNOWN:return ye.UNKNOWN;case yn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case yn.INTERNAL:return ye.INTERNAL;case yn.UNAVAILABLE:return ye.UNAVAILABLE;case yn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case yn.NOT_FOUND:return ye.NOT_FOUND;case yn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case yn.ABORTED:return ye.ABORTED;case yn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case yn.DATA_LOSS:return ye.DATA_LOSS;default:return Xe()}}(gt=yn||(yn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new ga([4294967295,4294967295],0);function c3(n){const e=zF().encode(n),t=new JE;return t.update(e),new Uint8Array(t.digest())}function h3(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ga([t,r],0),new ga([i,o],0)]}class hy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(r<0)throw new gc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ga.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(ga.fromNumber(r)));return i.compare(jF)===1&&(i=new ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=c3(e),[r,i]=h3(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);if(!this.de(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new hy(o,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Te===0)return;const t=c3(e),[r,i]=h3(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ch.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rp(Ze.min(),i,new tn(ct),Xs(),ut())}}class ch{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ch(r,t,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class P8{constructor(e,t){this.targetId=e,this.me=t}}class x8{constructor(e,t,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class d3{constructor(){this.fe=0,this.ge=f3(),this.pe=tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ut(),t=ut(),r=ut();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new ch(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=f3()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $F{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xs(),this.qe=Id(),this.Qe=Id(),this.Ke=new tn(ct)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(Og(o))if(r===0){const l=new He(o.path);this.We(t,l,dr.newNoDocument(l,Ze.min()))}else Rt(r===1);else{const l=this.Ze(t);if(l!==r){const h=this.Xe(e),d=h?this.et(h,e,l):1;if(d!==0){this.He(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,h;try{l=Fo(r).toUint8Array()}catch(d){if(d instanceof l8)return Gl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new hy(l,i,o)}catch(d){return Gl(d instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Le.nt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((o,l)=>{const h=this.Ye(l);if(h){if(o.current&&Og(h.target)){const d=new He(h.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,dr.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let r=ut();this.Qe.forEach((o,l)=>{let h=!0;l.forEachWhile(d=>{const m=this.Ye(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new Rp(e,t,this.Ke,this.ke,r);return this.ke=Xs(),this.qe=Id(),this.Qe=Id(),this.Ke=new tn(ct),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new d3,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bn(ct),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bn(ct),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new d3),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Id(){return new tn(He.comparator)}function f3(){return new tn(He.comparator)}const WF={asc:"ASCENDING",desc:"DESCENDING"},HF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qF={and:"AND",or:"OR"};class GF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mg(n,e){return n.useProto3Json||vp(e)?e:{value:e}}function Af(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KF(n,e){return Af(n,e.toTimestamp())}function fs(n){return Rt(!!n),Ze.fromTimestamp(function(t){const r=Vo(t);return new In(r.seconds,r.nanos)}(n))}function dy(n,e){return Vg(n,e).canonicalString()}function Vg(n,e){const t=function(i){return new Gt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L8(n){const e=Gt.fromString(n);return Rt(F8(e)),e}function Fg(n,e){return dy(n.databaseId,e.path)}function N1(n,e){const t=L8(e);if(t.get(1)!==n.databaseId.projectId)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new je(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(D8(t))}function O8(n,e){return dy(n.databaseId,e)}function QF(n){const e=L8(n);return e.length===4?Gt.emptyPath():D8(e)}function Ug(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D8(n){return Rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function p3(n,e,t){return{name:Fg(n,e),fields:t.value.mapValue.fields}}function YF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Rt(y===void 0||typeof y=="string"),tr.fromBase64String(y||"")):(Rt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),tr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const y=m.code===void 0?ye.UNKNOWN:k8(m.code);return new je(y,m.message||"")}(l);t=new x8(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=N1(n,r.document.name),o=fs(r.document.updateTime),l=r.document.createTime?fs(r.document.createTime):Ze.min(),h=new Ei({mapValue:{fields:r.document.fields}}),d=dr.newFoundDocument(i,o,l,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Gd(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=N1(n,r.document),o=r.readTime?fs(r.readTime):Ze.min(),l=dr.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Gd([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=N1(n,r.document),o=r.removedTargetIds||[];t=new Gd([],o,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new UF(i,o),h=r.targetId;t=new P8(h,l)}}return t}function XF(n,e){let t;if(e instanceof uh)t={update:p3(n,e.key,e.value)};else if(e instanceof b8)t={delete:Fg(n,e.key)};else if(e instanceof Da)t={update:p3(n,e.key,e.data),updateMask:oU(e.fieldMask)};else{if(!(e instanceof MF))return Xe();t={verify:Fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Tf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sf)return{fieldPath:l.field.canonicalString(),increment:h.Pe};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:KF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe()}(n,e.precondition)),t}function ZF(n,e){return n&&n.length>0?(Rt(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?fs(i.updateTime):fs(o);return l.isEqual(Ze.min())&&(l=fs(o)),new LF(l,i.transformResults||[])}(t,e))):[]}function JF(n,e){return{documents:[O8(n,e.path)]}}function eU(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=O8(n,i);const o=function(m){if(m.length!==0)return V8(ms.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(m){if(m.length!==0)return m.map(y=>function(A){return{field:Sl(A.field),direction:rU(A.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=Mg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:i}}function tU(n){let e=QF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(r===1);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(C){const A=M8(C);return A instanceof ms&&d8(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=function(C){return C.map(A=>function(I){return new Cf(Al(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(A))}(t.orderBy));let h=null;t.limit&&(h=function(C){let A;return A=typeof C=="object"?C.value:C,vp(A)?null:A}(t.limit));let d=null;t.startAt&&(d=function(C){const A=!!C.before,b=C.values||[];return new Ef(b,A)}(t.startAt));let m=null;return t.endAt&&(m=function(C){const A=!C.before,b=C.values||[];return new Ef(b,A)}(t.endAt)),vF(e,i,l,o,h,"F",d,m)}function nU(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M8(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Al(t.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Al(t.unaryFilter.field);return Rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Al(t.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Al(t.unaryFilter.field);return Rn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return Rn.create(Al(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ms.create(t.compositeFilter.filters.map(r=>M8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function rU(n){return WF[n]}function iU(n){return HF[n]}function sU(n){return qF[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function Al(n){return er.fromServerFormat(n.fieldPath)}function V8(n){return n instanceof Rn?function(t){if(t.op==="=="){if(t3(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(e3(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t3(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(e3(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:iU(t.op),value:t.value}}}(n):n instanceof ms?function(t){const r=t.getFilters().map(i=>V8(i));return r.length===1?r[0]:{compositeFilter:{op:sU(t.op),filters:r}}}(n):Xe()}function oU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F8(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t,r,i,o=Ze.min(),l=Ze.min(),h=tr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.ht=e}}function lU(n){const e=tU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.ln=new cU}addToCollectionParentIndex(e,t){return this.ln.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Mo.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class cU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Gt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Xl(0)}static Qn(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3([n,e],[t,r]){const i=ct(n,t);return i===0?ct(e,r):i}class hU{constructor(e){this.Gn=e,this.buffer=new bn(g3),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();g3(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yu(t)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await gu(t)}await this.Yn(3e5)})}}class fU{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(_p.oe);const r=new hU(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(m3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m3):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,l,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),i=this.params.maximumSequenceNumbersToCollect):i=C,l=Date.now(),this.nthSequenceNumber(e,i))).next(C=>(r=C,h=Date.now(),this.removeTargets(e,r,t))).next(C=>(o=C,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(m=Date.now(),Cl()<=at.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${C} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:C})))}}function pU(n,e){return new fU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bc(r.mutation,i,zi.empty(),In.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ut()){const i=pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=mc();return o.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let o=Xs();const l=Ic(),h=function(){return Ic()}();return t.forEach((d,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Da)?o=o.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),bc(y.mutation,m,y.mutation.getFieldMask(),In.now())):l.set(m.key,zi.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>l.set(m,y)),t.forEach((m,y)=>{var C;return h.set(m,new gU(y,(C=l.get(m))!==null&&C!==void 0?C:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ic();let i=new tn((l,h)=>l-h),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let y=r.get(d)||zi.empty();y=h.applyToLocalView(m,y),r.set(d,y);const C=(i.get(h.batchId)||ut()).add(d);i=i.insert(h.batchId,C)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,C=w8();y.forEach(A=>{if(!o.has(A)){const b=R8(t.get(A),r.get(A));b!==null&&C.set(A,b),o=o.add(A)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,C))}return ce.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):ce.resolve(pa());let h=-1,d=o;return l.next(m=>ce.forEach(m,(y,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),o.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(A=>{d=d.insert(y,A)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,ut())).next(y=>({batchId:h,changes:v8(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=mc();return this.indexManager.getCollectionParents(e,o).next(h=>ce.forEach(h,d=>{const m=function(C,A){return new Ep(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(y=>{y.forEach((C,A)=>{l=l.insert(C,A)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,dr.newInvalidDocument(y)))});let h=mc();return l.forEach((d,m)=>{const y=o.get(d);y!==void 0&&bc(y.mutation,m,zi.empty(),In.now()),Tp(t,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ce.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:lU(i.bundledQuery),readTime:fs(i.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.overlays=new tn(He.comparator),this.Er=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pa();return ce.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=pa(),o=t.length+1,l=new He(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new tn((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=pa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=pa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=i)););return ce.resolve(h)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FF(t,r));let o=this.Er.get(t);o===void 0&&(o=ut(),this.Er.set(t,o)),this.Er.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.dr=new bn(Fn.Ar),this.Rr=new bn(Fn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Fn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Fn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new He(new Gt([])),r=new Fn(t,e),i=new Fn(t,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new He(new Gt([])),r=new Fn(t,e),i=new Fn(t,e+1);let o=ut();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Fn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return He.comparator(e.key,t.key)||ct(e.br,t.br)}static Vr(e,t){return ct(e.br,t.br)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bn(Fn.Ar)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VF(o,t,r,i);this.mutationQueue.push(l);for(const h of i)this.vr=this.vr.add(new Fn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,t){return ce.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fn(t,0),i=new Fn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const h=this.Cr(l.br);o.push(h)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(ct);return t.forEach(i=>{const o=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],h=>{r=r.add(h.br)})}),ce.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const l=new Fn(new He(o),0);let h=new bn(ct);return this.vr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(h=h.add(d.br)),!0)},l),ce.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Rt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ce.forEach(t.mutations,i=>{const o=new Fn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Fn(t,0),i=this.vr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.Nr=e,this.docs=function(){return new tn(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Xs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Xs();const l=t.path,h=new He(l.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||ZV(XV(y),r)<=0||(i.has(y.key)||Tp(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Xe()}Lr(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TU(this)}getSize(e){return ce.resolve(this.size)}}class TU extends mU{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.persistence=e,this.Br=new Oa(t=>oy(t),ay),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new fy,this.targetCount=0,this.Qr=Xl.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ce.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Un(t),ce.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Br.forEach((l,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,t){this.Kr={},this.overlays={},this.$r=new _p(0),this.Ur=!1,this.Ur=!0,this.Wr=new wU,this.referenceDelegate=e(this),this.Gr=new SU(this),this.indexManager=new uU,this.remoteDocumentCache=function(i){return new CU(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new aU(t),this.jr=new _U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new EU(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new AU(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return ce.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class AU extends eF{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Zr=new fy,this.Xr=null}static ei(e){return new py(e)}get ti(){if(this.Xr)return this.Xr;throw Xe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ti,r=>{const i=He.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Ze.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ce.or([()=>ce.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Rf{constructor(e,t){this.persistence=e,this.ri=new Oa(r=>rF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pU(this,t)}static ei(e,t){return new Rf(e,t)}Hr(){}Jr(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ce.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?ce.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(h=>{h||(r++,o.removeEntry(l,Ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ce.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wd(e.data.value)),t}ir(e,t,r){return ce.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=ut(),i=ut();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new my(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return vx()?8:tF(pr())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new RU;return this.ts(e,t,l).next(h=>{if(o.result=h,this.Hi)return this.ns(e,t,l,h.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Cl()<=at.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ce.resolve()):(Cl()<=at.DEBUG&&Le("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Cl()<=at.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(t))):ce.resolve())}Xi(e,t){if(s3(t))return ce.resolve(null);let r=hs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Dg(t,null,"F"),r=hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=ut(...o);return this.Zi.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.rs(t,h);return this.ss(t,m,l,d.readTime)?this.Xi(e,Dg(t,null,"F")):this.os(e,m,t,d)}))})))}es(e,t,r,i){return s3(t)||i.isEqual(Ze.min())?ce.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(t,o);return this.ss(t,l,r,i)?ce.resolve(null):(Cl()<=at.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tl(t)),this.os(e,l,t,YV(i,-1)).next(h=>h))})}rs(e,t){let r=new bn(y8(e));return t.forEach((i,o)=>{Tp(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return Cl()<=at.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.Zi.getDocumentsMatchingQuery(e,t,Mo.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new tn(ct),this.cs=new Oa(o=>oy(o),ay),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function kU(n,e,t,r){return new bU(n,e,t,r)}async function B8(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],h=[];let d=ut();for(const m of i){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(m=>({Ts:m,removedBatchIds:l,addedBatchIds:h}))})})}function PU(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const C=m.batch,A=C.keys();let b=ce.resolve();return A.forEach(I=>{b=b.next(()=>y.getEntry(d,I)).next(L=>{const O=m.docVersions.get(I);Rt(O!==null),L.version.compareTo(O)<0&&(C.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),y.addEntry(L)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,C))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=ut();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function z8(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function xU(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const h=[];e.targetChanges.forEach((y,C)=>{const A=i.get(C);if(!A)return;h.push(t.Gr.removeMatchingKeys(o,y.removedDocuments,C).next(()=>t.Gr.addMatchingKeys(o,y.addedDocuments,C)));let b=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(C)!==null?b=b.withResumeToken(tr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,r)),i=i.insert(C,b),function(L,O,Y){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,b,y)&&h.push(t.Gr.updateTargetData(o,b))});let d=Xs(),m=ut();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(NU(o,l,e.documentUpdates).next(y=>{d=y.Is,m=y.Es})),!r.isEqual(Ze.min())){const y=t.Gr.getLastRemoteSnapshotVersion(o).next(C=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return ce.waitFor(h).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(t.us=i,o))}function NU(n,e,t){let r=ut(),i=ut();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Xs();return t.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Ze.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Is:l,Es:i}})}function LU(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OU(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new Io(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Bg(n,e,t){const r=Je(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!yu(l))throw l;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function y3(n,e,t){const r=Je(n);let i=Ze.min(),o=ut();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,y){const C=Je(d),A=C.cs.get(y);return A!==void 0?ce.resolve(C.us.get(A)):C.Gr.getTargetData(m,y)}(r,l,hs(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{o=d})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Ze.min(),t?o:ut())).next(h=>(DU(r,CF(e),h),{documents:h,ds:o})))}function DU(n,e,t){let r=n.ls.get(e)||Ze.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class _3{constructor(){this.activeTargetIds=bF()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MU{constructor(){this._o=new _3,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new _3,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function L1(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class BU extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,l){const h=L1(),d=this.No(t,r.toUriEncodedString());Le("RestConnection",`Sending RPC '${t}' ${h}:`,d,i);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,o,l),this.Bo(t,d,m,i).then(y=>(Le("RestConnection",`Received RPC '${t}' ${h}: `,y),y),y=>{throw Gl("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",d,"request:",i),y})}ko(t,r,i,o,l,h){return this.Oo(t,r,i,o,l)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,r){const i=FU[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const o=L1();return new Promise((l,h)=>{const d=new e8;d.setWithCredentials(!0),d.listenOnce(t8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case $d.NO_ERROR:const y=d.getResponseJson();Le(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),l(y);break;case $d.TIMEOUT:Le(lr,`RPC '${e}' ${o} timed out`),h(new je(ye.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:const C=d.getStatus();if(Le(lr,`RPC '${e}' ${o} failed with status:`,C,"response text:",d.getResponseText()),C>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const I=function(O){const Y=O.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Y)>=0?Y:ye.UNKNOWN}(b.status);h(new je(I,b.message))}else h(new je(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new je(ye.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Le(lr,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(i);Le(lr,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",m,r,15)})}qo(e,t,r){const i=L1(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=i8(),h=r8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=o.join("");Le(lr,`Creating RPC '${e}' stream ${i}: ${y}`,d);const C=l.createWebChannel(y,d);let A=!1,b=!1;const I=new UU({Eo:O=>{b?Le(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(A||(Le(lr,`Opening RPC '${e}' stream ${i} transport.`),C.open(),A=!0),Le(lr,`RPC '${e}' stream ${i} sending:`,O),C.send(O))},Ao:()=>C.close()}),L=(O,Y,q)=>{O.listen(Y,Z=>{try{q(Z)}catch(ae){setTimeout(()=>{throw ae},0)}})};return L(C,pc.EventType.OPEN,()=>{b||(Le(lr,`RPC '${e}' stream ${i} transport opened.`),I.So())}),L(C,pc.EventType.CLOSE,()=>{b||(b=!0,Le(lr,`RPC '${e}' stream ${i} transport closed`),I.Do())}),L(C,pc.EventType.ERROR,O=>{b||(b=!0,Gl(lr,`RPC '${e}' stream ${i} transport errored:`,O),I.Do(new je(ye.UNAVAILABLE,"The operation could not be completed")))}),L(C,pc.EventType.MESSAGE,O=>{var Y;if(!b){const q=O.data[0];Rt(!!q);const Z=q,ae=(Z==null?void 0:Z.error)||((Y=Z[0])===null||Y===void 0?void 0:Y.error);if(ae){Le(lr,`RPC '${e}' stream ${i} received error:`,ae);const ve=ae.status;let we=function(P){const B=yn[P];if(B!==void 0)return k8(B)}(ve),U=ae.message;we===void 0&&(we=ye.INTERNAL,U="Unknown error status: "+ve+" with message "+ae.message),b=!0,I.Do(new je(we,U)),C.close()}else Le(lr,`RPC '${e}' stream ${i} received:`,q),I.vo(q)}}),L(h,n8.STAT_EVENT,O=>{O.stat===Pg.PROXY?Le(lr,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Pg.NOPROXY&&Le(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function O1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n){return new GF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,t,r,i,o,l,h,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new j8(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Ys(t.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new je(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zU extends $8{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=YF(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?fs(l.readTime):Ze.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Ug(this.serializer),t.addTarget=function(o,l){let h;const d=l.target;if(h=Og(d)?{documents:JF(o,d)}:{query:eU(o,d).ct},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=N8(o,l.resumeToken);const m=Mg(o,l.expectedCount);m!==null&&(h.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ze.min())>0){h.readTime=Af(o,l.snapshotVersion.toTimestamp());const m=Mg(o,l.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=nU(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Ug(this.serializer),t.removeTarget=e,this.c_(t)}}class jU extends $8{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=ZF(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Ug(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>XF(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,Vg(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ye.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.ko(e,Vg(t,r),i,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new je(ye.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class WU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ys(t),this.C_=!1):Le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Ma(this)&&(Le("RemoteStore","Restarting streams for network reachability change."),await async function(d){const m=Je(d);m.k_.add(4),await hh(m),m.K_.set("Unknown"),m.k_.delete(4),await bp(m)}(this))})}),this.K_=new WU(r,i)}}async function bp(n){if(Ma(n))for(const e of n.q_)await e(!0)}async function hh(n){for(const e of n.q_)await e(!1)}function W8(n,e){const t=Je(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),vy(t)?_y(t):_u(t).s_()&&yy(t,e))}function gy(n,e){const t=Je(n),r=_u(t);t.B_.delete(e),r.s_()&&H8(t,e),t.B_.size===0&&(r.s_()?r.a_():Ma(t)&&t.K_.set("Unknown"))}function yy(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).V_(e)}function H8(n,e){n.U_.xe(e),_u(n).m_(e)}function _y(n){n.U_=new $F({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.K_.F_()}function vy(n){return Ma(n)&&!_u(n).i_()&&n.B_.size>0}function Ma(n){return Je(n).k_.size===0}function q8(n){n.U_=void 0}async function qU(n){n.K_.set("Online")}async function GU(n){n.B_.forEach((e,t)=>{yy(n,e)})}async function KU(n,e){q8(n),vy(n)?(n.K_.O_(e),_y(n)):n.K_.set("Unknown")}async function QU(n,e,t){if(n.K_.set("Online"),e instanceof x8&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const h of o.targetIds)i.B_.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.B_.delete(h),i.U_.removeTarget(h))}(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(n,r)}else if(e instanceof Gd?n.U_.$e(e):e instanceof P8?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ze.min()))try{const r=await z8(n.localStore);t.compareTo(r)>=0&&await function(o,l){const h=o.U_.it(l);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.B_.get(m);y&&o.B_.set(m,y.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,m)=>{const y=o.B_.get(d);if(!y)return;o.B_.set(d,y.withResumeToken(tr.EMPTY_BYTE_STRING,y.snapshotVersion)),H8(o,d);const C=new Io(y.target,d,m,y.sequenceNumber);yy(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),await If(n,r)}}async function If(n,e,t){if(!yu(e))throw e;n.k_.add(1),await hh(n),n.K_.set("Offline"),t||(t=()=>z8(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await bp(n)})}function G8(n,e){return e().catch(t=>If(n,t,e))}async function kp(n){const e=Je(n),t=Bo(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;YU(e);)try{const i=await LU(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,XU(e,i)}catch(i){await If(e,i)}K8(e)&&Q8(e)}function YU(n){return Ma(n)&&n.L_.length<10}function XU(n,e){n.L_.push(e);const t=Bo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function K8(n){return Ma(n)&&!Bo(n).i_()&&n.L_.length>0}function Q8(n){Bo(n).start()}async function ZU(n){Bo(n).w_()}async function JU(n){const e=Bo(n);for(const t of n.L_)e.g_(t.mutations)}async function eB(n,e,t){const r=n.L_.shift(),i=cy.from(r,e,t);await G8(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await kp(n)}async function tB(n,e){e&&Bo(n).f_&&await async function(r,i){if(function(l){return BF(l)&&l!==ye.ABORTED}(i.code)){const o=r.L_.shift();Bo(r).__(),await G8(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await kp(r)}}(n,e),K8(n)&&Q8(n)}async function w3(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=Ma(t);t.k_.add(3),await hh(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bp(t)}async function nB(n,e){const t=Je(n);e?(t.k_.delete(2),await bp(t)):e||(t.k_.add(2),await hh(t),t.K_.set("Unknown"))}function _u(n){return n.W_||(n.W_=function(t,r,i){const o=Je(t);return o.b_(),new zU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:qU.bind(null,n),mo:GU.bind(null,n),po:KU.bind(null,n),R_:QU.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),vy(n)?_y(n):n.K_.set("Unknown")):(await n.W_.stop(),q8(n))})),n.W_}function Bo(n){return n.G_||(n.G_=function(t,r,i){const o=Je(t);return o.b_(),new jU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ZU.bind(null,n),po:tB.bind(null,n),p_:JU.bind(null,n),y_:eB.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await kp(n)):(await n.G_.stop(),n.L_.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,h=new wy(e,t,l,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,e){if(Ys("AsyncQueue",`${e}: ${n}`),yu(n))return new je(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.z_=new tn(He.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Xe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zl{constructor(e,t,r,i,o,l,h,d,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Zl(e,t,Ml.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class iB{constructor(){this.queries=C3(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Je(t),o=i.queries;i.queries=C3(),o.forEach((l,h)=>{for(const d of h.J_)d.onError(r)})})(this,new je(ye.ABORTED,"Firestore shutting down"))}}function C3(){return new Oa(n=>g8(n),Cp)}async function sB(n,e){const t=Je(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new rB,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const h=Ey(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&Cy(t)}async function oB(n,e){const t=Je(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aB(n,e){const t=Je(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const h of l.J_)h.ta(i)&&(r=!0);l.H_=i}}r&&Cy(t)}function lB(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function Cy(n){n.X_.forEach(e=>{e.next()})}var zg,T3;(T3=zg||(zg={})).na="default",T3.Cache="cache";class uB{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.key=e}}class X8{constructor(e){this.key=e}}class cB{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ut(),this.mutatedKeys=ut(),this.Va=y8(e),this.ma=new Ml(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new E3,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,C)=>{const A=i.get(y),b=Tp(this.query,C)?C:null,I=!!A&&this.mutatedKeys.has(A.key),L=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;A&&b?A.data.isEqual(b.data)?I!==L&&(r.track({type:3,doc:b}),O=!0):this.ya(A,b)||(r.track({type:2,doc:b}),O=!0,(d&&this.Va(b,d)>0||m&&this.Va(b,m)<0)&&(h=!0)):!A&&b?(r.track({type:0,doc:b}),O=!0):A&&!b&&(r.track({type:1,doc:A}),O=!0,(d||m)&&(h=!0)),O&&(b?(l=l.add(b),o=L?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{ma:l,pa:r,ss:h,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((y,C)=>function(b,I){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return L(b)-L(I)}(y.type,C.type)||this.Va(y.doc,C.doc)),this.wa(r),i=i!=null&&i;const h=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,m=d!==this.Aa;return this.Aa=d,l.length!==0||m?{snapshot:new Zl(this.query,e.ma,o,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new E3,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ut(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new X8(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new Y8(r))}),t}va(e){this.da=e.ds,this.Ra=ut();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Zl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class hB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dB{constructor(e){this.key=e,this.Fa=!1}}class fB{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Oa(h=>g8(h),Cp),this.Oa=new Map,this.Na=new Set,this.La=new tn(He.comparator),this.Ba=new Map,this.ka=new fy,this.qa={},this.Qa=new Map,this.Ka=Xl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function pB(n,e,t=!0){const r=r9(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Z8(r,e,t,!0),i}async function mB(n,e){const t=r9(n);await Z8(t,e,!0,!1)}async function Z8(n,e,t,r){const i=await OU(n.localStore,hs(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await gB(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&W8(n.remoteStore,i),h}async function gB(n,e,t,r,i){n.Ua=(C,A,b)=>async function(L,O,Y,q){let Z=O.view.ga(Y);Z.ss&&(Z=await y3(L.localStore,O.query,!1).then(({documents:U})=>O.view.ga(U,Z)));const ae=q&&q.targetChanges.get(O.targetId),ve=q&&q.targetMismatches.get(O.targetId)!=null,we=O.view.applyChanges(Z,L.isPrimaryClient,ae,ve);return A3(L,O.targetId,we.ba),we.snapshot}(n,C,A,b);const o=await y3(n.localStore,e,!0),l=new cB(e,o.ds),h=l.ga(o.documents),d=ch.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=l.applyChanges(h,n.isPrimaryClient,d);A3(n,t,m.ba);const y=new hB(e,t,l);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function yB(n,e,t){const r=Je(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!Cp(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gy(r.remoteStore,i.targetId),jg(r,i.targetId)}).catch(gu)):(jg(r,i.targetId),await Bg(r.localStore,i.targetId,!0))}async function _B(n,e){const t=Je(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gy(t.remoteStore,r.targetId))}async function vB(n,e,t){const r=RB(n);try{const i=await function(l,h){const d=Je(l),m=In.now(),y=h.reduce((b,I)=>b.add(I.key),ut());let C,A;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=Xs(),L=ut();return d.hs.getEntries(b,y).next(O=>{I=O,I.forEach((Y,q)=>{q.isValidDocument()||(L=L.add(Y))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,I)).next(O=>{C=O;const Y=[];for(const q of h){const Z=DF(q,C.get(q.key).overlayedDocument);Z!=null&&Y.push(new Da(q.key,Z,u8(Z.value.mapValue),ds.exists(!0)))}return d.mutationQueue.addMutationBatch(b,m,Y,h)}).next(O=>{A=O;const Y=O.applyToLocalDocumentSet(C,L);return d.documentOverlayCache.saveOverlays(b,O.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:v8(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,h,d){let m=l.qa[l.currentUser.toKey()];m||(m=new tn(ct)),m=m.insert(h,d),l.qa[l.currentUser.toKey()]=m}(r,i.batchId,t),await dh(r,i.changes),await kp(r.remoteStore)}catch(i){const o=Ey(i,"Failed to persist write");t.reject(o)}}async function J8(n,e){const t=Je(n);try{const r=await xU(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ba.get(o);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?Rt(l.Fa):i.removedDocuments.size>0&&(Rt(l.Fa),l.Fa=!1))}),await dh(t,r,e)}catch(r){await gu(r)}}function S3(n,e,t){const r=Je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,l)=>{const h=l.view.ea(e);h.snapshot&&i.push(h.snapshot)}),function(l,h){const d=Je(l);d.onlineState=h;let m=!1;d.queries.forEach((y,C)=>{for(const A of C.J_)A.ea(h)&&(m=!0)}),m&&Cy(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wB(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),o=i&&i.key;if(o){let l=new tn(He.comparator);l=l.insert(o,dr.newNoDocument(o,Ze.min()));const h=ut().add(o),d=new Rp(Ze.min(),new Map,new tn(ct),l,h);await J8(r,d),r.La=r.La.remove(o),r.Ba.delete(e),Ty(r)}else await Bg(r.localStore,e,!1).then(()=>jg(r,e,t)).catch(gu)}async function EB(n,e){const t=Je(n),r=e.batch.batchId;try{const i=await PU(t.localStore,e);t9(t,r,null),e9(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await dh(t,i)}catch(i){await gu(i)}}async function CB(n,e,t){const r=Je(n);try{const i=await function(l,h){const d=Je(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(C=>(Rt(C!==null),y=C.keys(),d.mutationQueue.removeMutationBatch(m,C))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(r.localStore,e);t9(r,e,t),e9(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await dh(r,i)}catch(i){await gu(i)}}function e9(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function t9(n,e,t){const r=Je(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function jg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||n9(n,r)})}function n9(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(gy(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Ty(n))}function A3(n,e,t){for(const r of t)r instanceof Y8?(n.ka.addReference(r.key,e),TB(n,r)):r instanceof X8?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||n9(n,r.key)):Xe()}function TB(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.Na.add(r),Ty(n))}function Ty(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new He(Gt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new dB(t)),n.La=n.La.insert(t,r),W8(n.remoteStore,new Io(hs(ly(t.path)),r,"TargetPurposeLimboResolution",_p.oe))}}async function dh(n,e,t){const r=Je(n),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((h,d)=>{l.push(r.Ua(d,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const C=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,C?"current":"not-current")}if(m){i.push(m);const C=my.zi(d.targetId,m);o.push(C)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(d,m){const y=Je(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ce.forEach(m,A=>ce.forEach(A.Wi,b=>y.persistence.referenceDelegate.addReference(C,A.targetId,b)).next(()=>ce.forEach(A.Gi,b=>y.persistence.referenceDelegate.removeReference(C,A.targetId,b)))))}catch(C){if(!yu(C))throw C;Le("LocalStore","Failed to update sequence numbers: "+C)}for(const C of m){const A=C.targetId;if(!C.fromCache){const b=y.us.get(A),I=b.snapshotVersion,L=b.withLastLimboFreeSnapshotVersion(I);y.us=y.us.insert(A,L)}}}(r.localStore,o))}async function SB(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=await B8(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(h=>{h.forEach(d=>{d.reject(new je(ye.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dh(t,r.Ts)}}function AB(n,e){const t=Je(n),r=t.Ba.get(e);if(r&&r.Fa)return ut().add(r.key);{let i=ut();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const h=t.xa.get(l);i=i.unionWith(h.view.fa)}return i}}function r9(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=J8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wB.bind(null,e),e.Ma.R_=aB.bind(null,e.eventManager),e.Ma.Wa=lB.bind(null,e.eventManager),e}function RB(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CB.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ip(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return kU(this.persistence,new IU,e.initialUser,this.serializer)}ja(e){return new U8(py.ei,this.serializer)}za(e){return new MU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class IB extends bf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Rt(this.persistence.referenceDelegate instanceof Rf);const r=this.persistence.referenceDelegate.garbageCollector;return new dU(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new U8(r=>Rf.ei(r,t),this.serializer)}}class $g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SB.bind(null,this.syncEngine),await nB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iB}()}createDatastore(e){const t=Ip(e.databaseInfo.databaseId),r=function(o){return new BU(o)}(e.databaseInfo);return function(o,l,h,d){return new $U(o,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,h){return new HU(r,i,o,l,h)}(this.localStore,this.datastore,e.asyncQueue,t=>S3(this.syncEngine,t,0),function(){return v3.p()?new v3:new VU}())}createSyncEngine(e,t){return function(i,o,l,h,d,m,y){const C=new fB(i,o,l,h,d,m);return y&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Je(i);Le("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await hh(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=o8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Le("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Le("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ey(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D1(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await B8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function R3(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PB(n);Le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>w3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>w3(e.remoteStore,i)),n._onlineComponents=e}async function PB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{await D1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await D1(n,new bf)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),await D1(n,new IB(void 0));return n._offlineComponents}async function i9(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),await R3(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),await R3(n,new $g))),n._onlineComponents}function xB(n){return i9(n).then(e=>e.syncEngine)}async function NB(n){const e=await i9(n),t=e.eventManager;return t.onListen=pB.bind(null,e.syncEngine),t.onUnlisten=yB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_B.bind(null,e.syncEngine),t}function LB(n,e,t={}){const r=new xo;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,h,d,m){const y=new bB({next:A=>{y.eu(),l.enqueueAndForget(()=>oB(o,C));const b=A.docs.has(h);!b&&A.fromCache?m.reject(new je(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&d&&d.source==="server"?m.reject(new je(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new uB(ly(h.path),y,{includeMetadataChanges:!0,ua:!0});return sB(o,C)}(await NB(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(n,e,t){if(!t)throw new je(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OB(n,e,t,r){if(e===!0&&r===!0)throw new je(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function b3(n){if(!He.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function k3(n){if(He.isDocumentKey(n))throw new je(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function Jl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new je(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sy(n);throw new je(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P3({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P3(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zV;switch(r.type){case"firstParty":return new HV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=I3.get(t);r&&(Le("ComponentProvider","Removing Datastore"),I3.delete(t),r.terminate())}(this),Promise.resolve()}}function DB(n,e,t,r={}){var i;const o=(n=Jl(n,Pp))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=ur.MOCK_USER;else{h=J5(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new je(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ur(m)}n._authCredentials=new jV(new s8(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ay(this.firestore,e,this._query)}}class ni{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class No extends Ay{constructor(e,t,r){super(e,t,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new He(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function a9(n,e,...t){if(n=mr(n),o9("collection","path",e),n instanceof Pp){const r=Gt.fromString(e,...t);return k3(r),new No(n,null,r)}{if(!(n instanceof ni||n instanceof No))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return k3(r),new No(n.firestore,null,r)}}function xp(n,e,...t){if(n=mr(n),arguments.length===1&&(e=o8.newId()),o9("doc","path",e),n instanceof Pp){const r=Gt.fromString(e,...t);return b3(r),new ni(n,null,new He(r))}{if(!(n instanceof ni||n instanceof No))throw new je(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return b3(r),new ni(n.firestore,n instanceof No?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new j8(this,"async_queue_retry"),this.fu=()=>{const r=O1();r&&Le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=O1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=O1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new xo;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!yu(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw Ys("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=wy.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Xe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Np extends Pp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new x3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x3(e),this._firestoreClient=void 0,await e}}}function MB(n,e){const t=typeof n=="object"?n:R0(),r=typeof n=="string"?n:"(default)",i=up(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Y5("firestore");o&&DB(i,...o)}return i}function l9(n){if(n._terminated)throw new je(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VB(n),n._firestoreClient}function VB(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,m,y){return new oF(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,s9(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new kB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(tr.fromBase64String(e))}catch(t){throw new je(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new eu(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=/^__.*__$/;class UB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}function c9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class ky{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return kf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(c9(this.Mu)&&FB.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class BB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ip(e)}$u(e,t,r,i=!1){return new ky({Mu:e,methodName:t,Ku:r,path:er.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h9(n){const e=n._freezeSettings(),t=Ip(n._databaseId);return new BB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d9(n,e,t,r,i,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,i);g9("Data must be an object, but it was:",l,r);const h=p9(r,l);let d,m;if(o.merge)d=new zi(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const C of o.mergeFields){const A=zB(e,C,t);if(!l.contains(A))throw new je(ye.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);$B(y,A)||y.push(A)}d=new zi(y),m=l.fieldTransforms.filter(C=>d.covers(C.field))}else d=null,m=l.fieldTransforms;return new UB(new Ei(h),d,m)}function f9(n,e){if(m9(n=mr(n)))return g9("Unsupported field value:",e,n),p9(n,e);if(n instanceof u9)return function(r,i){if(!c9(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const h of r){let d=f9(h,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=In.fromDate(r);return{timestampValue:Af(i.serializer,o)}}if(r instanceof In){const o=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(i.serializer,o)}}if(r instanceof Iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eu)return{bytesValue:N8(i.serializer,r._byteString)};if(r instanceof ni){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof by)return function(l,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw h.qu("VectorValues must only contain numeric values.");return uy(h.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Sy(r)}`)}(n,e)}function p9(n,e){const t={};return a8(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(n,(r,i)=>{const o=f9(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function m9(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof In||n instanceof Iy||n instanceof eu||n instanceof ni||n instanceof u9||n instanceof by)}function g9(n,e,t){if(!m9(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Sy(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function zB(n,e,t){if((e=mr(e))instanceof Ry)return e._internalPath;if(typeof e=="string")return y9(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const jB=new RegExp("[~\\*/\\[\\]]");function y9(n,e,t){if(e.search(jB)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ry(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new je(ye.INVALID_ARGUMENT,h+n+d)}function $B(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v9("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WB extends _9{data(){return super.data()}}function v9(n,e){return typeof e=="string"?y9(n,e):e instanceof Ry?e._internalPath:e._delegate._internalPath}class HB{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return La(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>un(l.doubleValue));return new by(o)}convertGeoPoint(e){return new Iy(un(e.latitude),un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=wp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const t=Vo(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);Rt(F8(r));const i=new Fc(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(t)||Ys(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E9 extends _9{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(v9("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class GB extends E9{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){n=Jl(n,ni);const e=Jl(n.firestore,Np);return LB(l9(e),n._key).then(t=>QB(e,n,t))}class KB extends HB{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function C9(n,e,t){n=Jl(n,ni);const r=Jl(n.firestore,Np),i=w9(n.converter,e);return S9(r,[d9(h9(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ds.none())])}function T9(n,e){const t=Jl(n.firestore,Np),r=xp(n),i=w9(n.converter,e);return S9(t,[d9(h9(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ds.exists(!1))]).then(()=>r)}function S9(n,e){return function(r,i){const o=new xo;return r.asyncQueue.enqueueAndForget(async()=>vB(await xB(r),i,o)),o.promise}(l9(n),e)}function QB(n,e,t){const r=t.docs.get(e._key),i=new KB(n);return new E9(n,i,e._key,r,new qB(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){mu=i})($o),Oo(new Gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),h=new Np(new $V(r.getProvider("auth-internal")),new GV(r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new je(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(m.options.projectId,y)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Ti(K4,"4.7.5",e),Ti(K4,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="firebasestorage.googleapis.com",YB="storageBucket",XB=2*60*1e3,ZB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ws{constructor(e,t,r=0){super(M1(e),`Firebase Storage: ${t} (${M1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Es.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return M1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gs||(gs={}));function M1(n){return"storage/"+n}function JB(){const n="An unknown error occurred, please check the error payload for server response.";return new Es(gs.UNKNOWN,n)}function ez(){return new Es(gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tz(){return new Es(gs.CANCELED,"User canceled the upload/download.")}function nz(n){return new Es(gs.INVALID_URL,"Invalid URL '"+n+"'.")}function rz(n){return new Es(gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function N3(n){return new Es(gs.INVALID_ARGUMENT,n)}function R9(){return new Es(gs.APP_DELETED,"The Firebase app was deleted.")}function iz(n){return new Es(gs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ji.makeFromUrl(e,t)}catch{return new ji(e,"")}if(r.path==="")return r;throw rz(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function m(ae){ae.path_=decodeURIComponent(ae.path)}const y="v[A-Za-z0-9_]+",C=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",b=new RegExp(`^https?://${C}/${y}/b/${i}/o${A}`,"i"),I={bucket:1,path:3},L=t===A9?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",Y=new RegExp(`^https?://${L}/${i}/${O}`,"i"),Z=[{regex:h,indices:d,postModify:o},{regex:b,indices:I,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let ae=0;ae<Z.length;ae++){const ve=Z[ae],we=ve.regex.exec(e);if(we){const U=we[ve.indices.bucket];let x=we[ve.indices.path];x||(x=""),r=new ji(U,x),ve.postModify(r);break}}if(r==null)throw nz(e);return r}}class sz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(n,e,t){let r=1,i=null,o=null,l=!1,h=0;function d(){return h===2}let m=!1;function y(...O){m||(m=!0,e.apply(null,O))}function C(O){i=setTimeout(()=>{i=null,n(b,d())},O)}function A(){o&&clearTimeout(o)}function b(O,...Y){if(m){A();return}if(O){A(),y.call(null,O,...Y);return}if(d()||l){A(),y.call(null,O,...Y);return}r<64&&(r*=2);let Z;h===1?(h=2,Z=0):Z=(r+Math.random())*1e3,C(Z)}let I=!1;function L(O){I||(I=!0,A(),!m&&(i!==null?(O||(h=2),clearTimeout(i),C(0)):O||(h=1)))}return C(0),o=setTimeout(()=>{l=!0,L(!0)},t),L}function az(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(n){return n!==void 0}function L3(n,e,t,r){if(r<e)throw N3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw N3(`Invalid value for '${n}'. Expected ${t} or less.`)}function uz(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Pf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Pf||(Pf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,t,r,i,o,l,h,d,m,y,C,A=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=C,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===Pf.NO_ERROR,d=o.getStatus();if(!h||cz(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Pf.ABORT;r(!1,new kd(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new kd(m,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());lz(d)?o(d):o()}catch(d){l(d)}else if(h!==null){const d=JB();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(i.canceled){const d=this.appDelete_?R9():tz();l(d)}else{const d=ez();l(d)}};this.canceled_?t(!1,new kd(!1,null,!0)):this.backoffId_=oz(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&az(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function dz(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function fz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pz(n,e){e&&(n["X-Firebase-GMPID"]=e)}function mz(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function gz(n,e,t,r,i,o,l=!0){const h=uz(n.urlParams),d=n.url+h,m=Object.assign({},n.headers);return pz(m,e),dz(m,t),fz(m,o),mz(m,r),new hz(d,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function _z(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this._service=e,t instanceof ji?this._location=t:this._location=ji.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xf(e,t)}get root(){const e=new ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _z(this._location.path)}get storage(){return this._service}get parent(){const e=yz(this._location.path);if(e===null)return null;const t=new ji(this._location.bucket,e);return new xf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw iz(e)}}function O3(n,e){const t=e==null?void 0:e[YB];return t==null?null:ji.makeFromBucketSpec(t,n)}function vz(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:J5(i,n.app.options.projectId))}class wz{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=A9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XB,this._maxUploadRetryTime=ZB,this._requests=new Set,i!=null?this._bucket=ji.makeFromBucketSpec(i,this._host):this._bucket=O3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ji.makeFromBucketSpec(this._url,e):this._bucket=O3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xf(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new sz(R9());{const l=gz(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const D3="@firebase/storage",M3="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="storage";function Ez(n=R0(),e){n=mr(n);const r=up(n,I9).getImmediate({identifier:e}),i=Y5("storage");return i&&Cz(r,...i),r}function Cz(n,e,t,r={}){vz(n,e,t,r)}function Tz(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new wz(t,r,i,e,$o)}function Sz(){Oo(new Gs(I9,Tz,"PUBLIC").setMultipleInstances(!0)),Ti(D3,M3,""),Ti(D3,M3,"esm2017")}Sz();const Az={apiKey:"AIzaSyBLDtEm-sFClNIoKK1x0PAnI4A1bi_iMOY",authDomain:"sportstoreke.firebaseapp.com",projectId:"sportstoreke",storageBucket:"sportstoreke.firebasestorage.app",messagingSenderId:"764091017074",appId:"1:764091017074:web:c43ebf8cc5428c63ed5feb",measurementId:"G-D5X3KBGFM4"},xy=iw(Az),fh=MB(xy);Ez(xy);const Lp=ZO(xy),Rz=(n,e,t)=>{VL(Lp,n,e).then(r=>{t({isVisible:!0,type:"success",message:"Welcome Back!"})}).catch(async r=>{const i=await r.message;t({isVisible:!0,type:"error",message:i})})},Iz=(n,e,t,r)=>{ML(Lp,e,t).then(async i=>{const o=i.user,l=xp(fh,"users",o.email);if((await Py(l)).exists())return r({isVisible:!0,type:"error",message:"The user already exists! Login insted."});await C9(l,{email:o.email,username:n}).then(async d=>{r({isVisible:!0,type:"success",message:`User with ${o.email} has been registered successfully`})}).catch(async d=>{const m=await d.message;r({isVisible:!0,type:"error",message:m})})}).catch(async i=>{const o=await i.message;r({isVisible:!0,type:"error",message:o})})},bz=async(n,e)=>{try{const t=a9(fh,"users",n,"purchases"),r=await T9(t,{...e});setSuccess("Your Order Submitted Successfully.")}catch(t){const r=await t.message;setError(r)}},b9=async(n,e)=>{const t=await Py(xp(fh,"users",n));t.exists()?e(t.data()):console.error("User not found")},kz=async(n,e)=>{const t=a9(fh,"contacts");await T9(t,{...n,responded:!1}).then(async r=>{e({isVisible:!0,type:"success",message:"Thank You! We will get back to you as soon as possible."})}).catch(async r=>{const i=await r.message;e({isVisible:!0,type:"error",message:i})})},Pz=async(n,e,t)=>{try{const r=xp(fh,"mail-list",n.email);if((await Py(r)).exists())return e({isVisible:!0,type:"warning",message:"The email already exists! Try a new one."});await C9(r,{...n}),e({isVisible:!0,type:"success",message:"You are now subscribed to our newsletter."}),t("")}catch(r){e({isVisible:!0,type:"error",message:r.message||"An error occurred while subscribing."})}};var k9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V3=_e.createContext&&_e.createContext(k9),xz=["attr","size","title"];function Nz(n,e){if(n==null)return{};var t=Lz(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Lz(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Nf(){return Nf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nf.apply(this,arguments)}function F3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Lf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(t),!0).forEach(function(r){Oz(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Oz(n,e,t){return e=Dz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Dz(n){var e=Mz(n,"string");return typeof e=="symbol"?e:e+""}function Mz(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function P9(n){return n&&n.map((e,t)=>_e.createElement(e.tag,Lf({key:t},e.attr),P9(e.child)))}function eo(n){return e=>_e.createElement(Vz,Nf({attr:Lf({},n.attr)},e),P9(n.child))}function Vz(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=Nz(n,xz),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),_e.createElement("svg",Nf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Lf(Lf({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&_e.createElement("title",null,o),n.children)};return V3!==void 0?_e.createElement(V3.Consumer,null,t=>e(t)):e(k9)}function Fz(n){return eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(n)}function Uz(n){return eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m268 112 144 144-144 144m124-144H100"},child:[]}]})(n)}function Bz(n){return eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 244 144-144 144 144M256 120v292"},child:[]}]})(n)}function zz(n){return eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function jz(n){return eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}const $z="/assets/logo-kLsm-MXF.png",Wz=()=>{const[n,e]=ie.useState(!1),[t,r]=Zc(au),i=gr(),o=()=>{zL(Lp),r(null)},l=()=>{e(!n),document.querySelector("nav").classList.toggle("active")};return window.addEventListener("scroll",()=>{if(document.querySelector("nav").classList.contains("active"))document.querySelector("nav").classList.remove("active"),e(!1);else return}),V.jsxs("header",{children:[V.jsx(on,{to:"/",className:"logo",onClick:l,children:V.jsx("img",{src:$z})}),V.jsxs("nav",{children:[V.jsx(on,{to:"/",title:"home",onClick:l,state:{from:i},children:"Home"}),V.jsx(on,{to:"/store",title:"store",onClick:l,state:{from:i},children:"Store"}),V.jsx(on,{to:"/about",title:"about",onClick:l,state:{from:i},children:"About us"}),V.jsx(on,{to:"/contact",title:"get in touch",state:{from:i},children:"Contact Us"}),V.jsx("div",{className:"btn-container",children:t?V.jsx("span",{className:"btn",onClick:()=>{o(),l()},children:"Logout"}):V.jsxs(V.Fragment,{children:[V.jsx(on,{className:"btn",to:"login",onClick:l,state:{from:i},children:"Login"}),V.jsx(on,{className:"btn",to:"register",onClick:l,state:{from:i},children:"Register"})]})})]}),V.jsx("div",{className:"icon",id:"menu-bars",onClick:l,children:n?V.jsx(zz,{}):V.jsx(jz,{})})]})},Hz=()=>{const n=gr();return V.jsxs("div",{className:"footer theme",children:[V.jsxs("div",{className:"section-wrapper theme",children:[V.jsxs("section",{children:[V.jsx("h2",{children:"SportStoreKe"}),V.jsxs("div",{className:"items-container theme",children:[V.jsx(on,{to:"/",title:"SportStoreKe",state:{from:n},children:"Home"}),V.jsx(on,{to:"/store",title:"store",state:{from:n},children:"Store"}),V.jsx(on,{to:"/about",title:"about us",state:{from:n},children:"About SportStoreKe"})]})]}),V.jsxs("section",{children:[V.jsx("h2",{children:"Useful Links"}),V.jsxs("div",{className:"items-container theme",children:[V.jsx(on,{to:"/login",title:"login",state:{from:n},children:"Sign In"}),V.jsx(on,{to:"/register",title:"register",state:{from:n},children:"Get Started"}),V.jsx(on,{to:"/contact",title:"get in touch",state:{from:n},children:"Contact Us"})]})]})]}),V.jsx("hr",{}),V.jsxs("div",{className:"footer-bottom theme",children:[V.jsxs("p",{children:["© SportStoreKe ",new Date().getFullYear()]}),V.jsx(on,{to:"/about/#faq",title:"help",state:{from:n},children:"FAQ"})]})]})};function x9(){return V.jsxs("div",{className:"loader",children:[V.jsx("div",{id:"loader"}),V.jsx("section",{}),V.jsx("section",{})]})}const N9=()=>{const[n,e]=ie.useState(""),t=ip(lu),r=i=>{i.preventDefault(),Pz({email:n},t,e)};return V.jsxs("div",{className:"newsletter theme",id:"subscribe",children:[V.jsx("h3",{children:"Subscribe to our newsletter"}),V.jsx("p",{children:"Kindly fill the form below."}),V.jsxs("form",{onSubmit:r,children:[V.jsx("input",{type:"email",placeholder:"example@company.com",value:n,onChange:i=>e(i.target.value),pattern:"/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/"}),V.jsx("button",{type:"submit",children:"SUBMIT"})]})]})},qz=()=>V.jsxs("section",{className:"featured",children:[V.jsx("h1",{children:"Play Like A Pro"}),V.jsx("div",{className:"wrapper",children:rx.map(n=>V.jsxs("div",{className:"item",children:[V.jsx("div",{className:"emoji",children:n.emoji}),V.jsx("h3",{children:n.title})]},n.title))})]});function Gz(){const[n,e]=ie.useState(0),t=async r=>{e(r==="left"?n>0?n-1:y1.length-1:n<y1.length-1?n+1:0)};return ie.useEffect(()=>{setTimeout(()=>{t("right")},1e4)},[n]),V.jsxs("div",{className:"slider container",children:[V.jsx("div",{className:"arrow",onClick:()=>t("left"),children:V.jsx(Fz,{})}),V.jsx("div",{className:"wrapper",style:{transform:`translateX(${(n-1)*-100}vw)`},children:y1.map(r=>V.jsxs("div",{className:"slider",children:[V.jsx("div",{className:"background",style:{background:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(${r.img})`}}),V.jsx("p",{children:r.title}),V.jsx(on,{to:r.link,className:"btn",title:r.title.split(" ")[0]+"...",children:"LEARN MORE"})]},r.id))}),V.jsx("div",{className:"arrow",onClick:()=>t("right"),children:V.jsx(Uz,{})})]})}function L9(){return V.jsx("div",{className:"testimonials",children:V.jsx("div",{className:"wrapper",children:ix.map(n=>V.jsxs("div",{className:"testimonial",children:[V.jsxs("div",{className:"content",children:[V.jsxs("h1",{children:["_",n.title]}),V.jsx("p",{children:n.description})]}),V.jsx("h2",{id:"name",children:n.name})]},n.id))})})}function Kz(){return gr(),V.jsxs("div",{className:"flyer",children:[V.jsx("h1",{children:"Welcome to Your Ultimate Sports Gear Destination!"}),V.jsx("h2",{children:"Get the best sports accessories, from football boots to training gear. Shop now and elevate your game!"}),V.jsx(on,{to:"/store",className:"btn",children:"Explore"})]})}const Va=()=>{const n=gr();return ie.useLayoutEffect(()=>{window.scrollTo({top:0,behavior:"smooth"});const e=n.hash;if(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth"})}},[n]),null};var V1,U3;function Qz(){if(U3)return V1;U3=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var h,d,m;if(Array.isArray(o)){if(h=o.length,h!=l.length)return!1;for(d=h;d--!==0;)if(!i(o[d],l[d]))return!1;return!0}var y;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!l.has(d.value[0]))return!1;for(y=o.entries();!(d=y.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(y=o.entries();!(d=y.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(h=o.length,h!=l.length)return!1;for(d=h;d--!==0;)if(o[d]!==l[d])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(m=Object.keys(o),h=m.length,h!==Object.keys(l).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,m[d]))return!1;if(n&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&o.$$typeof)&&!i(o[m[d]],l[m[d]]))return!1;return!0}return o!==o&&l!==l}return V1=function(l,h){try{return i(l,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},V1}var Yz=Qz();const Xz=Ia(Yz);var F1,B3;function Zz(){if(B3)return F1;B3=1;var n=function(e,t,r,i,o,l,h,d){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[r,i,o,l,h,d],C=0;m=new Error(t.replace(/%s/g,function(){return y[C++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return F1=n,F1}var Jz=Zz();const z3=Ia(Jz);var U1,j3;function ej(){return j3||(j3=1,U1=function(e,t,r,i){var o=r?r.call(i,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),h=Object.keys(t);if(l.length!==h.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(t),m=0;m<l.length;m++){var y=l[m];if(!d(y))return!1;var C=e[y],A=t[y];if(o=r?r.call(i,C,A,y):void 0,o===!1||o===void 0&&C!==A)return!1}return!0}),U1}var tj=ej();const nj=Ia(tj);var O9=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(O9||{}),B1={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$3=Object.values(O9),Ny={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rj=Object.entries(Ny).reduce((n,[e,t])=>(n[t]=e,n),{}),$i="data-rh",Vl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Fl=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},ij=n=>{let e=Fl(n,"title");const t=Fl(n,Vl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Fl(n,Vl.DEFAULT_TITLE);return e||r||void 0},sj=n=>Fl(n,Vl.ON_CHANGE_CLIENT_STATE)||(()=>{}),z1=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),oj=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const h=i[o].toLowerCase();if(n.indexOf(h)!==-1&&r[h])return t.concat(r)}}return t},[]),aj=n=>console&&typeof console.warn=="function"&&console.warn(n),lc=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&aj(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,o)=>{const l={};o.filter(d=>{let m;const y=Object.keys(d);for(let A=0;A<y.length;A+=1){const b=y[A],I=b.toLowerCase();e.indexOf(I)!==-1&&!(m==="rel"&&d[m].toLowerCase()==="canonical")&&!(I==="rel"&&d[I].toLowerCase()==="stylesheet")&&(m=I),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(m=b)}if(!m||!d[m])return!1;const C=d[m].toLowerCase();return r[m]||(r[m]={}),l[m]||(l[m]={}),r[m][C]?!1:(l[m][C]=!0,!0)}).reverse().forEach(d=>i.push(d));const h=Object.keys(l);for(let d=0;d<h.length;d+=1){const m=h[d],y={...r[m],...l[m]};r[m]=y}return i},[]).reverse()},lj=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},uj=n=>({baseTag:oj(["href"],n),bodyAttributes:z1("bodyAttributes",n),defer:Fl(n,Vl.DEFER),encode:Fl(n,Vl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:z1("htmlAttributes",n),linkTags:lc("link",["rel","href"],n),metaTags:lc("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:lc("noscript",["innerHTML"],n),onChangeClientState:sj(n),scriptTags:lc("script",["src","innerHTML"],n),styleTags:lc("style",["cssText"],n),title:ij(n),titleAttributes:z1("titleAttributes",n),prioritizeSeoTags:lj(n,Vl.PRIORITIZE_SEO_TAGS)}),D9=n=>Array.isArray(n)?n.join(""):n,cj=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},j1=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(cj(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},W3=(n,e)=>({...n,[e]:void 0}),hj=["noscript","script","style"],Wg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),M9=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),dj=(n,e,t,r)=>{const i=M9(t),o=D9(e);return i?`<${n} ${$i}="true" ${i}>${Wg(o,r)}</${n}>`:`<${n} ${$i}="true">${Wg(o,r)}</${n}>`},fj=(n,e,t=!0)=>e.reduce((r,i)=>{const o=i,l=Object.keys(o).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,y)=>{const C=typeof o[y]>"u"?y:`${y}="${Wg(o[y],t)}"`;return m?`${m} ${C}`:C},""),h=o.innerHTML||o.cssText||"",d=hj.indexOf(n)===-1;return`${r}<${n} ${$i}="true" ${l}${d?"/>":`>${h}</${n}>`}`},""),V9=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=Ny[r];return t[i||r]=n[r],t},e),pj=(n,e,t)=>{const r={key:e,[$i]:!0},i=V9(t,r);return[_e.createElement("title",i,e)]},Kd=(n,e)=>e.map((t,r)=>{const i={key:r,[$i]:!0};return Object.keys(t).forEach(o=>{const h=Ny[o]||o;if(h==="innerHTML"||h==="cssText"){const d=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[h]=t[o]}),_e.createElement(n,i)}),wi=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>pj(n,e.title,e.titleAttributes),toString:()=>dj(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>V9(e),toString:()=>M9(e)};default:return{toComponent:()=>Kd(n,e),toString:()=>fj(n,e,t)}}},mj=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=j1(n,B1.meta),o=j1(e,B1.link),l=j1(t,B1.script);return{priorityMethods:{toComponent:()=>[...Kd("meta",i.priority),...Kd("link",o.priority),...Kd("script",l.priority)],toString:()=>`${wi("meta",i.priority,r)} ${wi("link",o.priority,r)} ${wi("script",l.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:l.default}},gj=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:l,title:h="",titleAttributes:d,prioritizeSeoTags:m}=n;let{linkTags:y,metaTags:C,scriptTags:A}=n,b={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:b,linkTags:y,metaTags:C,scriptTags:A}=mj(n)),{priority:b,base:wi("base",e,r),bodyAttributes:wi("bodyAttributes",t,r),htmlAttributes:wi("htmlAttributes",i,r),link:wi("link",y,r),meta:wi("meta",C,r),noscript:wi("noscript",o,r),script:wi("script",A,r),style:wi("style",l,r),title:wi("title",{title:h,titleAttributes:d},r)}},F9=gj,Pd=[],U9=!!(typeof window<"u"&&window.document&&window.document.createElement),Hg=class{constructor(n,e){Fs(this,"instances",[]);Fs(this,"canUseDOM",U9);Fs(this,"context");Fs(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Pd:this.instances,add:n=>{(this.canUseDOM?Pd:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Pd:this.instances).indexOf(n);(this.canUseDOM?Pd:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=F9({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},yj={},B9=_e.createContext(yj),ma,z9=(ma=class extends ie.Component{constructor(t){super(t);Fs(this,"helmetData");this.helmetData=new Hg(this.props.context||{},ma.canUseDOM)}render(){return _e.createElement(B9.Provider,{value:this.helmetData.value},this.props.children)}},Fs(ma,"canUseDOM",U9),ma),El=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${$i}]`),i=[].slice.call(r),o=[];let l;return e&&e.length&&e.forEach(h=>{const d=document.createElement(n);for(const m in h)if(Object.prototype.hasOwnProperty.call(h,m))if(m==="innerHTML")d.innerHTML=h.innerHTML;else if(m==="cssText")d.styleSheet?d.styleSheet.cssText=h.cssText:d.appendChild(document.createTextNode(h.cssText));else{const y=m,C=typeof h[y]>"u"?"":h[y];d.setAttribute(m,C)}d.setAttribute($i,"true"),i.some((m,y)=>(l=y,d.isEqualNode(m)))?i.splice(l,1):o.push(d)}),i.forEach(h=>{var d;return(d=h.parentNode)==null?void 0:d.removeChild(h)}),o.forEach(h=>t.appendChild(h)),{oldTags:i,newTags:o}},qg=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute($i),i=r?r.split(","):[],o=[...i],l=Object.keys(e);for(const h of l){const d=e[h]||"";t.getAttribute(h)!==d&&t.setAttribute(h,d),i.indexOf(h)===-1&&i.push(h);const m=o.indexOf(h);m!==-1&&o.splice(m,1)}for(let h=o.length-1;h>=0;h-=1)t.removeAttribute(o[h]);i.length===o.length?t.removeAttribute($i):t.getAttribute($i)!==l.join(",")&&t.setAttribute($i,l.join(","))},_j=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=D9(n)),qg("title",e)},H3=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:l,noscriptTags:h,onChangeClientState:d,scriptTags:m,styleTags:y,title:C,titleAttributes:A}=n;qg("body",r),qg("html",i),_j(C,A);const b={baseTag:El("base",t),linkTags:El("link",o),metaTags:El("meta",l),noscriptTags:El("noscript",h),scriptTags:El("script",m),styleTags:El("style",y)},I={},L={};Object.keys(b).forEach(O=>{const{newTags:Y,oldTags:q}=b[O];Y.length&&(I[O]=Y),q.length&&(L[O]=b[O].oldTags)}),e&&e(),d(n,I,L)},uc=null,vj=n=>{uc&&cancelAnimationFrame(uc),n.defer?uc=requestAnimationFrame(()=>{H3(n,()=>{uc=null})}):(H3(n),uc=null)},wj=vj,q3=class extends ie.Component{constructor(){super(...arguments);Fs(this,"rendered",!1)}shouldComponentUpdate(e){return!nj(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=uj(e.get().map(o=>{const l={...o.props};return delete l.context,l}));z9.canUseDOM?wj(i):r=F9(i),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Y1,Ej=(Y1=class extends ie.Component{shouldComponentUpdate(n){return!Xz(W3(this.props,"helmetData"),W3(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return z3($3.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$3.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),z3(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return _e.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,l=Object.keys(o).reduce((d,m)=>(d[rj[m]||m]=o[m],d),{});let{type:h}=r;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(r,i),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,i);break;default:e=this.mapObjectTypeChildren(r,e,l,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Hg)){const i=r;r=new Hg(i.context,!0),delete t.helmetData}return r?_e.createElement(q3,{...t,context:r.value}):_e.createElement(B9.Consumer,null,i=>_e.createElement(q3,{...t,context:i}))}},Fs(Y1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Y1);function Fa({title:n}){const e=gr(),t=`${window.location.origin}${e.pathname}`;return V.jsxs(Ej,{children:[V.jsx("meta",{charSet:"UTF-8"}),V.jsx("link",{rel:"icon",href:"/favicon.ico"}),V.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/logo32.png"}),V.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/logo16.png"}),V.jsx("link",{rel:"apple-touch-icon",href:"/logo192.png"}),V.jsx("link",{rel:"manifest",href:"/manifest.json",crossorigin:"anonymous"}),V.jsx("link",{rel:"shortcut icon",type:"image/x-icon",href:"/logo512.png"}),V.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=no"}),V.jsx("meta",{name:"theme-color",content:"#00BFFF"}),V.jsx("meta",{name:"description",content:"Shop the best sports accessories ✓Football Boots ✓Jerseys ✓Training Gear ✓Protective Equipment & more. Get top-quality sports gear for all your needs!"}),V.jsx("meta",{name:"keywords",content:"sports accessories, football gear, sports equipment, football boots, jerseys, training gear, protective gear, sportswear, fitness accessories, athletic apparel, football gloves, shin guards, football kits, sports shop, running shoes, gym accessories, team uniforms, sports merchandise, high-performance gear, sports clothing"}),V.jsx("meta",{name:"author",content:"SportStoreKe"}),V.jsx("link",{rel:"canonical",href:t}),V.jsx("meta",{property:"og:title",content:n}),V.jsx("meta",{property:"og:description",content:"Get all the latest ✓Fixed VIP Tips ✓Football Predictions, ✓Latest Football Betting Odds and livescores, results & fixtures for all leagues and competitions."}),V.jsx("meta",{name:"og:description",content:"Shop the best sports accessories ✓Football Boots ✓Jerseys ✓Training Gear ✓Protective Equipment & more. Get top-quality sports gear for all your needs!"}),V.jsx("meta",{property:"og:image",content:`${window.location.origin}/logo512.png`}),V.jsx("meta",{property:"og:url",content:t}),V.jsx("meta",{property:"og:type",content:"website"}),V.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),V.jsx("meta",{name:"twitter:title",content:n}),V.jsx("meta",{name:"twitter:description",content:"Shop the best sports accessories ✓Football Boots ✓Jerseys ✓Training Gear ✓Protective Equipment & more. Get top-quality sports gear for all your needs!"}),V.jsx("meta",{name:"twitter:image",content:`${window.location.origin}/logo512.png`}),V.jsxs("title",{children:[n," | SportStoreKe - Fixed VIP Football Tips & Predictions, Insights and News"]})]})}function j9(){const n=gr();return V.jsxs("div",{className:"products",id:"products",children:[V.jsx("h1",{className:"head",children:"Explore Our Store"}),V.jsx("div",{className:"wrapper",children:E0.map(e=>V.jsxs("div",{children:[V.jsx("h1",{children:e.plan}),V.jsx("div",{className:"image-container",children:V.jsx("img",{src:`${e.image}`,alt:""})}),V.jsx("h2",{children:V.jsxs("span",{children:["KSH",e.price]})}),V.jsx("h3",{children:e.title}),V.jsx("ul",{children:e.features.map(t=>V.jsx("li",{children:t},t.split(" ").join("_")))}),V.jsx("img",{src:"https://i.postimg.cc/2jV99bKc/Vector-1.png",alt:"bg",className:"table-bg"}),V.jsx(on,{className:"btn",style:{backgroundColor:e.color},state:{from:n,data:e},to:"/pay",children:"Buy Now"})]},e.id))})]})}function Cj(){return V.jsxs("div",{className:"Home",children:[V.jsx(Va,{}),V.jsx(Fa,{title:""}),V.jsx(Gz,{}),V.jsx(qz,{}),V.jsx(j9,{}),V.jsx(Kz,{}),V.jsx("h1",{children:"Testimonials"}),V.jsx("h2",{children:"What clients say"}),V.jsx(L9,{}),V.jsx(N9,{})]})}function Tj(){const[n,e]=ie.useState(null),t=r=>{e(i=>i===r?null:r)};return V.jsxs("div",{className:"container",id:"faq",children:[V.jsx("h1",{children:"FAQ's"}),V.jsx("h2",{children:"People ask for:"}),V.jsx("div",{className:"accordion",children:nx.map(r=>V.jsxs("div",{className:"accordion-item",onClick:()=>t(r.id),"aria-expanded":n===r.id,children:[V.jsxs("button",{id:`accordion-button-${r.id}`,children:[V.jsx("span",{className:"accordion-title",children:r.question}),V.jsx("span",{className:"icon","aria-hidden":"true"})]}),n===r.id&&V.jsx("div",{className:"accordion-content",children:V.jsx("p",{children:r.answer})})]},r.id))})]})}const Sj=()=>V.jsxs("div",{className:"about",children:[V.jsx(Va,{}),V.jsx(Fa,{title:"About"}),V.jsx("div",{className:"about-us",children:V.jsxs("div",{className:"info",children:[V.jsx("h1",{children:"About Us"}),V.jsx("p",{children:"Welcome to our online sports accessory store, your go-to destination for high-quality sports gear, apparel, and equipment! Whether you're an athlete, a fitness enthusiast, or a casual player, we provide everything you need to perform at your best."}),V.jsx("h1",{children:"For Athletes and Sports Enthusiasts"}),V.jsx("p",{children:"Explore our wide range of premium sports accessories, from football boots and jerseys to training equipment and protective gear. We carefully select products to help you train, compete, and enjoy your favorite sports with confidence."}),V.jsx("h1",{children:"For Teams and Coaches"}),V.jsx("p",{children:"We offer team kits, bulk orders, and customized gear for clubs, schools, and coaches looking to outfit their players with high-performance equipment. Our products are designed for durability and comfort, ensuring your team stays ahead of the competition."}),V.jsx("h1",{children:"Stay Ahead with the Latest Gear"}),V.jsx("p",{children:"We bring you the latest sports innovations, ensuring you have access to the best brands and cutting-edge gear. Subscribe to our updates and be the first to know about new arrivals, exclusive deals, and seasonal collections."}),V.jsx("h1",{children:"Our Mission"}),V.jsx("p",{children:"Our mission is to support athletes of all levels by providing top-quality sports accessories that enhance performance and comfort. We are passionate about sports and committed to helping you reach your goals. Join our community and experience the best in sports gear today!"}),V.jsxs("div",{className:"links",children:[V.jsx(on,{to:"/contact",title:"contact",className:"btn",children:"Contact Us"}),V.jsx(on,{to:"#subscribe",title:"newsletter",className:"btn",children:"Newsletter"})]})]})}),V.jsx(Tj,{}),V.jsx("h1",{children:"What Our Clients Say:"}),V.jsx(L9,{}),V.jsx(N9,{})]}),Aj=()=>{const n=w0(au),[e,t]=Zc(lu),[r,i]=ie.useState(""),[o,l]=ie.useState(""),[h,d]=ie.useState(""),m=y=>{y.preventDefault(),kz({name:r,email:o,message:h},t)};return ie.useEffect(()=>{e.type==="success"&&setTimeout(()=>{l(""),i(""),d("")},3e3)},[e]),ie.useEffect(()=>{n&&l(n.email)},[n]),V.jsxs("div",{className:"contact",children:[V.jsx(Va,{}),V.jsx(Fa,{title:"Contact"}),V.jsx("h1",{children:"Get Connected"}),V.jsx("h2",{children:"Feel free to ask any questions"}),V.jsxs("form",{onSubmit:m,children:[V.jsxs("div",{children:[V.jsx("input",{type:"text",placeholder:"NAME",required:!0,value:r,onChange:y=>i(y.target.value)}),V.jsx("input",{type:"email",placeholder:"EMAIL",required:!0,value:o,onChange:y=>l(y.target.value)})]}),V.jsx("textarea",{placeholder:"MESSAGE",required:!0,value:h,onChange:y=>d(y.target.value)}),V.jsx("button",{className:"btn",type:"submit",children:"SEND"})]})]})},Rj=()=>{const[n,e]=ie.useState(""),[t,r]=ie.useState(""),i=ip(lu),o=l=>{l.preventDefault(),n&&t?Rz(n,t,i):i({isVisible:!0,type:"warning",message:"You have entered an invalid email address!"})};return V.jsxs("div",{className:"auth",children:[V.jsx(Fa,{title:"Login"}),V.jsx(Va,{}),V.jsxs("form",{onSubmit:o,children:[V.jsx("h1",{children:"Welcome Back"}),V.jsx("label",{htmlFor:"email",children:"Email:"}),V.jsx("input",{type:"email",id:"email",placeholder:"example@company.com",value:n,onChange:l=>e(l.target.value),pattern:"/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/"}),V.jsx("label",{htmlFor:"password",children:"Password:"}),V.jsx("input",{type:"password",id:"password",placeholder:"******",value:t,onChange:l=>r(l.target.value)}),V.jsx("button",{type:"submit",className:"btn",children:"SIGN IN"})]}),V.jsxs("span",{children:["Don't have an account? Register ",V.jsx(on,{to:"/register",className:"login",children:"here"})]})]})},Ij=()=>{const[n,e]=ie.useState(""),[t,r]=ie.useState(""),[i,o]=ie.useState(""),l=ip(lu),h=async d=>{d.preventDefault(),t&&i?Iz(n,t,i,l):l({isVisible:!0,type:"warning",message:"You have entered an invalid email address!"})};return V.jsxs("div",{className:"auth",children:[V.jsx(Fa,{title:"Register"}),V.jsx(Va,{}),V.jsxs("form",{onSubmit:h,children:[V.jsx("h1",{children:"Get Started"}),V.jsx("label",{htmlFor:"email",children:"Email:"}),V.jsx("input",{type:"email",id:"email",placeholder:"example@company.com",value:t,onChange:d=>r(d.target.value),pattern:"/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/"}),V.jsx("label",{htmlFor:"username",children:"Username:"}),V.jsx("input",{type:"text",id:"username",placeholder:"username",value:n,onChange:d=>e(d.target.value),pattern:"/^[a-zA-Z0-9._-]{4,15}$/"}),V.jsx("span",{children:"username should be between 4 and 15 characters long and can include letters, numbers, underscores (_), periods (.), and hyphens (-)."}),V.jsx("label",{htmlFor:"password",children:"Password:"}),V.jsx("input",{type:"password",id:"password",placeholder:"******",value:i,onChange:d=>o(d.target.value)}),V.jsx("button",{type:"submit",className:"btn",children:"SIGN UP"})]}),V.jsxs("span",{children:["Already registered? Login ",V.jsx(on,{to:"/login",className:"login",children:"here"})]})]})};function bj(){return V.jsxs("div",{className:"not-found",children:[V.jsx(Fa,{title:"404 Error"}),V.jsx(Va,{}),V.jsx("h1",{children:"404 Error"}),V.jsx("h2",{className:"sub-heading",children:"PAGE NOT FOUND"}),V.jsx("button",{onClick:()=>{window.history.back()},className:"btn",children:"Go Back »"})]})}const kj=({children:n})=>w0(au)?n:V.jsx(oS,{to:"/login"}),G3=({children:n})=>{const e=w0(au),t=Df(),r=gr();return ie.useEffect(()=>{var i;if(e){const o=((i=r.state)==null?void 0:i.from)||"/";t(o,{replace:!0})}},[e,t,r]),e?null:n};function Pj(n){return eo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},child:[]}]})(n)}function xj(n){return eo({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(n)}function Nj(n){return eo({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"},child:[]}]})(n)}function Lj(n){return eo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.001 10h2v5h-2zM11 16h2v2h-2z"},child:[]},{tag:"path",attr:{d:"M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"},child:[]}]})(n)}function Oj(){const[n,e]=Zc(lu);ie.useEffect(()=>{if(n.isVisible){const i=setTimeout(()=>{e(l=>({...l,isVisible:!1}));const o=setTimeout(()=>{e(l=>({...l,type:null,message:null}))},1e3);return()=>clearTimeout(o)},3e3);return()=>clearTimeout(i)}},[n.isVisible,e]);const t=()=>{const i=setTimeout(()=>{e(l=>({...l,isVisible:!1}));const o=setTimeout(()=>{e(l=>({...l,type:null,message:null}))},1e3);return()=>clearTimeout(o)},3e3);return()=>clearTimeout(i)},r=()=>n.type==="error"?V.jsx(Lj,{className:"icon"}):n.type==="warning"?V.jsx(xj,{className:"icon"}):n.type==="success"?V.jsx(Pj,{className:"icon"}):null;return V.jsxs("div",{className:`notification ${n.isVisible?"show":"hide"} ${n.type}`,children:[r(),V.jsx("span",{className:"message",children:n.message}),V.jsx("span",{className:"close-btn",onClick:t,children:V.jsx(Nj,{})})]})}var Jt=function(){return Jt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jt.apply(this,arguments)};function Ly(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function K3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function an(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(t),!0).forEach(function(r){H9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ra(n){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(n)}function $9(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Q3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function W9(n,e,t){return e&&Q3(n.prototype,e),t&&Q3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function H9(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gg(n,e){if(n==null)return{};var t,r,i=function(l,h){if(l==null)return{};var d,m,y={},C=Object.keys(l);for(m=0;m<C.length;m++)d=C[m],h.indexOf(d)>=0||(y[d]=l[d]);return y}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Dj(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,r){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,l,h=[],d=!0,m=!1;try{for(i=i.call(t);!(d=(o=i.next()).done)&&(h.push(o.value),!r||h.length!==r);d=!0);}catch(y){m=!0,l=y}finally{try{d||i.return==null||i.return()}finally{if(m)throw l}}return h}}(n,e)||q9(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mj(n){return function(e){if(Array.isArray(e))return Kg(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||q9(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q9(n,e){if(n){if(typeof n=="string")return Kg(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kg(n,e):void 0}}function Kg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var Oy={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:`-----BEGIN PUBLIC KEY-----\r
MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r
ZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r
-----END PUBLIC KEY-----`,applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"},Vj=an(an({},Oy),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"}),Y3=an(an({},Oy),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"}),$r={dev:Vj,staging:Y3,production:an(an({},Oy),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})}.production||Y3;function G9(n,e){var t=[];return Object.keys(n).forEach(function(r){var i=e?"".concat(e,"[").concat(r,"]"):r,o=n[i];t.push(o!==null&&(typeof v>"u"?"undefined":Ra(v))==="object"?G9(o,i):"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(o)))}),t.join("&")}function Rl(){return document.currentScript||(n=document.getElementsByTagName("script"))[n.length-1];var n}function X3(){var n=[],e=Rl();if(e){var t=Array.prototype.slice.call(e.attributes);n=Object.keys(t).filter(function(r){var i=t[r].nodeName;return i&&i.indexOf("data")>-1}).map(function(r){return t[r].nodeName})}return n}var K9=`
  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>
  </svg>
`,Fj=`
<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"
  fill="#838383"
/>
</svg>
`,Uj=`
  <button type="button" id="apple-pay-close-button">
    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033
      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"
        fill="white"
      />
    </svg>
  </button>
`,Bj=`
<svg width="74" height="19" viewBox="0 0 74 19" fill="none" xmlns="http://www.w3.org/2000/svg" id="vault-logo">
  <g clip-path="url(#clip0_9910_9664)">
    <path
      d="M32.1273 15.8163H28.9432C28.6448 15.8163 28.4481 15.6622 28.3497 15.3507L25.1886 6.20188C25.1165 6.01825 25.1296 5.85101 25.2214 5.70345C25.3132 5.55589 25.451 5.48047 25.6346 5.48047H27.9693C28.2513 5.48047 28.435 5.63787 28.5202 5.94611L30.6648 12.9077L32.5536 5.94611C32.6388 5.63459 32.829 5.48047 33.1274 5.48047H35.4195C35.6031 5.48047 35.7441 5.55589 35.8425 5.70345C35.9409 5.85101 35.954 6.01825 35.8851 6.20188L32.7241 15.3507C32.6257 15.6622 32.4257 15.8163 32.1305 15.8163H32.1273Z"
      fill="#343C43" />
    <path
      d="M37.6361 14.5842C36.6097 13.5644 36.0981 12.2495 36.0981 10.6362C36.0981 9.02283 36.6097 7.71118 37.6361 6.69792C38.6624 5.68795 39.8757 5.17969 41.2759 5.17969C41.9416 5.17969 42.5384 5.31085 43.0696 5.57318C43.6008 5.83551 43.9943 6.16998 44.2468 6.57988V5.94373C44.2468 5.81584 44.2927 5.70763 44.3845 5.61581C44.4763 5.524 44.578 5.47809 44.6927 5.47809H46.8373C46.9652 5.47809 47.0701 5.524 47.1554 5.61581C47.2406 5.70763 47.2833 5.81584 47.2833 5.94373V15.3679C47.2833 15.4958 47.2406 15.6008 47.1554 15.686C47.0701 15.7713 46.9652 15.8139 46.8373 15.8139H44.6927C44.578 15.8139 44.4763 15.7713 44.3845 15.686C44.2927 15.6008 44.2468 15.4958 44.2468 15.3679V14.7088C43.991 15.1187 43.6008 15.4565 43.0696 15.7155C42.5384 15.9779 41.935 16.109 41.2562 16.109C39.8691 16.109 38.6624 15.6008 37.6361 14.581V14.5842ZM39.9151 8.79985C39.433 9.31795 39.1936 9.93443 39.1936 10.6558C39.1936 11.3772 39.433 11.997 39.9151 12.5118C40.3971 13.0299 40.9972 13.2857 41.7186 13.2857C42.44 13.2857 43.0401 13.0266 43.5221 12.5118C44.0041 11.997 44.2435 11.3772 44.2435 10.6558C44.2435 9.93443 44.0041 9.31467 43.5221 8.79985C43.0401 8.28502 42.44 8.02597 41.7186 8.02597C40.9972 8.02597 40.3938 8.28502 39.9151 8.79985Z"
      fill="#343C43" />
    <path
      d="M51.6315 5.9016V11.2302C51.6315 11.9385 51.8086 12.4959 52.1627 12.9058C52.5169 13.3157 53.0415 13.5223 53.7334 13.5223C54.4253 13.5223 54.9401 13.319 55.3139 12.9058C55.6878 12.4959 55.878 11.9516 55.878 11.2728V5.9016C55.878 5.78683 55.9239 5.68845 56.0157 5.60319C56.1075 5.51794 56.2092 5.47531 56.3239 5.47531H58.4685C58.6095 5.47531 58.7242 5.52122 58.8095 5.61303C58.8948 5.70485 58.9374 5.81306 58.9374 5.94094V15.3652C58.9374 15.4931 58.8948 15.598 58.8095 15.6832C58.7242 15.7685 58.6128 15.8111 58.4685 15.8111H56.3239C56.196 15.8111 56.0911 15.7718 56.0058 15.6931C55.9206 15.6144 55.878 15.5127 55.878 15.3848V14.7257C55.1139 15.6472 54.081 16.1062 52.7792 16.1062C51.4774 16.1062 50.4707 15.7062 49.7132 14.9061C48.9557 14.106 48.5786 13.0501 48.5786 11.7319V5.89504C48.5786 5.78027 48.6278 5.68189 48.7262 5.59664C48.8246 5.51138 48.9295 5.46875 49.0442 5.46875H51.1658C51.2937 5.46875 51.4019 5.51138 51.4938 5.59664C51.5856 5.68189 51.6315 5.78027 51.6315 5.89504V5.9016Z"
      fill="#343C43" />
    <path
      d="M62.9872 15.8148C62.0658 15.8148 61.387 15.582 60.9509 15.113C60.5115 14.6474 60.2917 14.0178 60.2917 13.2243V1.42267C60.2917 1.29478 60.3344 1.18657 60.4196 1.09475C60.5049 1.00294 60.6164 0.957031 60.7607 0.957031H62.8823C63.0233 0.957031 63.138 1.00294 63.2233 1.09475C63.3085 1.18657 63.3512 1.29478 63.3512 1.42267V12.6078C63.3512 12.8045 63.4069 12.9652 63.5217 13.0865C63.6332 13.2079 63.7906 13.2669 63.9873 13.2669H64.6464C64.9448 13.2669 65.0924 13.4144 65.0924 13.7129V15.2409C65.0924 15.6246 64.8956 15.8148 64.4989 15.8148H62.9905H62.9872Z"
      fill="#343C43" />
    <path
      d="M66.722 12.7378V8.04861H65.3644C65.2365 8.04861 65.1316 8.00271 65.0463 7.91089C64.9611 7.81907 64.9185 7.71086 64.9185 7.58298V5.94997C64.9185 5.82208 64.9611 5.71387 65.0463 5.62206C65.1316 5.53024 65.2365 5.48433 65.3644 5.48433H66.722V2.74626C66.722 2.60526 66.7679 2.49049 66.8597 2.40523C66.9515 2.31997 67.0597 2.27734 67.1876 2.27734H69.3518C69.4666 2.27734 69.5683 2.31997 69.6601 2.40523C69.7519 2.49049 69.7978 2.60198 69.7978 2.74626V5.48433H72.7064C72.8343 5.48433 72.9458 5.53024 73.0474 5.62206C73.1458 5.71387 73.195 5.82208 73.195 5.94997V7.58298C73.195 7.69775 73.1458 7.80268 73.0474 7.90105C72.949 7.99943 72.8343 8.04861 72.7064 8.04861H69.7978V12.0164C69.7978 12.4689 69.9027 12.7804 70.1159 12.9509C70.329 13.1214 70.5684 13.2067 70.8373 13.2067C71.1193 13.2067 71.4308 13.1083 71.7718 12.9083C72.1555 12.6689 72.4441 12.6951 72.6408 12.9935L73.3852 14.1806C73.5557 14.4495 73.5327 14.7052 73.3229 14.9446C72.6146 15.6792 71.5948 16.0497 70.2667 16.0497C69.2764 16.0497 68.437 15.7742 67.7516 15.2234C67.0663 14.6725 66.722 13.8428 66.722 12.741V12.7378Z"
      fill="#343C43" />
    <path
      d="M15.2266 0H4.43496C2.26089 0 0.5 1.76089 0.5 3.93496V14.7266C0.5 16.9006 2.26089 18.6615 4.43496 18.6615H15.2266C17.4006 18.6615 19.1615 16.9006 19.1615 14.7266V3.93496C19.1615 1.76089 17.4006 0 15.2266 0ZM15.079 12.2312L12.1442 14.6118C11.9114 14.8086 11.5507 14.6807 11.4949 14.379L10.8161 11.8934C10.7702 11.6934 10.8489 11.4868 11.0096 11.3589C11.4425 11.0113 11.7179 10.4801 11.7179 9.8833C11.7179 8.44048 10.098 7.37476 8.5765 8.40113C8.48468 8.46344 8.40598 8.54214 8.34368 8.63723C7.63539 9.68983 7.92723 10.7883 8.65192 11.3655C8.8126 11.4934 8.88474 11.6967 8.84211 11.8967L8.22891 14.3823C8.17317 14.6839 7.81246 14.8118 7.57964 14.6151L4.57924 12.2344C4.47431 12.1262 4.41856 11.9787 4.4284 11.8278L4.77271 6.69271C4.78582 6.49268 4.91371 6.31561 5.09734 6.23691L9.41924 4.03661C9.68157 3.9284 9.97341 3.9284 10.2357 4.03661L14.5576 6.23691C14.7445 6.31561 14.8691 6.49268 14.8855 6.69271L15.2299 11.8278C15.2397 11.9787 15.1839 12.1262 15.079 12.2344V12.2312Z"
      fill="#343C43" />
  </g>
  <defs>
    <clipPath id="clip0_9910_9664">
      <rect width="73" height="18.6615" fill="white" transform="translate(0.5)" />
    </clipPath>
  </defs>
</svg>
`,$1={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},Z3=function(n){return n&&Ra(n)==="object"?Object.keys($1).reduce(function(e,t){return an(an({},e),{},H9({},t,n[t]||$1[t]))},{}):$1},zj=`
  .pre-checkout-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.75);
    transition: all 0.2s ease;
  }

  .pre-checkout-modal.show {
    display: block;
  }

  .pre-checkout-modal__content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fefefe;
    padding: 20px;
    padding-bottom: max(30px, env(safe-area-inset-bottom));
    width: 100%;
    border-radius: 6px 6px 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 350px;

    box-sizing: border-box;
    transform: translateY(238px);
    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);
  }

  .modal-wrapper {
    width: 100%;
  }

  .payment-info {
    position: relative;
    padding-bottom: 15px;
    border-bottom: solid 1px whitesmoke;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .customer-email {
    color: #737373;
    font-size: 13px;
    line-height: 16px;
  }

  .customer-info {
    flex: 1;
    text-align: right;
  }

  .merchant-logo {
    display: flex;
    align-items: center;
    height: 30px;
  }
  .transaction-amount {
    margin-top: 5px;
    font-size: 13px;
    line-height: 16px;
    color: #737373;
  }

  .amount {
    color: #29b263;
    font-weight: bold;
  }

  @media only screen and (min-width: 500px) {
    .pre-checkout-modal__content {
      bottom: 0;
      top: 0;
      margin: auto;
      border-radius: 6px;
      height: fit-content;
    }
  }

  .pre-checkout-modal__content.show {
    transform: translateY(0);
    margin: 0 auto;
    margin-top: 100px;
  }

  .pre-checkout-modal__content > * {
    margin-top: 0;
    margin-bottom: 40px;
  }
  .pre-checkout-modal__content > *:last-child {
    margin-bottom: 0;
  }

  .pre-checkout-modal__content svg {
    margin: auto;
    width: 100%;
  }

  #inline-button-wordmark--white {
    position: absolute;
    bottom: -50px;
    margin: auto;
    left: 0;
    right: 0;
    width: fit-content;
  }

  #inline-button-wordmark--grey {
    display: none;
  }

  .pre-checkout-modal__content #apple-pay-mark--light {
    margin-bottom: 16px;
  }

  .pre-checkout-modal p {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    color: #4E4E4E;
    line-height: 140%;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    padding: 0 20px;
    text-align: center;
    letter-spacing: -0.3px;
  }

  .pre-checkout-modal button {
    height: 42px;
    width: 100%;
    
    box-sizing: border-box;
    border-radius: 3px;
    font-size: 14px;
    line-height: 24px;
    cursor: pointer;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .pre-checkout-modal .open-paystack-pop-button {
    background: #FAFAFA;
    border: 1px solid #F2F3F3;
    color: #4E4E4E;
    font-weight: 500;
  }

  .pre-checkout-modal .open-paystack-pop-button:hover, 
  .pre-checkout-modal .open-paystack-pop-button:active, 
  .pre-checkout-modal .open-paystack-pop-button:focus {
    background: #F2F3F3;
  }

  .pre-checkout-modal .pay-with-vault-button {
    font-weight: 700;
    background: #44b669;
    background: linear-gradient(to bottom, #44b669 0%, #40ad57 100%);
    border: solid 1px #49a861;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    outline: none;
    color: white;
    transition: all 300ms;
  }

  .pre-checkout-modal .vault-instruction {
    color: #2f3d4d;
    font-size: 14px;
    letter-spacing: normal;
    line-height: 1.4;
    margin: 0 auto 24px;
    padding: 0;
  }
  .vault-logo-container {
    width: 74px;
    height: 20px;
    margin: 0 auto 24px
  }
  .vault-logo-container img {
    height: 100%;
    width: 100%;
    border-radius: 8px;
  }
  .vault-divider {
    margin-bottom: 16px;
    margin-top: 24px;
    position: relative;
  }
  .vault-divider__container {
    align-items: center;
    bottom: 0;
    display: flex;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .vault-divider__line {
    border: 1px dashed #ccced0;
    width: 100%;
  }
  .vault-divider__text-container {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .vault-divider__text {
    background-color: #fff;
    color: #999da1;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: -.3px;
    line-height: 19.6px;
    margin-bottom: 2px;
    padding: 0 8px;
  }

  #payment-request-button {
    width: 100%;
    height: fit-content;
    margin: 24px 0 16px 0;
  }

  #paystackpop-button {
    padding: 0 16px;
  }

  #apple-pay-close-button {
    position: absolute;
    text-align: center;
    top: 0;
    right: -26px;
    height: 16px;
    width: 16px;
    padding: 0;
    display: inline-block;
    z-index: 3;
    border-radius: 50%;
    background: transparent;
    transition: all 300ms;
    outline: none;
    cursor: pointer;
    border: none;
  }

  #apple-pay-close-button svg {
    width: initial;
  }
  
  #apple-pay-close-button:hover {
    background-color: #e22b28;
  }

  @media only screen and (max-width: 500px) {
    .pre-checkout-modal__content {
      max-width: 500px;
      border-radius: 0;
      padding-bottom: 0;
    }

    .modal-wrapper {
      padding: 0;
    }

    .vault-logo-container {
      width: 74px;
      height: 20px;
    }

    #inline-button-wordmark--white {
      display: none
    }
    
    #inline-button-wordmark--grey {
      display: block;
      width: 100%;
      margin: 16px 0;
      height: 13px;
    }

    #apple-pay-close-button {
      display: none;
    }
  }
`,J3=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(parseFloat(n/100).toFixed(2))},e6={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function t6(n){return Object.keys(n).reduce(function(e,t){var r=encodeURIComponent(t),i=encodeURIComponent(n[t]),o="".concat(r,"=").concat(i);return[].concat(Mj(e),[o])},[]).join("&")}var jj=function(n){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[n]||"".concat(n.toUpperCase()," PLAN")},Q9=function(){try{return window.location&&window.location.protocol==="https:"&&window.ApplePaySession&&window.ApplePaySession.supportsVersion($r.applePayVersion)}catch{return!1}},Qg=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q9()&&n.includes("apple_pay")};function $j(){var n=0;return Array.from(document.querySelectorAll("body *")).forEach(function(e){var t=window.getComputedStyle(e),r=parseFloat(t.zIndex);!Number.isNaN(r)&&r>n&&(n=r)}),n}function W1(n){var e=document.createElement("iframe");return e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.id=n,e.style.display="none",e}function Qd(n){return n.querySelector("apple-pay-button")||n.querySelector("#apple-pay-button")}function xd(n){return document.querySelector("#".concat(n))}function n6(n,e,t){var r=e.channels,i=r===void 0?[]:r,o=e.styles,l=o===void 0?{}:o,h={applePay:!1};return new Promise(function(d,m){if(n)if(Qg(i)){if(Qd(n))return h.applePay=!0,void d(h);(function(y,C){return new Promise(function(A,b){var I=document.createElement("script");I.src=y,I.addEventListener("load",function(){A(!0)}),I.addEventListener("error",function(){I.remove(),b(!1)}),C?C.appendChild(I):document.head.appendChild(I)})})("https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js",n).then(function(){if(t&&t!==1077497&&window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(Ra(window.webpackJsonp),". Switching to fallback apple pay button"));(function(y,C){var A=C.styles,b=C.theme,I=document.createElement("style"),L=function(Y){var q=Y.height,Z=Y.width,ae=Y.borderRadius,ve=Y.padding;return`
  apple-pay-button {
    --apple-pay-button-width: `.concat(Z,`;
    --apple-pay-button-height: `).concat(q,`;
    --apple-pay-button-border-radius: `).concat(ae,`;
    --apple-pay-button-padding: `).concat(ve,`;
    --apple-pay-button-box-sizing: border-box;
    width: `).concat(Z,`;
  }
`)}(A);I.type="text/css",I.styleSheet?I.styleSheet.cssText=L:I.appendChild(document.createTextNode(L)),y.appendChild(I);var O=document.createElement("apple-pay-button");O.setAttribute("buttonstyle",b==="light"?"white":"black"),O.setAttribute("type",A.type),O.setAttribute("locale",A.locale),y.appendChild(O)})(n,{styles:Z3(l.applePay),theme:l.theme}),h.applePay=!0,d(h)}).catch(function(){(function(y,C){var A=C.styles,b=C.theme,I=document.createElement("style"),L=function(q){var Z=q.height,ae=q.width,ve=q.borderRadius,we=q.padding,U=q.type,x=q.locale;return`
  @supports (-webkit-appearance: -apple-pay-button) { 
    .apple-pay-button {
        display: inline-block;
        -webkit-appearance: -apple-pay-button;
        width: `.concat(ae,`;
        height: `).concat(Z,`;
        border-radius: `).concat(ve,`;
        padding: `).concat(we,`;
        -apple-pay-button-type: `).concat(U,`;
        -webkit-locale: `).concat(x,`;
    }
    .apple-pay-button-black {
        -apple-pay-button-style: black;
    }
    .apple-pay-button-white {
        -apple-pay-button-style: white;
    }
    .apple-pay-button-white-with-line {
        -apple-pay-button-style: white-outline;
    }
  }

  @supports not (-webkit-appearance: -apple-pay-button) {
    .apple-pay-button {
        display: inline-block;
        background-size: 100% 60%;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        border-radius: 5px;
        padding: 0px;
        box-sizing: border-box;
        min-width: 200px;
        min-height: 32px;
        max-height: 64px;
    }
    .apple-pay-button-black {
        background-image: -webkit-named-image(apple-pay-logo-white);
        background-color: black;
    }
    .apple-pay-button-white {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
    }
    .apple-pay-button-white-with-line {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
        border: .5px solid black;
    }
  }
`)}(A);I.type="text/css",I.styleSheet?I.styleSheet.cssText=L:I.appendChild(document.createTextNode(L)),y.appendChild(I);var O=document.createElement("button");O.classList.add("apple-pay-button",b==="light"?"apple-pay-button-white":"apple-pay-button-black"),O.id="apple-pay-button";var Y=document.createElement("span");Y.classList.add("logo"),O.appendChild(Y),y.appendChild(O)})(n,{styles:Z3(l.applePay),theme:l.theme}),h.applePay=!0,d(h)})}else m("No wallet payment method is available on this device");else m("Container to mount elements was not provided")})}function Wj(n){for(;n.firstChild;)n.removeChild(n.firstChild)}var Y9="payment-request-button",X9="paystackpop-button",Z9="pay-with-vault-button";function J9(n){var e=document.createElement("button");return e.id=X9,e.className="open-paystack-pop-button",e.innerText=n,e}function r6(n){return n.querySelector("#".concat(X9))}function eC(){var n=document.createElement("div");return n.id=Y9,n}function H1(n){return n.querySelector("#".concat(Y9))}function Hj(){var n=document.createElement("button");return n.className="pay-with-vault-button",n.id=Z9,n.innerText="Pay with Vault",n}function qj(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=document.createElement("div");t.className="vault-logo-container",t.innerHTML=Bj,n.appendChild(t);var r=document.createElement("p");r.id="instruction",r.className="vault-instruction",r.innerHTML="Access your saved cards and bank details for faster, more secure payments",n.appendChild(r);var i=Hj();n.appendChild(i);var o=document.createElement("div");if(o.className="vault-divider",o.innerHTML='<div id="vault-divider" class="vault-divider__container"><div class="vault-divider__line"></div></div><div class="vault-divider__text-container"><span class="vault-divider__text">or</span></div>',n.appendChild(o),e.canPayWithApplePay){var l=eC();n.appendChild(l)}var h=J9("Use other payment methods");n.appendChild(h)}function Gj(n){var e=document.createElement("div");e.innerHTML=`
  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">
    <g>
    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>
    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>
    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>
    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>
    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>
    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>
    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>
    </g>
    <defs>
    <clipPath id="clip0">
    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>
    </clipPath>
    </defs>
  </svg>
`,n.appendChild(e);var t=document.createElement("p");t.id="apple-pay-description",t.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",n.appendChild(t);var r=eC();n.appendChild(r);var i=J9("More payment options");n.appendChild(i)}var Nd=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]},{value:"language",required:!1,types:["string"]},{value:"connect_account",required:!1,types:["string"]},{value:"connect_split",required:!1,types:["array"]}];function Kj(n){var e,t=an({},n);return t.metadata=n.metadata||{},t.metadata.referrer=(e=window.location.href)&&e.length>500?e.split("?")[0]:e,t.metadata=JSON.stringify(t.metadata),t.mode="popup",n.split&&typeof n.split!="string"&&(t.split=JSON.stringify(t.split)),t.card!==void 0&&["false",!1].indexOf(t.card)>-1&&(t.channels=["bank"],delete t.card),t.bank!==void 0&&["false",!1].indexOf(t.bank)>-1&&(t.channels=["card"],delete t.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach(function(r){t[r.from]&&(t[r.to]=t[r.from],delete t[r.from])}),Object.values(n).forEach(function(r,i){if(typeof r=="function"){var o=Object.keys(n)[i];delete t[o]}}),t}var Qj=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],tC=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),nC=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.platform,t=n.userAgent,r=t===void 0?window&&window.navigator&&window.navigator.userAgent:t,i=e||tC;return Qj.includes(i)||r.includes("Mac")&&"ontouchend"in document},Yj=function(n,e,t){var r="".concat($r.paystackApiUrl,"transaction/update_log/").concat(n),i={Authorization:"Bearer ".concat(e)};return fetch(r,{method:"POST",body:JSON.stringify({payload:JSON.stringify(t)}),headers:i})},Xj=function(n,e){var t="".concat($r.paystackApiUrl,"transaction/set_ip/").concat(n),r={Authorization:"Bearer ".concat(e)};return fetch(t,{method:"POST",headers:r})},Zj={initializeLog:function(n){var e=n||{},t=e.attempts,r=e.authentication,i=e.errors,o=e.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:t||0,authentication:r,errors:i||0,success:!1,mobile:nC(),input:[],history:o||[]}},getTimeSpent:function(){var n=Math.round(Date.now()/1e3);return this.log.time_spent=n-this.log.start_time,this.log.time_spent},logAPIResponse:function(n,e){switch(n.status){case"success":return this.logApiSuccess(e);case"failed":return this.logApiError(n.message);default:return!1}},logValidationResponse:function(n){return this.log.history.push({type:"action",message:n,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(n){var e="Attempted to pay";return n&&(e+=" with ".concat(n)),this.log.attempts+=1,this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(n){var e="Error";return n&&(e+=": ".concat(n)),this.log.errors+=1,this.log.history.push({type:"error",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(n){var e="Successfully paid";return n&&(e+=" with ".concat(n)),this.log.success=!0,this.log.history.push({type:"success",message:e,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return Yj(this.id,this.response.merchant_key,this.log)}catch{}},saveIpAddress:function(){try{if(this.response)return Xj(this.id,this.response.merchant_key)}catch{}}},Jj=["language","connect_account"],e$={requestInline:function(){var n=this,e=this.urlParameters,t=e.language,r=e.connect_account,i=Gg(e,Jj),o=an({"Content-Type":"application/json"},t&&{"Accept-Language":t});return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),$r.paystackApiUrl).toString(),{headers:o}):fetch(new URL("/checkout/request_inline",$r.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(i),headers:an(an({},o),r&&{"x-connect-account":r})})).then(function(l){return l.json()}).then(function(l){if(l.status===!1)throw new Error(l.message);return n.response=l.data,n.id=l.data.id,n.status=l.data.transaction_status,n.accessCode=l.data.access_code,n.log=null,Object.assign(n,Zj),n.initializeLog(l.data.log),n.saveIpAddress(),l.data})}},q1=function(){function n(e){$9(this,n),function(m){function y(I,L){this.message=I,this.issues=L||[]}if(!m||Ra(m)!=="object")throw new y("Transaction parameters should be a non-empty object");var C=m;if("accessCode"in C)return{accessCode:C.accessCode};Object.keys(C).forEach(function(I){Nd.find(function(L){return L.value===I})!==void 0||delete C[I]});var A=Object.keys(C),b=[];if(Nd.filter(function(I){return I.required}).forEach(function(I){var L=!C[I.value],O=I.or?I.or.some(function(Y){return C[Y]}):null;L&&!O&&b.push({message:"Required parameter missing: ".concat(I.value)})}),A.forEach(function(I){var L=C[I],O=Nd.find(function(q){return q.value===I}),Y=Ra(L);Y==="object"&&Array.isArray(L)&&(Y="array"),O.types.indexOf(Y)<=-1&&b.push({message:"Invalid parameter type: ".concat(I),validTypes:O.types})}),A.forEach(function(I){var L=Nd.find(function(O){return O.value===I});L.override&&delete C[L.override]}),b.length)throw new y("Invalid transaction parameters",b)}(e),this.parameters=e,this.urlParameters=Kj(e),this.id=null,this.status=null,this.accessCode=e.accessCode||null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var t=e.onError,r=e.onLoad,i=e.onSuccess,o=e.onCancel,l=e.callback,h=e.onClose,d=e.onBankTransferConfirmationPending;this.callbacks={onError:t,onLoad:r,onSuccess:i,onCancel:o,onBankTransferConfirmationPending:d},this.deprecatedCallbacks={callback:l,onClose:h},Object.assign(this,e$)}return W9(n,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var t=e.id,r=e.customer,i=e.accessCode;Object.assign(this,{id:t,customer:r,accessCode:i}),this.authorizationUrl="".concat($r.checkoutUrl).concat(i),this.callbacks.onLoad&&this.callbacks.onLoad({id:t,customer:r,accessCode:i})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),n}(),Dy=console?console.warn||console.log:function(){};function i6(n,e,t){Dy('"'.concat(n,'" has been deprecated, please use "').concat(e,'". ').concat(t))}var et,t$=["preload","inlineTransaction"],n$=["container","styles","onElementsMount"];function G1(n,e){if(!n.length)return null;var t=n.filter(function(r){var i,o,l,h,d=!r.status||r.status==="abandoned",m=(i=r.parameters,o=e,l=Object.keys(i).sort().join("")===Object.keys(o).sort().join(""),h=Object.values(i).sort().join("")===Object.values(o).sort().join(""),l&&h);return d&&m});return t.length?t[t.length-1]:null}function s6(n){var e=n.checkoutIframe,t=n.urlParameters;e&&t&&e.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:t},"*")}var r$="trackCheckoutClosed",o6="trackPaymentError",i$="trackPaymentAttempt",s$="trackPaymentCompletion";function K1(n){throw Dy(n),new Error(n)}var a6,l6,rC=function(){function n(e){var t,r;$9(this,n),this.id=function(){for(var i="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=0;l<5;l+=1)i+=o.charAt(Math.floor(Math.random()*o.length));return i}(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=e&&e.isDeprecatedApi,e&&e.isEmbed?this.isEmbed=!0:e&&e.isPaymentRequest&&(e.container&&xd(e.container)||K1("A container is required to mount the payment request button"),this.paymentRequestContainer=xd(e.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=function(i){var o=W1("inline-background-".concat(i));o.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  background: rgba(0, 0, 0, 0.75);    
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: opacity 0.3s;
  -webkit-transition: opacity 0.3s;
  visibility: hidden;
  display: none;
`,document.body.appendChild(o);var l=o.contentWindow.document;return l.open(),l.write(`
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Paystack Popup Loader</title>
    <style>
      .app-loader {
        margin: 200px 0;
        text-align: center;
        color: white;
      }      
      @keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @-webkit-keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      .app-loader__spinner {
        position: relative;
        display: inline-block;
      }
      .app-loader__spinner div {
        left: 95px;
        top: 35px;
        position: absolute;
        -webkit-animation: app-loader__spinner linear 1s infinite;
        animation: app-loader__spinner linear 1s infinite;
        background: white;
        width: 10px;
        height: 30px;
        border-radius: 40%;
        -webkit-transform-origin: 5px 65px;
        transform-origin: 5px 65px;
      }
      .app-loader__spinner div:nth-child(1) {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
        -webkit-animation-delay: -0.916666666666667s;
        animation-delay: -0.916666666666667s;
      }
      .app-loader__spinner div:nth-child(2) {
        -webkit-transform: rotate(30deg);
        transform: rotate(30deg);
        -webkit-animation-delay: -0.833333333333333s;
        animation-delay: -0.833333333333333s;
      }
      .app-loader__spinner div:nth-child(3) {
        -webkit-transform: rotate(60deg);
        transform: rotate(60deg);
        -webkit-animation-delay: -0.75s;
        animation-delay: -0.75s;
      }
      .app-loader__spinner div:nth-child(4) {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        -webkit-animation-delay: -0.666666666666667s;
        animation-delay: -0.666666666666667s;
      }
      .app-loader__spinner div:nth-child(5) {
        -webkit-transform: rotate(120deg);
        transform: rotate(120deg);
        -webkit-animation-delay: -0.583333333333333s;
        animation-delay: -0.583333333333333s;
      }
      .app-loader__spinner div:nth-child(6) {
        -webkit-transform: rotate(150deg);
        transform: rotate(150deg);
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }
      .app-loader__spinner div:nth-child(7) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        -webkit-animation-delay: -0.416666666666667s;
        animation-delay: -0.416666666666667s;
      }
      .app-loader__spinner div:nth-child(8) {
        -webkit-transform: rotate(210deg);
        transform: rotate(210deg);
        -webkit-animation-delay: -0.333333333333333s;
        animation-delay: -0.333333333333333s;
      }
      .app-loader__spinner div:nth-child(9) {
        -webkit-transform: rotate(240deg);
        transform: rotate(240deg);
        -webkit-animation-delay: -0.25s;
        animation-delay: -0.25s;
      }
      .app-loader__spinner div:nth-child(10) {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        -webkit-animation-delay: -0.166666666666667s;
        animation-delay: -0.166666666666667s;
      }
      .app-loader__spinner div:nth-child(11) {
        -webkit-transform: rotate(300deg);
        transform: rotate(300deg);
        -webkit-animation-delay: -0.083333333333333s;
        animation-delay: -0.083333333333333s;
      }
      .app-loader__spinner div:nth-child(12) {
        -webkit-transform: rotate(330deg);
        transform: rotate(330deg);
        -webkit-animation-delay: 0s;
        animation-delay: 0s;
      }
      .app-loader__spinner {
        width: 40px;
        height: 40px;
        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
      }
    </style>
  </head>

  <body>
    <div id="app-loader" class="app-loader">
      <div id="spinner" class="app-loader__spinner">
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
  </body>

  </html>
`),l.close(),o}(this.id),this.checkoutIframe=(t=this.id,(r=W1("inline-checkout-".concat(t))).src="".concat($r.checkoutUrl,"popup"),r.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  visibility: hidden;
  display: none;
  height: 100%;
`,r.setAttribute("allowpaymentrequest","true"),r.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(r),r),this.registerListeners()}return W9(n,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",function(t){var r="".concat(t.origin,"/")===$r.checkoutUrl,i=e.checkoutIframe&&e.checkoutIframe.contentWindow===t.source,o=e.isEmbed;r||i?e.respondToEvent(t):o&&e.respondToEmbedEvents(t)})}},{key:"sendAnalyticsEventToCheckout",value:function(e,t){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:t},"*")}},{key:"checkout",value:function(e){this.activeTransaction()&&this.activeTransaction().cancel(),et=this;var t=G1(this.transactions,e)||new q1(e);return new Promise(function(r,i){t.requestInline().then(function(o){var l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=d.platform,y=d.userAgent,C=y===void 0?window&&window.navigator&&window.navigator.userAgent:y,A=m||tC,b=C&&!!C.match(/Version\/[\d.]+.*Safari/),I=A&&/(Mac)/i.test(A);return nC()||I&&b}()&&Qg(o.channels),h=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=!!d.custom_filters&&d.custom_filters.recurring,y=d.plan_details,C=m||y,A=!!d.link_config&&d.link_config.enabled&&d.link_config.has_payment_instruments;return!C&&A}(o);h||l?(et.preloadTransaction({inlineTransaction:t}),et.preCheckoutModal=function(d,m){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=document.querySelector("#pre-checkout-modal-".concat(d));if(C){if(r6(C)&&H1(C))return C;C.remove()}var A=document.createElement("div");A.classList.add("pre-checkout-modal"),A.id="pre-checkout-modal-".concat(d),A.style.zIndex=$j()+1;var b=document.createElement("div");b.classList.add("pre-checkout-modal__content"),A.appendChild(b);var I=m||{},L=I.merchant_logo,O=I.merchant_name,Y=I.email,q=I.amount,Z=I.currency,ae=I.label,ve=new Intl.NumberFormat("en",{style:"currency",currency:Z,currencyDisplay:"code",maximumFractionDigits:2,minimumFractionDigits:0}).format(q/100),we=document.createElement("div");we.classList.add("payment-info"),we.innerHTML='<img class="merchant-logo" src="'.concat(L,'" alt="').concat(O,` Logo">
    <div class="customer-info">
      <div class="customer-email">`).concat(ae||Y,`</div>
      <div class="transaction-amount">Pay <span class="amount">`).concat(ve,`</span></div>
    </div>`),b.appendChild(we),b.innerHTML+=Uj;var U=document.createElement("div");U.classList.add("modal-wrapper"),y.canPayWithVault?qj(U,{canPayWithApplePay:y.canPayWithApplePay}):Gj(U),U.innerHTML=U.innerHTML+K9+Fj,b.appendChild(U);var x=document.createElement("style");return x.textContent=zj,document.body.appendChild(x),document.body.appendChild(A),A}(et.id,o,{canPayWithVault:h,canPayWithApplePay:l}),l?(et.paymentRequestContainer=H1(et.preCheckoutModal),n6(et.paymentRequestContainer,{channels:o.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}},o.merchant_id).then(function(){et.registerPaymentRequestEventListeners(),et.openPreCheckoutModal()}).catch(function(){h?(H1(et.preCheckoutModal).remove(),et.openPreCheckoutModal()):(et.closePreCheckoutModal(),et.animateCheckoutIn())}).finally(function(){r(t)})):(et.openPreCheckoutModal(),r(t))):(et.newTransaction({inlineTransaction:t}),r(t))}).catch(function(o){t.onSetupError({status:!1,message:o.message}),i(o)})})}},{key:"openPreCheckoutModal",value:function(){var e;this.registerPreCheckoutModalEventListeners(),e=this.preCheckoutModal,new Promise(function(t,r){try{var i=e.querySelector(".pre-checkout-modal__content");e.classList.add("show"),setTimeout(function(){i.classList.add("show"),t(!0)},50)}catch(o){r(o)}})}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,t=this,r=!1,i=this.activeTransaction();document.addEventListener("touchstart",function(d){d.preventDefault(),r||(r=!0,e=setTimeout(function(){r=!1},125))},!0),document.addEventListener("touchend",function(d){d.target&&d.target.isSameNode(et.preCheckoutModal)&&r&&(clearTimeout(e),et.closePreCheckoutModal(),i&&i.cancel()),r=!1},!0);var o=r6(this.preCheckoutModal),l=this.preCheckoutModal.querySelector("#".concat(Z9));o.onclick=function(){t.closePreCheckoutModal(),t.animateCheckoutIn()},l&&(l.onclick=function(){t.closePreCheckoutModal(),t.animateCheckoutIn(),t.checkoutIframe.contentWindow.postMessage({type:"inline:pay-with-vault"},"*")});var h=function(d){return d.querySelector("#apple-pay-close-button")}(this.preCheckoutModal);h.onclick=function(){t.sendAnalyticsEventToCheckout(r$),t.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(e){var t;this.preCheckoutModal&&(e==="failed"?(t=this.preCheckoutModal)&&(t.querySelector("#apple-pay-mark--light").innerHTML=`<svg width="50" height="30" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="error-icon">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="error" fill-rule="nonzero">
            <path d="M9.14672,0.47855 L0.14829,15.47855 C-0.0403320234,15.7872042 -0.0475647902,16.1736607 0.129375884,16.4891566 C0.306316558,16.8046526 0.639843999,16.9999993 1.00157,17 L19.43546,17 C19.797186,16.9999993 20.1307134,16.8046526 20.3076541,16.4891566 C20.4845948,16.1736607 20.477362,15.7872042 20.28874,15.47855 L10.85328,0.47855 C10.671624,0.181297031 10.3483651,3.00996351e-06 10,3.00996351e-06 C9.6516349,3.00996351e-06 9.32837603,0.181297031 9.14672,0.47855 Z" id="Shape" fill="#FFAA22"></path>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="6" width="2" height="5"></rect>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="12" width="2" height="2"></rect>
        </g>
    </g>
</svg>`,t.querySelector("#apple-pay-description").textContent="An error occurred while paying with Apple Pay. Please try again or use another payment method."):(function(r){r&&(r.querySelector(".pre-checkout-modal__content").classList.remove("show"),r.classList.remove("show"))}(this.preCheckoutModal),this.preCheckoutModal.remove(),this.preCheckoutModal=null))}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var t,r=e.preload,i=e.inlineTransaction,o=Gg(e,t$),l=this.paymentRequestContainer&&Qd(this.paymentRequestContainer);this.activeTransaction()&&!l&&this.activeTransaction().cancel();var h=G1(this.transactions,i?i.parameters:o),d=h||i||new q1(o);return h?(d.isActive=!0,t={accessCode:d.accessCode}):(t=d.accessCode?{accessCode:d.accessCode}:d.urlParameters,this.transactions.push(d)),this.isDeprecatedApi||this.open(t,r),d}},{key:"preloadTransaction",value:function(e){var t=this;return this.newTransaction(an(an({},e),{},{preload:!0})),function(){return t.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var t=e.container,r=e.styles,i=e.onElementsMount,o=Gg(e,n$);return et=this,new Promise(function(l,h){var d=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if(Q9()){et.activeTransaction()&&et.activeTransaction().cancel(),t&&xd(t)||K1("A container is required to mount the payment request button"),et.paymentRequestContainer=xd(t);var m=G1(et.transactions,o),y=m||new q1(o);y.requestInline().then(function(b){n6(et.paymentRequestContainer,{channels:b.channels,styles:r},b.merchant_id).then(function(I){i&&i(I)}).catch(function(){i&&i(null)}).finally(function(){if(m?y.isActive=!0:et.transactions.push(y),et.registerPaymentRequestEventListeners(),d){var I=et.preloadTransaction({inlineTransaction:y});d.onclick=I}l(y)})}).catch(function(b){y.onSetupError({status:!1,message:b.message}),h(b)})}else{if(e&&e.loadPaystackCheckoutButton)if(d){var C=et.preloadTransaction(o);d.onclick=C}else Dy("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");i&&i(null);var A=et.activeTransaction();l(A)}})}},{key:"registerApplePayEventListener",value:function(){var e=this;Qd(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&Qg(e.response.channels)?this.registerApplePayEventListener():Wj(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,t,r,i,o,l=this,h="apple pay",d=this.activeTransaction();if(d){var m={channel:"apple_pay",paymentMethod:h,currency:d.currency,amount:d.amount},y={channel:"apple_pay",currency:d.currency,amount:d.amount,timeSpent:d.getTimeSpent()};try{d.logAttempt(h),this.sendAnalyticsEventToCheckout(i$,m);var C=(e={currency:d.response.currency,amount:d.response.amount,merchantName:d.response.merchant_name,interval:d.response.plan_details&&d.response.plan_details.interval},t=e.currency,r=e.amount,i=e.merchantName,o=e.interval,an({countryCode:"NG",currencyCode:t,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(i," - Paystack"),type:"final",amount:String(J3(r))}},typeof o=="string"&&o.trim()!==""&&{lineItems:[{label:jj(o),amount:String(J3(r))}]})),A=new window.ApplePaySession($r.applePayVersion,C);A.onvalidatemerchant=function(b){var I=function(L){var O=L.transactionId,Y=L.validationURL,q=L.merchantName,Z=L.domainName,ae=Z===void 0?window&&window.location&&window.location.hostname:Z,ve="".concat($r.paymentBaseUrl).concat($r.applePayValidateSessionPath),we=t6({transaction:O,sessionUrl:Y,displayName:q,domainName:ae});return fetch(ve,an(an({},e6),{},{body:we})).then(function(U){return U.json()})}({validationURL:b.validationURL,transactionId:d.id,merchantName:d.response.merchant_name});I.then(function(L){L.status!=="success"?d.onSetupError(L):A.completeMerchantValidation(L.data),d.logValidationResponse(L.message)}).catch(function(L){d.onSetupError(L)})},A.oncancel=function(){et.preCheckoutModal||d.onCancel()},A.onpaymentauthorized=function(b){var I=b.payment,L=function(O){var Y=O.transactionId,q=O.payment,Z="".concat($r.paymentBaseUrl).concat($r.applePayChargePath),ae=t6({transaction:Y,paymentObject:JSON.stringify(q)});return fetch(Z,an(an({},e6),{},{body:ae})).then(function(ve){return ve.json()})}({transactionId:d.id,payment:I});L.then(function(O){d.logAPIResponse(O,h),O.status==="success"?(A.completePayment(A.STATUS_SUCCESS),d.onSuccess(O),l.sendAnalyticsEventToCheckout(s$,y)):(A.completePayment(A.STATUS_FAILURE),d.onSetupError(O),l.sendAnalyticsEventToCheckout(o6,{channel:"apple_pay",message:O&&O.message||"Transaction attempt failed"})),et.closePreCheckoutModal(O.status)}).catch(function(O){A.completePayment(A.STATUS_FAILURE),d.onSetupError(O),l.sendAnalyticsEventToCheckout(o6,{channel:"apple_pay",message:O&&O.message||"Error occurred"}),et.closePreCheckoutModal("failed")})},A.begin()}catch(b){d.onSetupError(b)}}else K1("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){return this.newTransaction({accessCode:e})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter(function(r){return r.isActive}),t=e.length?e[e.length-1]:null;return t}},{key:"cancelTransaction",value:function(e){var t=this.transactions.find(function(r){return r.id===e})||this.activeTransaction();t&&(t.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var t,r,i=this.activeTransaction();try{var o=e.data||e.message,l=o.event,h=o.data;if(l)switch(l){case"loaded:checkout":this.isLoaded=!0,i&&s6({checkoutIframe:this.checkoutIframe,urlParameters:i.urlParameters});break;case"loaded:transaction":t=this.backgroundIframe,(r=t.contentWindow.document)&&(r.getElementById("app-loader").style.display="none"),i.onLoad(h);break;case"error":h.type==="setup"?i.onSetupError(h):i.logError(h);break;case"cancel":case"close":this.close();var d=h&&h.status;d&&i.setStatus(d),!(this.paymentRequestContainer&&Qd(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(i.isActive=!1),i.onCancel();break;case"transfer:pending":this.close();var m=h&&h.status;m&&i.setStatus(m),i.onBankTransferConfirmationPending();break;case"success":this.close(),i.onSuccess(h)}}catch{}}}},{key:"respondToEmbedEvents",value:function(e){var t,r,i=this.activeTransaction(),o=e.data||e.message;if(o&&(typeof o=="string"||o instanceof String)){var l={action:r=(t=o)&&typeof t=="string"?t.split(" ")[0]:null,data:r?t.split(" ").slice(2).join(" "):null};l&&l.action==="PaystackClose"&&l.data&&i.onSuccess(o),l.action==="PaystackTLSClose"&&i.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,t=this;if(!this.isOpen){var r=this.checkoutIframe,i=this.backgroundIframe;(e={checkoutIframe:r,backgroundIframe:i},new Promise(function(o,l){e||l("No dom element provided");var h=e.checkoutIframe,d=e.backgroundIframe;h&&d||l("No dom element provided"),h.style.display="",h.style.visibility="visible",d.style.display="",d.style.visibility="visible",o()})).then(function(){t.checkoutIframe.contentWindow.postMessage("render","*")}),this.isOpen=!0}}},{key:"open",value:function(e,t){e&&(s6({checkoutIframe:this.checkoutIframe,urlParameters:e}),t||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var t,r=this.checkoutIframe,i=this.backgroundIframe;(t={checkoutIframe:r,backgroundIframe:i},new Promise(function(o,l){t||l("No dom element provided");var h=t.checkoutIframe,d=t.backgroundIframe;h&&d||l("No dom element provided"),d.style.opacity=0,h.style.display="none",h.style.visibility="hidden",setTimeout(function(){d.style.display="none",d.style.visibility="hidden",d.style.opacity=1,o()},300)})).then(function(){e.checkoutIframe.contentWindow.postMessage("close","*")}),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(e){var t=e&&e.container;et||(et=new n({isDeprecatedApi:!0,isEmbed:t})),i6("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var r=et.newTransaction(e,"deprecated"),i=r.urlParameters;if(t){var o="".concat($r.siteUrl,"/assets/payment/production/inline.html?").concat(G9(i)),l=function(h,d){var m=W1("embed-checkout-".concat(h));return m.style.cssText=`
  background: transparent;
  background: rgba(0,0,0,0);
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  nmargin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  display: none;
`,m.src=d,m.id=h,m.name=h,m}(et.id,o);(function(h,d){var m=document.getElementById(h);m.innerHTML="",m.removeAttribute("style"),m.className="paystack-embed-container",m.style.position="relative",m.style.width="100%",m.appendChild(d)})(e.container,l),l.onload=function(){var h;l.contentWindow.postMessage("PaystackOpen ".concat(et.id),"*"),h=l,new Promise(function(d,m){h||m("No dom element provided"),h.style.display="",h.style.visibility="visible",d()})}}else r.openIframe=function(){i6("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),et.open(i)};return r}}]),n}();if(a6=X3().length>0,l6=Rl()&&Rl().parentElement.tagName==="FORM",a6&&l6){var Q1,ua=function(){var n={},e=Rl();return X3().forEach(function(t){var r=e.getAttribute(t),i=t.split("data-")[1].replace(/-([a-z])/g,function(o){return o[1].toUpperCase()});n[i]=r}),function(t){if(t.buttonId&&!document.getElementById(t.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var r=an({},t);r.buttonText=t.buttonText||"Pay",r.buttonVariant="normal",r.buttonWordmarkVariant="normal";var i=["normal","light"];return t.buttonVariant&&i.indexOf(t.buttonVariant)>-1&&(r.buttonVariant=t.buttonVariant),t.buttonWordmarkVariant&&i.indexOf(t.buttonWordmarkVariant)>-1&&(r.buttonWordmarkVariant=t.buttonWordmarkVariant),r}(n)}(),u6=Rl().parentElement;et||(et=new rC),function(n){var e;if(n.id)(e=document.getElementById(n.id)).setAttribute("data-inline-id",n.id);else{var t=document.createElement("div");t.id="inline-button-".concat(n.inlineId),t.innerHTML=function(r){var i,o,l={normal:`
  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>
    </svg>`,light:K9};return`
    <style>
      #inline-button-`.concat(r.inlineId,` {
        position: relative;
        text-align: center;
        display: inline-block;
      }
      #inline-button-`).concat(r.inlineId,`__trigger {
        `).concat((i=r.variant||"normal",o={normal:`
    background: linear-gradient(180deg,#44b669 0,#40ad57);
    text-shadow: 1px 1px 1px rgba(0,0,0,.1);
    color: #ffffff;
  `,light:`
    background: white;
    text-shadow: none;
    color: #011b33;
  `},"".concat(`
    box-sizing: border-box;
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    margin: 0 0 10px;
    text-align: center;
    -webkit-appearance: none;
    outline: none;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    padding: 16px 24px;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);
    transition: all .3s ease;
    border: none;
    min-width: 190px;
  `).concat(o[i])),`
      }
      #inline-button-`).concat(r.inlineId,`__trigger:hover {
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }
      #inline-button-`).concat(r.inlineId,`__trigger:active {
        transform: translateY(3px);
      }
    </style>
    <button id="inline-button-`).concat(r.inlineId,'__trigger" data-inline-id="').concat(r.inlineId,'">').concat(r.text||"Pay"," ").concat(r.currency||"NGN"," ").concat(r.amount,`</button>
    <div id="inline-button-`).concat(r.inlineId,`__wordmark">
      `).concat(l[r.wordmarkVariant||"normal"],`
    </div>
  `)}(n),n.parent.parentNode.insertBefore(t,n.parent.nextSibling),e=Dj(t.getElementsByTagName("button"),1)[0]}return e}({inlineId:et.id,amount:ua.amount/100,currency:ua.currency,id:ua.buttonId,text:ua.buttonText,variant:ua.buttonVariant,wordmarkVariant:ua.buttonWordmarkVariant,parent:Rl()}).addEventListener("click",function(n){n.preventDefault(),Q1?et.resumeTransaction(Q1.accessCode):Q1=et.newTransaction(an(an({},ua),{},{onSuccess:function(e){var t,r,i,o,l,h;t={type:"hidden",name:"reference",value:e.reference,parent:u6},r=t.type,i=t.value,o=t.name,l=t.parent,(h=document.createElement("input")).type=r,h.value=i,h.name=o,l.appendChild(h),u6.submit()}}))})}var o$=function(n){var e=new rC;e.newTransaction(n)};function iC(n){function e(t){var r=t.config,i=t.onSuccess,o=t.onClose,l=Jt(Jt({},n),r),h=l.publicKey,d=l.firstname,m=l.lastname,y=l.phone,C=l.email,A=l.amount,b=l.reference,I=l.metadata,L=l.currency,O=L===void 0?"NGN":L,Y=l.channels,q=l.label,Z=l.plan,ae=l.quantity,ve=l.subaccount,we=l.transaction_charge,U=l.bearer,x=l.split,P=l.split_code,B=l.connect_account,H=l.connect_split,X=l.onBankTransferConfirmationPending,D=Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt(Jt({onSuccess:i||function(){return null},onCancel:o||function(){return null},key:h,email:C,amount:A},d&&{firstname:d}),m&&{lastname:m}),y&&{phone:y}),b&&{ref:b}),O&&{currency:O}),Y&&{channels:Y}),I&&{metadata:I}),q&&{label:q}),X&&{onBankTransferConfirmationPending:X}),ve&&{subaccount:ve}),we&&{transaction_charge:we}),U&&{bearer:U}),x&&{split:x}),P&&{split_code:P}),Z&&{plan:Z}),ae&&{quantity:ae}),H&&{connect_split:H}),B&&{connect_account:B});o$(D)}return e}var a$=function(n){var e=n.text,t=n.className,r=n.children,i=n.onSuccess,o=n.onClose,l=n.disabled,h=Ly(n,["text","className","children","onSuccess","onClose","disabled"]),d=iC(h);return _e.createElement("button",{className:t,onClick:function(){return d({config:h,onSuccess:i,onClose:o})},disabled:l},e||r)},sC=ie.createContext({config:{},initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),l$=function(n){var e=n.children,t=n.onSuccess,r=n.onClose,i=Ly(n,["children","onSuccess","onClose"]),o=iC(i);return _e.createElement(sC.Provider,{value:{config:i,initializePayment:o,onSuccess:t,onClose:r}},e)},u$=function(n){var e=n.children,t=n.ref,r=ie.useContext(sC),i=r.config,o=r.initializePayment,l=r.onSuccess,h=r.onClose,d=function(){return o({config:i,onSuccess:l,onClose:h})};return e({initializePayment:d,ref:t})};ie.forwardRef(function(n,e){var t=n.children,r=n.onSuccess,i=n.onClose,o=Ly(n,["children","onSuccess","onClose"]),l=r||function(){return null},h=i||function(){return null};return _e.createElement(l$,Jt({},o,{onSuccess:l,onClose:h}),_e.createElement(u$,{ref:e},t))});function c$(){const[n,e]=Zc(au),[t,r]=ie.useState(!1),[i,o]=ie.useState("mpesa"),l=gr(),[h,d]=ie.useState(sx);ip(lu);const m=Df();ie.useEffect(()=>{l.state?d(l.state.data):d(E0[0])},[l]);const y={reference:new Date().getTime().toString(),email:n?n.email:"coongames8@gmail.com",amount:i==="mpesa"?h&&h.price*100||h.price*100:(h&&h.price*100)/129||h.price*100/129,publicKey:"pk_live_bddd84f711046f4cb7bfd24aa6a640af0dbfd784",currency:i==="mpesa"?"KES":"USD",metadata:{name:n?n.email:"coongames8@gmail.com"},text:"PAY NOW",onSuccess:async C=>{const A=new Date().toISOString();await bz(n.email,{date:A,delivered:!1,paid:!0,amount:h.price,item:h.title}).then(()=>{b9(n.email,e)}).then(()=>{m("/",{replace:!0})})},onClose:()=>{}};return V.jsxs("div",{className:"pay",children:[V.jsx(Fa,{title:"Booking"}),V.jsx(Va,{}),t&&V.jsx(x9,{}),h&&V.jsxs("h4",{children:["Payment Of ",i==="mpesa"?`KSH ${h.price}`:`$ ${(h.price/129).toFixed(2)}`]}),h&&V.jsxs("h4",{children:[h.plan," Plan For A ",h.billing]}),V.jsxs("form",{className:"method",children:[V.jsxs("fieldset",{children:[V.jsx("input",{name:"payment-method",type:"radio",value:"mpesa",id:"mpesa",checked:i==="mpesa",onChange:C=>o(C.target.value)}),V.jsx("label",{htmlFor:"mpesa",children:"📲 Mobile Payment"})]}),V.jsxs("fieldset",{children:[V.jsx("input",{name:"payment-method",type:"radio",value:"card",id:"card",checked:i==="card",onChange:C=>o(C.target.value)}),V.jsx("label",{htmlFor:"card",children:"💳 Credit Card"})]})]}),V.jsx(a$,{...y,className:"btn"})]})}function h$(){const[n,e]=ie.useState(!0),[t,r]=Zc(au),[i,o]=ie.useState(!1);ie.useEffect(()=>{const h=BL(Lp,d=>{d?b9(d.email,r):r(null),e(!1)});return()=>h()},[r]),ie.useEffect(()=>{const h=()=>{o(window.scrollY>200)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const l=()=>{window.scrollTo({top:0,behavior:"smooth"})};return V.jsx("div",{className:"App",children:n?V.jsx(x9,{}):V.jsxs(V.Fragment,{children:[V.jsx(JS,{type:"cobweb",bg:!0,color:"#ebf4fc"}),V.jsx(Wz,{}),V.jsx(Oj,{}),V.jsxs(lS,{children:[V.jsx(Us,{path:"/",element:V.jsx(Cj,{})}),V.jsx(Us,{path:"store",element:V.jsx(j9,{})}),V.jsx(Us,{path:"pay",element:V.jsx(kj,{children:V.jsx(c$,{})})}),V.jsx(Us,{path:"about",element:V.jsx(Sj,{})}),V.jsx(Us,{path:"contact",element:V.jsx(Aj,{})}),V.jsx(Us,{path:"login",element:V.jsx(G3,{children:V.jsx(Rj,{})})}),V.jsx(Us,{path:"register",element:V.jsx(G3,{children:V.jsx(Ij,{})})}),V.jsx(Us,{path:"*",element:V.jsx(bj,{})})]}),i&&V.jsx("button",{className:"btn top",title:"to top",onClick:l,children:V.jsx(Bz,{})}),V.jsx(Hz,{})]})})}yT.createRoot(document.getElementById("root")).render(V.jsx(WP,{children:V.jsx(NS,{children:V.jsx(ie.StrictMode,{children:V.jsx(z9,{children:V.jsx(h$,{})})})})}));
